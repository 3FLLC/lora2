







                             Lora Bulletin Board System and
                               Electronic Mail Interface

                              Version 2.40 (DOS and OS/2)



                     Copyright (c) 1989 - 1995 by Marco Maccaferri
                                  All rights reserved










                                 SYSOP OPERATION MANUAL











                     CopyRight (c) 1989 - 1995 by Marco Maccaferri
                                  All rights reserved


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.0 - Introduction
         =====================================================================

         Lora was born in an unknown day of 1988, when the only local BBS
         entered Fidonet, using the best software of those days, namely Opus-
         CBCS.

         The initial target was indeed that of imitating Opus, and in this way
         increasing my knowledge of personal computers (I bought an 8 MHz XT
         clone just before) and of programming as well.

         The result has been Lora v1.00, a nearly perfect Opus clone. Lora had
         a Opus-Like behaviour until version 1.11, that ended the first period
         of Lora development.

         Due to the many bugs caused by a bad knowledge of C language with
         which the program has been written, I decided to change everything
         and to "build" Lora again from the beginning.

         The 2.00 version was published in the first days of 1992, after
         nearly a year of work, in which I rewrote completely the source code
         and 90% of its behaviour.

         Now, Lora experiences a new aesthetic metamorphosis, and has become
         the program I planned on a school desk in autumn 1988.
































                                         -   -                                           2


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.1 - Main features
         ---------------------------------------------------------------------

         - Both DOS and OS/2 release available.

         - Supporting up to five different message bases simultaneously (with
           no differences seen by the users). Presently Lora supports the
           standard Fido-Base (*.MSG), the QuickBBS (also known as Hudson
           message base), the PIP-Base, the Squish-Mail<Tm> made by Scott J.
           Dudley, and The GoldBase that is an extension of the Hudson base
           with nearly no limitations on the messages number and size.

         - Supporting an infinite number of message/file areas.

         - Hyper-Scan function for fast user and message/file areas search.

         - Compatible built-in front-end Fidonet Mailer, FTSC-0001, WaZOO and
           full EMSI capable.

         - Supporting three and four dimension points at the same time.

         - Supporting Aka's and ZoneGates.

         - Supporting Janus bi-directional protocol for mail transfer.

         - Supporting multitaskers, leaving unused time to the active task,
           and local networks.

         - Supporting many tasks with one directory and one configuration file
           only.

         - Integrated multiline chat.

         - Support for up to twenty different languages, for a full
           international system.

         - Memory swap in EMS, XMS or disk during the execution of external
           doors (leaving in memory only 1.6K for the recovery code, DOS
           version only).

         - Supporting AVATAR/0+ protocol in alternative to ANSI-BBS

         - Userlist features 12 access levels and 32 configurable flags.

         - Support for RemoteAccess 1.11, Maximus CBCS 2.00 and SuperBBS 1.16
           compatible Embedded Commands.

         - Built-in TimeBank, FileBank and BBS List doors.

         - Support for off-line mail readers compatible with the QWK packet
           format, BlueWave mail, as well as human readable ASCII format.

         - Remote clock synchronisation in WaZOO and EMSI sessions.




                                             -                                           3                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         - Automatic clock synchronisation with an Atomic Clock, compatible
           with the Galileo Ferraris Institute of Torino, Italy.

         - User limits (such as on-line time, download limits, etc.) overrides
           in a single user basis.

         - Exclusive ZModem auto-upload feature, your users can upload files
           at any menu prompt.

         - Support for new 16800 baud, 19200 baud, USRobotics V32terbo (21600
           baud), V.FAST (28800 baud) connection speed and FAX modems.

         - Support for ISDN connection speed (38000, 56000 and 64000 baud).

         - Integrated ANSI/VT100 and Avatar terminal emulation, awareness of
           downloading and uploading files using all the protocols, including
           external protocols.

         - IEMSI (Interactive EMSI) for user's automatic login and parameter
           settings.

         - Support for internet e-mail (not newsgroups) areas.

         - Supporting external file transfer protocols, such as Omen
           Technology's DSZ and GSZ.

         - Internet-capable. Lora can link your BBS to the worldwide internet
           society, opening your board to millions of potential users all
           around the world (OS/2 version only).




























                                           4                                         -   -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.2 - Multiline systems
         ---------------------------------------------------------------------

         Lora is perfectly able to manage multiline systems that use
         multitaskers or LANs. Every temporary file created by Lora contains
         the task number in its name, to avoid contemporary access to the same
         files.

         If the system uses multitaskers like DesqView, DoubleDOS or
         Multilink, Lora is able to recognise the environment by itself and to
         release the CPU time, if not used, to the other active tasks.

         On the command line it's possible to set both the task number and the
         log file to be created. These two parameters replace the default
         parameters set in the configuration file. It's possible also to omit
         these parameters in the configuration file and to set them on the
         command line only.

         If you don't use external programs that don't support multitask
         usage, it's not necessary to create a work directory for each line.
         If you want different directories for each task, it's possible to
         tell to Lora where to find its configuration file, using the LORA
         environment variable (i.e. SET LORA=C:\LORA).

         Lora looks for the configuration file in the current directory, then
         in the directory specified by the command line parameter -C, and then
         in the directory set by the LORA environment variable.

         If you load SHARE.EXE before executing your multitasker or if the
         multitasker supports the file sharing mode by itself, you must set
         the READ ONLY attribute for LORA.EXE and LORA.OVL, otherwise you may
         experience sharing violation errors because the overlay manager keeps
         the executable files open.
























                                         -   -                                           5


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.3 - The compressed message base
         ---------------------------------------------------------------------

         Lora  introduces for the first time the concept of the compressed
         message base in the Bulletin Board System world.

         It's a new kind of message storing technique, aiming at optimising
         the disk space needed to contain a large volume of messages.

         The PIP Base, created by Roberto Piola and supported in a BBS program
         by Lora 2.00, is the first effective implementation towards the
         development of this technique.

         All the messages are stored in a unique file (with different files
         for each area) and the text is compressed using the letter frequency
         method. Actually, the most used letter is reduced to a single byte,
         and expanded again in the reading phase.

         This method allows an average 35% compression of the normal text.
         That means, considering a typical message base of 10 Mbytes, a saving
         of 3.5 Mbytes.

         To use this compressed message base with Lora, change the 'Storage'
         parameter of the message areas set-up menu, until 'Pip-base' is
         displayed. Make sure to configure the 'Pip-base path' (General /
         Paths menu) field to reflect an existing directory.































                                           6                                         -   -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.4 - The INTERNET connection
         ---------------------------------------------------------------------

         Everyone wants Internet. Now internet is here and is available to
         everyone. Lora can open your board to the millions of users of the
         internet by allowing your users telnet capabilities out to other
         systems or receive incoming telnet calls from other internet hosts.

         This implementation of internet access via Lora requires OS/2 (2.1 or
         later) and IBM'S TCP/IP version 2.0 for OS/2, or OS/2 Warp and the
         Internet Access Kit.

         The telnet out function is working thanks to the TELDOR program
         written by Russel John Coker. What follows is an excerpt from the
         TELDOR original documentation:

              Telnet Door is a program that I initially wrote because             ``
             I wanted to connect my BBS to the Internet via a UNIX
             system.  I wrote this door to enable users of my system
             to login to my UNIX system via OS/2s TCP/IP networking,
             and from access the Internet from there (once I get a
             connection).  I soon realised that many other sysops want
             to do the same thing, so I decided to release this as
             shareware.''

              This program requires at least OS/2 version 2.0 running             ``
             IBM's TCP/IP networking software version 2.0 (I believe
             that my program is compatible with FTP software's TCP/IP
             for OS/2, but I haven't been able to test it).
             Requirements for RAM and hard drive space are so small
             that it won't make an impact on the typical BBS system.''

              This program has been extensively tested on an OS/2             ``
             system running OS/2 version 2.11 and the "Warp" beta with
             IBM's TCP/IP version 2.00 on a 486.  The target system of
             the TELNET was a 386 running Linux (kernel versions
             1.1.19 to 1.1.51 and utilities from the Slackware 1.2.0.3
             distribution) and was on an ethernet segment.  Although I
             haven't tested them, other types of TCP/IP networks
             (SLIP, Token Ring, etc) should all work.  TCP/IP hides
             the network hardware from my application so the actual
             hardware interface being used shouldn't matter.''

             ``              To register post a cheque or International bank draft
             for $25 Australian per line of your BBS which will be
             running my program to:

             Russell Coker,
             PO Box 584,
             Lilydale, 3140,
             Victoria Australia.

             Note the new PO box address!




                                           7 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


             To get the latest version and for technical support you
             can send EMAIL to your choice of the following addresses:

             rjc@snoopy.apana.org.au.
             Russell Coker @ 3:633/363.0 @ fidonet

             Or call my BBS directly on +61-3-739-7145.''

              To get the             ``          absolutely latest version FREQ "TELDOR" from
             3:633/363@fidonet, download it from files area OBBS in my
             BBS as the latest file that matches "TELDR" (do a locate
             to find it), or do an anonymous FTP from my Internet
             system (snoopy.apana.org.au).  Also many other sites have
             copies of my program, the systems hobbes.nmsu.edu and
             ftp-os2.cdrom.com get copies soon after release
             and they both have Internet links that are thousands of
             times faster than mine so you may prefer to FTP from them
             instead of from me.  But if you are paranoid about
             corrupt files or something then feel free to download it
             from snoopy.apana.org.au.  Snoopy is an Internet host
             that is totally administered by myself.''

              I am currently running a mailing list for UUencoded             ``
             copies of this program. This means that people who have
             Internet EMAIL addresses don't have to do anything to
             keep up to date with the very latest versions of my
             program, they can just automatically receive copies in
             their mail account without having to do anything.  If you
             are interested in this idea then just send me an EMAIL
             message to my Internet address and I'll put you on the
                  ''             list.


























                                         -   -                                           8


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.5 - Acknowledgements
         =====================================================================

         I would like to thank all the Beta-testers, for the help given in
         developing Lora, and particularly:

         Marcello Ardini,     for supporting with his patience (and his
                              programs) the bugs of the software and the
                              crashes of the system in Alpha-test.

         Mario Battacchi,     for the translation of this manual and for his
                              unfailing support even in the worst moments.
                              It's only Mario who up until now has supported
                              the bugs of Version 1.11 of Lora.

         Roberto Piola,       for giving me the source code of his PIP-Base,
                              the new Italian compressed message base.

         Alfonso Martone,     for his hundreds suggestions and hints in the
                              development of the software. He gave me also
                              part of the source code to help me in the
                              implementation of the new features required.

         Andrea Borgia,       for having beta-tested the Lora 4d point
                              management.

         Riccardo DeAgostini, for the development of the RPN calculator source
                              code.

         Giovanni Fasano,     for the source code related to the Squish's
                              personal mail scanner.

         Fabio Coatti,        for the help fixing some of the nasty bugs that
                              where found in the previous releases.

         Special thanks to all the people  who  registered  and  will soon
         register Lora. I'm sorry if I forgot somebody, please don't worry,
         but feel you free to inform me, so that I can insert you in the next
         documentation.


















                                         - 9 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         1.6 - Credits
         ---------------------------------------------------------------------

         The following products and names are the copyrighted material and/or
         trademarks of their copyright and/or trademark holders respectively.


         QuickBBS         The QuickBBS Group, Inc.
         DESQview         Quarterdeck Office Systems
         BinkleyTerm,
         Janus            Bit Bucket Software
         FidoNet          Tom Jennings
         MS-DOS           Microsoft Corporation
         X00, VX00        Ray Gwinn
         BNU              David Nugent
         Dr.Comm          Rocco Rionero
         IBM, OS/2        International Business Machines
         Opus, WaZOO      Wynn Wagner III
         RemoteAccess     Andrew Milner
         SuperBBS         Aki Antman and Risto Virkalla
         Maximus-CBCS,
         Squish           Scott J. Dudley
         EMSI             Johaquim Homrighausen
         HS/Link          Samuel H. Smith
         Puma/MPT         Matthew Thomas
         GoldEd           Odinn Sorensen
         Wedit            Franco Schinco
         Pip-base         Roberto Piola
         Mercurio         Giovanni Lopes Pegna
         DSZ, GSZ         Omen Technology
         GIGO             Jason Fesler
         TELDOR           Russel John Coker

























                                         - 10 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.0 - User's License
         =====================================================================

         LoraBBS E-mail System, from now Lora, is not a public domain program,
         but belongs to the category of programs called "shareware". The
         distribution of the program is limited to this user licence.

         You are free to use Lora for a restricted period of time (up to 30
         days) to evaluate it's features, and to decide if it fulfils your
         needs.

         When this period is expires, if you whish to go on using it, you must
         to register following the instructions described later.

         Lora is not a life-limited program; it will work also without
         registration, but some secondary features will remain disabled.

         To registration, please send a postal order or a not transferable
         check to the address listed in the `Support and registration sites'
         section that pertains your location. Certain sites accept credit card
         registrations. Please refer to the Support and registration sites
         section below for specifics. The amount of the fee depends on your
         particular configuration.

         The registration alpha-numeric code you receive will work also on
         subsequent releases. The author has the right of changing the key
         coding at any time, and (if necessary) of asking a new registration,
         at his judgement only.

         No guarantee of any kind is given for the functioning of Lora. If you
         want to use it you will do so at your own risk. Due to the particular
         method of software distribution, the author is not obliged to refund
         partially or entirely your registration fee if you suffer damage in
         your system that may be caused by the use of Lora.

         You are encouraged to distribute the original archive of Lora without
         limits only if the money you receive is just what is necessary to
         cover postal and diskettes costs.

         It's strictly forbidden to distribute the personal registration code.

         The source code of this and later versions of Lora will not be
         distributed.

         For any inconvenience, you can reach the author at the E-Mail
         addresses listed in the `Support and registration sites' section. We
         have little time, but sooner or later everybody will receive an
         answer.









                                         - 11 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.1 - Registration
         =====================================================================

         To register Lora, you must send a postal order or a not transferable
         check to Marco Maccaferri (the address is shown above); the amount
         depends upon your particular configuration.

         Site license and group discounts are available, write to Marco
         Maccaferri at the address below (via paper mail or electronic mail)
         for more informations.

         If you register Lora you will have the following additional features:

         - Keyboard lock by password. The local use of the keyboard will be
           possible, but all functions like Alt-X, Dos Shell, etc. will be
           disabled.

         - Possibility of disabling the internal front-end mailer to use Lora
           with other programs (FrontDoor, D'Bridge, BinkleyTerm, etc.).

         - More than 2 remote lines allowed. Without registration it's
           possible to use only task 1 and 2 for remote operations, other task
           numbers will drop in a local logon.

         - Memory swap during external doors (DOS version only).

         - Possibility of using the internal Areafix and Raid (TIC manager)
           alike functions for the automatic management of echomail and file
           links.

         - Possibility of including key sequences in the internal keyboard
           buffer during the execution of BBS commands.

         - Possibility of using file-semaphores for certain operations in
           multitasking environments.

         - Access to the beta releases.




















                                              -                                         - 12


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.2 - Registration fees
         ---------------------------------------------------------------------

         [1] Special FidoNet Sysop (DOS) ................ Lit.  60.000   ($46)
             Special FidoNet Sysop (OS/2) ............... Lit.  60.000   ($46)
             Special FidoNet Sysop (DOS + OS/2) ......... Lit.  80.000   ($60)
             Special FidoNet Sysop (Crossgrade) ......... Lit.  30.000   ($23)
              Software will work up to 2 telephone lines.

         [2] 5 Lines (DOS) .............................. Lit. 100.000   ($76)
             5 Lines (OS/2) ............................. Lit. 100.000   ($76)
             5 Lines (DOS + OS2) ........................ Lit. 140.000  ($106)
             5 Lines (Crossgrade) ....................... Lit.  50.000   ($38)

         [3] 10 Lines (DOS) ............................. Lit. 150.000  ($116)
             10 Lines (OS/2) ............................ Lit. 150.000  ($116)
             10 Lines (DOS + OS/2) ...................... Lit. 210.000  ($162)
             10 Lines (Crossgrade) ...................... Lit.  75.000   ($58)

         [4] Unlimited Lines (DOS) ...................... Lit. 250.000  ($190)
             Unlimited Lines (OS/2) ..................... Lit. 250.000  ($190)
             Unlimited Lines (DOS + OS/2) ............... Lit. 350.000  ($260)
             Unlimited Lines (Crossgrade) ............... Lit. 125.000   ($95)

         [5] Point registration (DOS) ................... Lit.  35.000   ($30)
             Point registration (OS/2) .................. Lit.  35.000   ($30)
             Point registration (DOS + OS/2) ............ Lit.  45.000   ($40)
             Point registration (Crossgrade) ............ Lit.  17.500   ($15)
             The software works completely on a single
             telephone line, does not accept incoming
             calls, and the BBS section works only in
             local mode.

         [6] Upgrades from a number of lines
             to a greater one ........................... Prices difference

         Forwarding expenses:

             Foreign check .............................. Lit.  13.000
             Italian, Eurocheques or Money Orders ....... Lit.   3.000

















                                         -    -                                           13


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.3 - Registration form
         ---------------------------------------------------------------------

                 Mail to your nearest registration site.


         Qty.  Description                                   Single      Total

         ____  LoraBBS 2 Lines ......................... L. _______   ________

         ____  LoraBBS 5 Lines ......................... L. _______   ________

         ____  LoraBBS 10 Lines ........................ L. _______   ________

         ____  LoraBBS Unlimited Lines ................. L. _______   ________

         ____  LoraBBS Point ........................... L. _______   ________

         Forwarding expenses .................................... L.  ________

                                                             TOTAL L. ________

         Name: _______________________________________________________________

         Address: ____________________________________________________________

         _____________________________________________________________________

         _____________________________________________________________________
                                     (please print)


         Operating System to register: ( ) DOS  ( ) OS/2  ( ) Both
                                       ( ) Crossgrade

         Where did you receive Lora?  ( ) Friends  ( ) Shareware collection
                                      ( ) BBS      ( ) User Group
                                      ( ) Other _________

         Key forwarding method:  ( ) FAX __________________
                                 ( ) Netmail to ___________
                                 ( ) Paper mail

         The registrations must be payable in Italian Lire or via the payment
         method recommended for the particular international registration
         site. Foreign currency and credit cards not allowed. The netmail
         forwarding method needs a valid Fidonet node number or an answering
         system capable of handling Fido-Technology Mail sessions.









                                              -                                         - 14


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.4 - Support and registration sites
         ---------------------------------------------------------------------

         Austria:
                           Christian Kvasny
                           The Fright Night BBS
                           +43-2243-80348 (00:00-24:00)
                           FidoNet : 2:313/16
                           AdultNet: 690:3956/1000

         Germany:
                           Martin Sickel
                           News BBS Konstanz
                           +49-7531-18229 (HST V.34)
                           +49-7531-914085 (ISDN)
                           FidoNet : 2:246/2345 (HST V.34)
                                     2:246/2346 (ISDN)

         United Kingdom:
                           Adam Edwards
                           Audio Dynamite BBS
                           +44-171-813-3221
                           FidoNet : 2:254/402

         United States:
                           David Hughes
                           PO Box 6592
                           Colorado Springs, CO USA
                                             80934-6592
                           Goldmill BBS
                           +1-719-578-5849
                           FidoNet : 1:128/67
                           Internet: david@oldcolo.com
                           FTP:      oldcolo.com /pub/os2

         Italy and other country:
                           Marco Maccaferri
                           Arci Computer Club
                           +39-51-6331730
                           FidoNet : 2:332/402
                           AmigaNet: 39:102/304
                           VirNET  : 9:391/105
                           Internet: macca@arci01.bo.cnr.it














                                              -                                           15                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.4.1 - Getting support
         ---------------------------------------------------------------------

         You can get support and the latest releases from the above support
         and registration sites and from the support-only sites listed below.
         In addition, there is an echomail conference open to everyone
         interested in discussing Lora (both registered and not already
         registered) called LORA. It may be available from your international
         echomail backbone, if not, please contact the support site near to
         you to get the area linked.

         As of this moment there is no voice phone support for Lora. Support
         is made entirely through electronic or paper mail. Please contact
         individual support sites directly to determine if he/she provides
         voice phone support for Lora in your area.










































                                              -                                           16                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.4.2 Lora Support Team
         ---------------------------------------------------------------------

         Following is the up to date list of the support nodes for LoraBBS.

         System Operator      Fidonet Address  Internet Address
         -------------------- ---------------- ------------------------------
         Gary Butters         1:124/2342
         Mike Carr            1:280/834 & 835  mcarr@io.org
         Martin Davies        2:442/617        gbear@backroom.demon.co.uk
           (22:00 - 07:30 GMT ONLY)
         Simon Ewins          1:250/664        simon@axaxa.tor250.org
         Rick Ford            1:3625/433
         Elliott Goodman      1:102/1319       elliott.goodman%miles@hms.com
         Lloyd Hatley         1:3813/304       lloyd@halos2.com
         Bob Madden           1:202/921
         Michael Mccarty      1:110/860
         Ryan Mendenhall      1:3813/305       ryanm@halos2.com
         Steve Proctor        1:203/529        sproctor@crl.com
         Pete Stan            1:110/870





































                                              -                                         - 17


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         3.0 - Installation
         =====================================================================

         To install Lora you need a PC/XT/AT computer with at least 512K of
         free RAM, DOS 3.30 or later versions, at least one free serial port
         and 3 Mbytes of Hard disk space.

         The OS/2 release needs OS/2 2.x or later installed, one free serial
         port and at least 3 Mbytes of Hard disk space.

         Here is the procedure to install Lora in your system:

         1. Create a directory called C:\LORA and uncompress inside it the
            original archives, LORA240D.ZIP (LORA240S.ZIP for OS/2).

         2. Run LORA240D.EXE (LORA240S.EXE for OS/2).

         The program will create all the necessary directories and copy all
         executable, overlays and files to the appropriate locations.

         If you have installed Lora in C:\LORA, you can begin using it with
         the sample message and file areas configuration; if not, you have to
         change all the references at C:\LORA using the configuration program
         LSETUP.

         Lora (DOS version) needs a FOSSIL driver for serial communications in
         order to work. If you do not have one, you need to locate a FOSSIL
         driver on the nearest BBS to you (on node 2:332/402 or 2:332/422 you
         can find the newest versions of available FOSSIL drivers).

         Lora has been successfully tested with the BNU 1.70 FOSSIL driver
         Dr.Comm 0.4 and X00, but it can work also with different kind of
         drivers.

         With the operating system OS/2, Lora has been tested with Ray Gwinn's
         SIO drivers (version 1.11) using the VX00.SYS driver in the DOS
         window.

         The OS/2 release doesn't need a FOSSIL driver. It has been tested
         with the standard serial port drivers and with Ray Gwinn's SIO
         drivers (version 1.11).
















                                         -    -                                           18


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         3.1 - Upgrade from previous versions
         ---------------------------------------------------------------------

         Here is the right procedure to upgrade Lora in your system:

         1. Locate your current working LORA directory and copy then
            uncompress the original archives, LORA240D.ZIP (LORA240S.ZIP for
            OS/2).

         2. Run LORA240D.EXE (LORA240S.EXE for OS/2).

         3. If you are upgrading from a version prior to 2.34, run UPDATE.EXE
            with the name of your configuration file (normally CONFIG.DAT) as
            argument, or without arguments to get help.
            For example: UPDATE CONFIG.DAT.

         The program will upgrade the files that are changed with this
         release. If you are using two or more configuration files (for two or
         more lines), you can specify the name of those configuration files on
         the command line. For example: UPDATE config1.dat config2.dat

         The upgrade can be made even from a DOS installation to an OS/2
         installation and vice versa. If you have already installed the DOS
         version, you can upgrade to the OS/2 version by simply get the OS/2
         package and follow the upgrade procedure.

         If you are upgrading a Lora version older than 2.30, part of the
         configuration must be made again. Use LSETUP to insert the
         configurations you put in the LORA.CFG file.

         Regardless, to update the binary files, the LSETUP program must be
         run following the new format.

         From Version 2.30 you don't need to keep the LORA.CFG, SYSTEM.CFG,
         SCHED.CFG and NODES.CFG files, as well as LORACOMP.EXE.

         Each configuration can be done using the LSETUP program.




















                                              -                                         - 19


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         3.2 - Package contents
         ---------------------------------------------------------------------

         The compressed file contains the following files:

         README       - Main features and the installation chapter.
         LORA240D.EXE - Installation program (self extracting).
         WHATSNEW.TXT - News about the current release.
         FILE_ID.DIZ  - Archive comment, for BBSes that supports it.

         With the OS/2 release the installation program is named LORA234S.EXE
         and it's an OS/2 text mode application.

         After executing the installation program, you will found the
         following files and directory structure:

         INBOUND      - Network's inbound files directory.
         OUTBOUND     - Network's outbound files directory.
         MSG          - Message base directory.
         OLR          - Off-line reader temporary directory.
         FILE         - Storage of the example's file areas.
         TMP          - Temporary path.
         IPC          - InterProcess Communications directory.
         MISC         - Miscellaneous text files directory.
         NODES        - Nodelist directory.
         LANG         - Menu and language files directory.

         AXEL_F.DAT   - Chat music file.
         BRASIL.DAT   - Chat music file.
         CHANGE.DAT   - Chat music file.
         COUNTRY.DAT  - Chat music file.
         CUCARACH.DAT - Chat music file.
         ENTRTAIN.DAT - Chat music file.
         GHOSTB.DAT   - Chat music file.
         GIOCHIPR.DAT - Chat music file.
         LARRY.DAT    - Chat music file.
         MARYP.DAT    - Chat music file.
         OSOLEMIO.DAT - Chat music file.
         PHONE.DAT    - Chat music file.
         THEWIND.DAT  - Chat music file.

         CONFIG.DAT   - Configuration file.
         SYSFILE.DAT  - File areas configuration file.
         SYSMSG.DAT   - Message areas configuration file.
         PAGE.DAT     - Chat music file (used by Lora).

         LORA.DOC     - Documentation.

         LORA.EXE     - Program's loader.
         LORA.OVL     - Main executable file.
         LSETUP.EXE   - Lora's configuration program.
         LMSG.EXE     - Message areas maintenance program.
         LUSER.EXE    - Users maintenance program.
         LNETMGR.EXE  - Network manager.



                                              -                                           20                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         LTOP.EXE     - TOP 10 users generator.
         FILEIDX.EXE  - File request index generator.
         LANGCOMP.EXE - Language files compiler.
         L2WORLD.EXE  - External doors interface (DOS application).

         LORA.ICO     - OS/2 icon file for Lora.
         LSETUP.ICO   - OS/2 icon file for LSETUP.

         LORA_API.ZIP - Structures of Lora's data files and examples on how to
                        use it for developers.















































                                           21 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.0 - Configuration
         =====================================================================

         LSETUP is the program used for Lora's configuration. The pull-down
         menus allow you to set all the options available, including BBS
         menus, mail-session nodes, and so on.

         LSETUP accepts only one optional parameter in the command line, i.e.
         the filename of the configuration file to be used. If you omit it,
         the CONFIG.DAT file will be used. If the configuration file does not
         exist, it will be created using standard parameters (the physical
         creation will be done exiting from LSETUP). If you run LSETUP from
         within Lora, (see later), the configuration filename will be
         automatically passed.

         Let's see now which are the menus and the options available:


         4.1 - File
         ---------------------------------------------------------------------

         This menu covers everything concerning the interaction between LSETUP
         and the external world. The options available are:


         Registration
         ---------------------------------------------------------------------

         Shows a window for the registration code (if owned).


         Write AREAS.BBS
         ---------------------------------------------------------------------

         Allows you to export to a text file the configuration of the echomail
         message areas (those areas marked with the echomail flag and for
         which an echotag has been defined).

         By default, LSETUP uses the AREAS.BBS file defined in the Mailer /
         Areafix menu (see later) or in the current directory, if not defined,
         but it can be changed at any time.

         The file uses a standard format, so that it can be used by an
         external program supporting the standard.

         Example of the AREAS.BBS generated by Lora:

         Man at Work - Lora Developer's site ! Marco Maccaferri
         ;
         $C:\Lora\Msg\Cartoni    CARTONI.332            2:332/402
         $C:\Lora\Msg\Chat400    CHATTER.400            2:332/402
         $C:\Lora\Msg\Cine400    CINEMA.400             2:332/402
         124                     BBS_SOFT.ITA           2:332/402
         71                      CINEMA.ITA             2:332/402



                                              -                                           22                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         41                      ECHOSER.033            2:332/402
         42                      ECHOSER.332            2:332/402
         !136                    FIDO_STYLE.ITA         2:332/402
         C:\MSG\PRIVAT           PRIVAT.400             2:332/402
         ;
         ; Created by LSETUP v.2.35
         ;

         The first three areas are in Squish format, the others in Hudson
         format. Areas beginning with a '!' are Pip-base message areas. The
         last area is a Fido *.MSG area.


         Write TIC.CFG
         ---------------------------------------------------------------------

         Writes a TIC.CFG file using the information recorded in the BBS /
         File areas configuration section. This file may be useful to let
         other programs (such as file announcers) to work with Lora even if
         they are not expressely written for Lora.


         Write ROUTE.CFG
         ---------------------------------------------------------------------

         Creates a routing file based on the present configuration.

         Please note: this option works only if 4d point addresses are
                      inserted using the Global / Address menu. Moreover, the
                      routing file will be created for 4d point addresses
                      only.


         Write COST.CFG
         ---------------------------------------------------------------------

         This command allows you to write the contents of the phone costs
         database to a standard text file. This may be useful to make big
         changes to the database and then reimported back with the `Import
         COST.CFG' function.

         Following is an example of how the file looks like:

         Prefix 37- 0037- "Germania"
             SMTWTFS 22:00- 8:00  508   2.0  152  11.0
             -MTWTFS  8:00-22:00  508   2.0  152   8.0
             S------  8:00-22:00  508   2.0  152  11.0

         Prefix 37-11- / "Germany - Rottenburgh"
             SMTWTFS 22:00- 8:00  508   2.0  152  11.0
             -MTWTFS  8:00-22:00  508   2.0  152   8.0
             S------  8:00-22:00  508   2.0  152  11.0

         Prefix 37-99- / "Germany - Rotterdam"



                                         - 23 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


             SMTWTFS 22:00- 8:00  508   2.0  152  11.0
             -MTWTFS  8:00-22:00  508   2.0  152   8.0
             S------  8:00-22:00  508   2.0  152  11.0

         The file will be placed in your nodelist directory.


         Import AREAS.BBS
         ---------------------------------------------------------------------

         This option imports a standard AREAS.BBS file in the Lora echomail
         areas configuration.

         The existing areas will be updated using data contained in the
         imported file, the non-existing areas will be created with the data
         contained in the imported file.


         Import TIC.CFG
         ---------------------------------------------------------------------

         This option allows you to import your existing TIC (file echo)
         configuration file into Lora's configuration files. Following is an
         example of valid TIC.CFG file:

         ;
         AREA C:\LORA\TMP\ LORA
                 2:332/402 MARVEL  *D
         ;
         AREA C:\LORA\TMP\ LORA_OS2
                 2:332/402 MARVEL  *D
         ;

         Please refer to the Tick documentation for more information about the
         meaning of those lines.

         Lora imports the file area's definitions and forwarding information
         only. No other information are imported from the configuration file,
         even the passwords aren't imported and should be configured manually
         inside the Manager / Nodes menu.


         Import COST.CFG
         ---------------------------------------------------------------------

         This command allows you to read a text-based phone cost file and make
         it usable by Lora. The file is read from your nodelist directory. For
         the file's format please refer to the `Write COST.CFG' section above.


         Dos Shell
         ---------------------------------------------------------------------





                                         - 24 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Creates an operating system shell. It works even under OS/2, but keep
         in mind that OS/2 is a multitasking operating system, so that it's
         better to open another OS/2 Window instead of shelling from a
         program.


         Quit
         ---------------------------------------------------------------------

         Exits from LSETUP. If the configuration has been changed, LSETUP will
         ask if you want to save it.














































                                           25 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.2 - Global
         ---------------------------------------------------------------------

         This menu contains the global options for Lora. The options available
         are the following:


         Site Info
         ---------------------------------------------------------------------

         Allows you to insert the data related to the system and its operator.
         In the window you can insert the system name, the Sysop name
         (requested for the registration), the town where the system resides,
         the telephone number and flags (used for mail sessions with other
         similar systems).


         Directory/Paths
         ---------------------------------------------------------------------

         Allows you to declare the directories used for the Lora configuration
         files.

         Main Directory - Directory in which Lora will search for every common
                          file, in a multiline system, such as messages and
                          files areas configuration.

         Normal inbound
         Know inbound
         Prot inbound  - They are three directories uses in the mail sessions
                         with other BBS for file reception. The Prot inbound
                         area is used with password-protected nodes. The know
                         inbound is used with nodes that are not password-
                         protected but known (namely present in a nodelist
                         that Lora knows). The normal inbound area is used for
                         all the other connected systems.

         Outbound - It is a directory used in mail sessions in which the files
                    to be sent are stored. Important! This area must have no
                    extension: Lora automatically adds a numeric extension for
                    the files directed to BBS whose zone number is different
                    from the main one.

         Netmail messages - The directory where netmail messages (mail
                            directed to specific nodes) are stored. It is
                            recommended that only one netmail message area
                            point to one directory.

         Bad Messages - Here the messages that can't be imported in
                        echomail/netmail areas for safety reasons (such as
                        coming from unauthorised nodes or destined to wrong
                        areas) are stored.





                                         - 26 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Duplicate messages - Here the messages recognised as duplicates
                              (already previously imported by Lora) are
                              stored. Lora memorises the dupes for the last
                              1000 messages in each area.

         Quick Directory - Here all the files of the Hudson message base
                           (MSG*.BBS) are stored. If the files don't exist,
                           Lora will create them when needed.

         Pip-Base path - Here all the files of the Pip message base are
                         stored. If the files don't exist, Lora will create
                         them when needed.

         IPC Path - Here the files for the information interchange between the
                    system tasks are stored. To improve performances, it's
                    better to create this directory in a RAM disk.

         Nodelist - Here the files related to other BBSs connections are
                    stored.

         Temporary path - The directory where every temporary file is stored.
                          To improve performance, it's better to create this
                          directory in a RAM disk.

         Filebox path - This directory is used as the main directory for the
                        users' filebox creation. Fileboxes, as will be
                        explained later, are like mailboxes, but are related
                        to file exchange between users.


         Addresses
         ---------------------------------------------------------------------

         Allows you to define the addresses by which your system is identified
         in your network. If you belong (or want to) to networks like Fidonet,
         AmigaNet, or similar, the node number must be assigned by the local
         co-ordinator of the network.

         You can define up to 20 addresses. The first address (marked 'Main')
         is your default address and is used whenever requested (netmail and
         echomail forwarding, TIC processing, and so on) if no other address
         is specified.


         General
         ---------------------------------------------------------------------

         General options for the system running:

         CGA "snow" checking - By setting this flag on, you will eliminate the
                               annoying flickering made by some CGA cards when
                               programs write directly on video memory.





                                              -                                           27                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Monochrome - Allows you to see the differences between colours, even
                      in monochromatic cards, like Hercules.

         Direct screen writes - By setting this flag on, you will improve the
                                program performance, since it will write
                                directly on video memory, without using BIOS
                                functions. This option may cause some problems
                                in multitasking system that virtualise video
                                memory. Lora internal routines allow direct
                                video memory writing also in systems using
                                DesqView in 286 processors.

         Blankout timer - Defines after how many inactive minutes the screen
                          blanker (also known as screen saver) will activate.
                          A 0 input deactivates the screen blanker completely.

         Line number - Defines the task number in multiline systems. In
                       monoline systems it must be set to 1.

         Multiline system - By setting this flag on, Lora is allowed to create
                            on disk all the semaphores necessary for a correct
                            multiline running. When using a monoline system
                            and a slow disk it's better to keep this flag off.


         Time Adjustment
         ---------------------------------------------------------------------

         Allows you to define the parameters for the automatic synchronisation
         of the system clock with other nodes and with the Turin-based Galileo
         Ferraris Institute.

         Init - Defines the modem initialisation command.

         Dial prefix - Defines the call command. It will be sent to the modem
                       before the phone number.

         Dial suffix - This command will be added after the phone number.
                       Usually it is a | (pipe), that is the same as a
                       carriage return (CR) character.

         Number - Defines the number to be called. The Galileo Ferraris phone
                  number is +39-11-3487892. Please note that you need to add
                  the code for international calls from your country.

         Use DST - Allow the synchronisation of the PC clock always using the
                   solar time. If turned to Yes, the clock will be
                   synchronised with the daylight saving time or the solar
                   time based on the year's moment. If turned to No it will be
                   synchronised always with the solar time, even if the
                   daylight saving time is acting.

         Nodes - Defines the BBS node numbers with which the system clock can
                 be synchronised.



                                         - 28 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95




         Internet gateway
         ---------------------------------------------------------------------

         Allows you to specify an Internet mail gateway to automatically
         address Internet mail to. You can define a message area as 'Internet
         mail' (see the message definition section).


         Gateway Type - Defines the type of gateway software you are using,
                        possible values are: Uucp, where the messages are sent
                        to the user name defined in Gateway Name at the
                        address defined in Address and the very first line of
                        the message body is the internet destination address
                        in the form To: <inet@address>; GIGO, where the
                        internet destination address is put in the message's
                        To field and the Address field is used as a fake-
                        address to send the messages to. GIGO (Garbage In
                        Garbage Out) is a Fidonet<->Internet gateway that
                        supports mail, newsgroups and list servers.

         Gateway Name - Defines the gateway user name.

         Address      - Node address of the gateway.
































                                              -                                         - 29


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.3 - Mailer
         ---------------------------------------------------------------------

         With this menu you can set every option related to Lora Mailer, the
         interface between your BBS and a Fido Technology Network.


         Miscellaneous
         ---------------------------------------------------------------------

         Several options for the internal mailer and mail processor management
         are available:

         Banner - The sentence filling in this field will be shown immediatly
                  after modem connection, before entering the real BBS. The
                  banner will be shown after the mailer identification string
                  and before the "Press <ESC> twice to enter the BBS" sentence
                  (See Enter-BBS option).

         Mail-Only - The sentence filling in this field will be shown in the
                     place of that defined in the Enter-BBS option, when the
                     mailer does not accept human calls, due to a system
                     event.

         Enter-BBS - The sentence filling in this field will be shown to
                     inform the user that the system is ready, and ask him to
                     press <ESC> twice or wait 30 seconds to enter it.

         For these three options it's possible to specify a text file to be
         shown, putting the filename preceded by an AT (@). For example:
         @BANNER.TXT.

         Events file - Specifies the event filename to be used.

         WaZOO - Allows the mailer to make/receive calls using the WaZOO
                 handshaking.  This method is a little obsolete, since allows
                 the systems to pass only one address per call.

         EMSI - Allows the mailer to make/receive calls using the EMSI
                handshaking. This method is the last product of the Fidonet
                technology development; it allows the systems to exchange
                addresses with the same call, and other session information.

         If both the methods are flagged No, the most obsolete (but still
         compulsory) Fidonet method will be used, the FSC-0001. The
         information passed to the remote system is small, and the file
         transfer is made using SEAlink protocol, an X-Modem variant.

         Janus - Allows the mailer to use the bi-directional Janus protocol
                 for the file transfers between systems. Lora automatically
                 disables the Janus protocol in HST connections, since the HST
                 protocol does not allow the bi-directional transmission at
                 the fastest speed.




                                              -                                         - 30


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Random redial time - With this option set on, the redial time will be
                              calculated randomly, keeping the redial time set
                              for the current event as the average time
                              between each call. For example, if you set a
                              redial time of 20 seconds, each call will be
                              placed after 10 to 30 seconds.

         Secure - Each time the mail processor imports a message from a mail
                  packet, it controls the sender's address, to see if he is
                  allowed to write in that particular message area. If this
                  condition is not satisfied, the message will be stored in
                  the directory set as Bad-Messages directory.

         Keep netmail - With this option set on, the mail processor will
                        delete no message from the netmail area, even if they
                        are marked Kill/Sent.

         Flashing mail - Enable or disable the flashing "MAIL" word in the
                         lower right screen corner when unread netmail
                         messages are present.

         Track netmail - This flag activates, if set to Yes, the built-in
                         message track utility. The message track acts
                         whenever a new netmail message is tossed from a mail
                         packet or packed from the netmail directory, checking
                         for the originating and destination nodes.

                         If the destination node doesn't exist in your
                         nodelists, then the netmail will be bounced back to
                         the originating address with a little explanation of
                         what happened.

                         If the originating node doesn't exist in your
                         nodelist, then a little header explaining that the
                         recipients should not answer to that message through
                         your system (or it will be bounced as undeliverable)
                         will be added.


         Log
         ---------------------------------------------------------------------

         These options are related to the log generation, namely the file in
         which each system activity is reported.


         Name - The filename to be used for system logging.

         Style - Specifies the log format to be used. Here is an instance of
                 Terse format:

         ----------  Mon 23 Nov 92, LoraBBS v2.21.3b
         : 08:26:54  STATS: 290K used, 295K available
         : 08:26:56         C: 4.2 of 61.8 Mb free, 6%



                                           31                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         : 08:26:57  Starting Event 2
         * 08:27:08  Processing 2:332/402 -- ARCI Computer Club/Lora BBS Suppo
         : 08:27:08  Dialing 6331730
         + 08:27:36  Connect 14400/Arq
         * 08:27:44  Arci BBS - Oltre l'immaginazione... (2:332/402.0)
         : 08:27:44  Aka: 39:102/304.0
         * 08:27:44  Remote Uses LoraBBS Version 2.21.3a/14380

                 Here is an instance of Verbose format:

         + 22 Nov 22:48:08 LORA Begin, 2.21.3b, (task 1)
         : 22 Nov 22:48:09 LORA STATS: 290K used, 130K available
         : 22 Nov 22:48:09 LORA        C: 4.3 of 61.8 Mb free, 6%
         + 22 Nov 22:48:19 LORA Connect 2400
         * 22 Nov 22:48:26 LORA LoraBBS Developer's Site (2:332/402.1)
         : 22 Nov 22:48:26 LORA Aka: 39:102/304.2 2:332/403.13
         * 22 Nov 22:48:26 LORA Remote Uses LoraBBS Version 2.21.3b/49459

                 As you can see, the information is the same, but in the
                 Verbose format month and day are repeated on each line.
                 Choose the format you prefer, but you should consider the
                 eventual compatibility with log scanning programs.

                 The Verbose format is Maximus, Opus and BinkleyTerm
                 compatible, the Terse one is FrontDoor compatible.

         Log flags - With this option set to yes, the creation/deletion of the
                     mailer flags (*.BSY) will be logged in the system log
                     file. Set this option to no if you own a slow hard disk.

         Buffer size - This field defines the size in bytes of the internal
                        log buffer. A larger log buffer ends with less access
                        to the disk that may be useful for multitasking
                        environments. A value of 0 disable the log buffer.


         File Requests
         --------------------------------------------------------------------

         Allows you to define the file request privileges for other BBSs
         calling your system.

         Request list
         Request list (Secure)
         Request list (Know)   - Allows you to define a file and/or directory
                                 list from where files can be requested. The
                                 typical format of these lists is the
                                 following:

                                 C:\File\BBS\PROVA.ZIP !TEST
                                 C:\File\LORA\*.*
                                 @BETALORA C:\File\LORA23B5.ZIP
                                 $C:\Lora\FILES.IDX




                                           32                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                                 The first line indicates a password-protected
                                 file, the second one indicates that every
                                 file in the C:\File\Lora directory can be
                                 requested, the third one indicates a 'magic
                                 name'. A magic name is an arbitrary name to
                                 be used for requesting the last version of a
                                 given program. In the example shown, if a BBS
                                 requests BETALORA, the LORA23B5.ZIP will be
                                 sent.

                                 The last line (the one beginning with the
                                 dollar symbol) allows you to specify one or
                                 more file indexes to considerably speed up
                                 the file request search, expecially on CD-
                                 ROMs or other slow devices. The file indexes
                                 can be created with the FILEIDX utility, and
                                 can be password protected like any other
                                 file.

                                 The three entries specify the file list
                                 available respectively for unknown nodes, for
                                 password-protected nodes and for nodes
                                 present in a nodelist known by Lora.

         About - Filename to be sent if the ABOUT file is requested. Usually
                 this file contains information about your system, like
                 opening hours, characteristics, magic names available, and so
                 on.

         File List - Filename to be sent if the FILES file is requested.
                     Usually this file contains the complete list of available
                     files.

         Max size
         Max size (Secure)
         Max Size (Know)   - They define the maximum Kilobytes number to be
                             downloaded from, respectively, unknown nodes,
                             password-protected nodes, and nodes present in a
                             nodelist known by Lora.

         Max match
         Max match (Secure)
         Max match (Know)   - They define the maximum number of files to be
                              downloaded from, respectively, unknown nodes,
                              password-protected nodes, and nodes present in a
                              nodelist known by Lora.


         Areafix
         ---------------------------------------------------------------------

         This menu allows you to configure the Areafix function, described
         later in this manual.




                                           33 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Areafix active - Turns the internal Areafix function on and off.

         Help file name - Filename to be sent with the %HELP command. Since
                          the file is sent in a message form, it's better to
                          keep it as short as possible.

         Creating nodes - List of nodes that can create message areas on your
                          system. When the mail processor imports a message in
                          an unknown area, it controls if the sender's node
                          can automatically create a new message area on your
                          system. If active, it will                                                     create a message area
                          using the criteria defined in New Areas Base and New
                          Areas Path types. If inactive, the message will be
                          stored in the bad message directory.

         Autolink nodes - List of nodes that will be automatically linked to
                          the new areas created by Areafix.

         Alert nodes - List of nodes that will receive a copy of the answer
                       messages generated by Areafix. The information request
                       messages (%LIST, %QUERY, %UNLINKED and %HELP commands)
                       will not be forwarded.

         Use AREAS.BBS - If this parameter is set to Yes, allows Lora to
                         consider the information found in the AREAS.BBS file
                         when importing or exporting echomail messages.

         Update AREAS.BBS - If set to Yes, allows the updating the AREAS.BBS
                            file whenever an Areafix message changes the
                            echomail forwarding structure.

         Allow rescan - If set to Yes, allows the rescan procedure on one or
                        more echomail areas to be performed through an
                        Areafix's message. Note that some areas can generate
                        extremely huge packets, so it may be safe to keep this
                        parameter set to No and perform the rescan manually.

         Change TAG level - Defines the privilege level that a node must have
                            to change the tag of an echomail area through an
                            Areafix's message. It is suggested that the level
                            must allow only the Sysop or his/her co-workers to
                            use this command.

         Remote maint. - Defines the privilege level that a node must have to
                         send commands as another node through an Areafix's
                         message. It is suggested that the level must allow
                         only the Sysop or his/her co-workers to use this
                         command.

         Check zones - If set to Yes enables the zone check on every Areafix's
                       operation, to allow the link of echomail areas with the
                       same zone number.

         New areas base - Defines the message base to use for newly



                                              -                                         - 34


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                          created echomail areas.

         New areas path - Defines the directory where the files for the
                          automatically created echomail areas will be located
                          for Fido *.MSG, Squish and Pip-base message base
                          types. This parameter is ignored for Hudson and
                          Goldbase message bases.

         Names to check - This field lists the user names that the internal
                          areafix function should look for when processing
                          requests. If left empty Lora will look for the user
                          `Areafix'.


         TIC Processor
         ---------------------------------------------------------------------

         This menu allows you to configure the Raid (automatic echo file area
         manager) function, described later in this manual.

         TIC active - Turns the internal Raid function on and off.

         Help file name - Filename to be sent with the %HELP command. Since
                          the file is sent in a message form, it's better to
                          keep it as short as possible.

         Creating nodes - List of nodes that can automatically create file
                          areas on your system. When the TIC processor imports
                          a file in an unknown area, it controls if the
                          sender's node can create any area. In the positive
                          case, it will create a directory called FNEWAREA in
                          the current directory, then create another directory
                          named as the tag of the file area and add it to the
                          file areas configuration file. In the negative case,
                          the TIC file will be renamed as BAD.

         Autolink nodes - List of nodes that will be automatically linked to
                          the new areas created by the TIC processor.

         Alert nodes - List of nodes that will receive a copy of the answer
                       messages generated by Raid. The information request
                       messages (%LIST, %QUERY, %UNLINKED and %HELP commands)
                       will not be forwarded.

         Change TAG level - Defines the privilege level that a node must have
                            to change the tag of an echomail area through a
                            Raid's message. It is suggested that the level
                            must allow only the Sysop or his/her co-workers to
                            use this command.

         Remote maint. - Defines the privilege level that a node must have to
                         send commands as another node through a Raid's
                         message. It is suggested that the level must allow




                                         - 35 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                         only the Sysop or his/her co-workers to use this
                         command.

         Check zones - If set to Yes enables the zone check on every Raid's
                       operation, to allow the link of file areas with the
                       same zone number.


         External Processing
         ---------------------------------------------------------------------

         In this menu it's possible to specify the filenames of the programs
         to be called for external maintenance routines.

         Before import - The command in this field is executed after the
                         arcmail unpacking, and before the message importing.

         After import - The command in this field is executed after the
                        message importing in the echo areas, and before the
                        message area scanning.

         Before export - The command in this field is executed before the
                         message areas scanning. After import and before
                         export are executed together if the mail processing
                         is automatically carried on.

         After export - The command in this field is executed after the
                        message area scanning and before the netmail scanning
                        and arcmail packing.

         Before pack - This command is executed before the netmail message
                       area scanning.

         After pack - This command is executed after the netmail message area
                      scanning and outbound pack.

         Automaint - The command in this field is executed every day after
                     some internal maintenance routines. In a 24 hour system,
                     it will be executed soon after midnight.

         BBS Batch - The command in this field is used to call an external BBS
                     program. You can specify the following parameters at the
                     command line:

                     *B - Connection speed reported by modem. In local
                          connections it will be forced to 0.
                     *C - Fully COMMAND.COM path.
                     *H - Deactivates the serial port driver driver. With the
                          OS/2 version, this command causes the DTR line to be
                          dropped by the operating system. With most modems
                          this causes the drop of the line too.
                     *M - This parameter allow registered users to free almost
                          the full conventional memory, leaving only 15k in
                          memory, for the recovery code (DOS version only).



                                         - 36 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                     *N - Active task number.
                     *P - Active serial port (1=COM1, 2=COM2, etc.)
                     *T - Time, in minutes, before the next system event
                          execution.
                     *W - Activates the FOSSIL watchdog function. When the
                          carrier drops, the FOSSIL driver resets computer.
                          This option is rarely used, and is present for
                          completeness only (DOS version only).


         Message Editor
         ---------------------------------------------------------------------

         Defines the DOS command to call the local message editor from inside
         Lora. Lora can work well with a wide variety of message
         readers/editors, suggested are GoldEd, Mercurio and WMail.


         Mail Processing
         ---------------------------------------------------------------------

         In this menu are the mail processing options.

         Method - Defines the method of mail exporting. You can choose between
                  'Separate netmail', for which the netmail will be exported
                  in different packets (*.PKT) than the echomail (but always
                  within the same compressed packet) and 'Netmail and echomail
                  together' (default) for which the netmail will be appended
                  to the existing echomail packets.

         Save Sysop Mail - If enabled (Yes) allows to save in a separate
                           directory the messages addressed to the Sysop
                           coming from every echomail or netmail areas. The
                           messages are saved in the *.MSG format with every
                           information untouched (even the AREA:<tag> line).

         Sysop Mail Path - Defines the directory to same the messages
                           addressed to the Sysop.

         Flashing flag - Allows to enable or disable the flashing "PERSONAL"
                         word in the lower right screen corner when new unread
                         messages addressed to the Sysop are present.

         Replace Tear Line - Defines if and how replace the tear line (the
                             line immediately above the origin line in an
                             echomail message) within a message written
                             locally with the Lora's tear line. You can
                             choose: 'Always' to always replace (default for
                             the unregistered versions), 'Never' to not
                             replace at all, 'Link (limit to 35 char.)' to add
                             the tear line to the existing one if the
                             resulting line is not above the 35 character
                             limit, 'Link (unlimited)' to add the tear line
                             without verify the resulting line length.



                                           37                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                             The Lora's tear line shows as follow:

                             --- Lora v.2.40+

                             Added to the tear line of a message written with
                             GoldEd (for example), it shows as follow:

                             --- GoldEd v.2.41+ / Lora v.2.40+

         Tear line - Allows you to define a custom tear line for your own
                     pleasure. The sequence %1 will be replaced by the version
                     number, so that a tear line like this:

                     Lora-OS/2 v%1

                     will be replaced with:

                     Lora-OS/2 v2.40

                     Please note that the leading dashes (--- ) aren't
                     required.
                     This option is available for registered users only.

         Import empty msgs. - Allows you to prevent the mail processor from
                              importing messages without text lines inside it.
                              Messages like this are the ones generated by
                              file requests or file attaches robot.


         Force INTL line - This option allows you to force the mail processor
                           to put an INTL line inside every netmail message
                           exported, even if it isn't really necessary. This
                           option should be set to No, unless your netmail
                           uplink have some problems handling inter-zone
                           netmails.

         Export Internet - If set to Yes allows Lora to export the messages
                           stored in internet-type message areas. Normally
                           this setting should be left to No because most
                           gateway software provides their own mail
                           processors.


         Mail-only password
         ---------------------------------------------------------------------

         Allows to specify a password that allows the Sysop and his/her co-
         workers to log in the BBS event if it is busy in a mail event that
         doesn't accept human callers.

         The password must be written when Lora shows his 'Mail only' banner
         immediately after the connection. If the password is recognised
         (there isn't an echo on the terminal) the BBS is activated. The
         password is case sensitive.



                                              -                                           38                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



























































                                         - 39 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.4 - BBS
         ---------------------------------------------------------------------

         Here all the option for the BBS settings, from areas definition to
         user's levels definition are collected.


         Messages
         ---------------------------------------------------------------------

         Message area definition. The options available are explained in a
         following chapter of this manual.


         Files
         ---------------------------------------------------------------------

         File area definition. The options available are explained in a
         following chapter of this manual.


         QWK setup
         ---------------------------------------------------------------------

         QWK internal door definition.

         Work dir - Directory in which every temporary file necessary for a
                    QWK packet creation will be stored.

         Packet name - Filename of the packet (without .QWK extension) to be
                       created. Lora will send to the user a packet called
                       <packet name>.QWK, and will wait for a packet called
                       <packet name>.REP.

         Max messages - Maximum number of messages that can be packed in a QWK
                        file. If the user exceeds the limit, the message
                        scanning will stop, and the packet will be sent to the
                        user. The limit is checked after each area scan. This
                        means, for example, that if the limit is set to 500
                        and a given area contains 1000 messages, all those
                        1000 messages will be packed, and then the scan will
                        stop.


         New users
         ---------------------------------------------------------------------

         Definition of the new users' options.

         New user sec. level - The access level assigned to new users. We
                               suggest you to assign the LIMITED level. If you
                               don't want new users to join your system,
                               assign them the HIDDEN level.




                                         - 40 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         New user A flags
         New user B flags
         New user C flags
         New user D flags - Flags assigned to new users.

         Ask birthdate - Put this flag on if you want the system to ask new
                         users their birthdate.

         Ask voice phone number - Put this flag on if you want the system to
                                  ask new users their voice phone number.

         Ask data phone number - Put this flag on if you want the system to
                                 ask the users their data (or office) phone
                                 number.

         Ask IBM character set - The system will ask new users if they want to
                                 see the IBM extended ASCII character set.
                                 Lora is able to remap them if the user is not
                                 able to visualise them.

         Ask alias name - Put this flag on if you want the system to ask new
                          users a nickname. The alias can be used in some
                          message areas decided by the Sysop.

         Ask default protocol - Put this flag on if you want the system to ask
                                new users their default download protocol.

         Ask default packer - Put this flag on if you want the system to ask
                              new users their default packer to be used in the
                              QWK internal door.

         FileBOX default - If set to Yes, every new user have their file-box
                           flag set, so that they can receive private files
                           through the file-box commands. Every user can send
                           files to a file-box, but only enabled users can own
                           a file-box.

         More prompts - If you set  here the flag "yes", the system will ask
                        the user to press Enter to see next page at the end of
                        each scroll; if you set the flag "no", the system will
                        not stop scrolling up until the end of the text, if
                        you set the flag "ask", the system will ask new users
                        their choice.

         Mail check - If you set here the flag "yes", the system will scan for
                      user's personal mail at each logon, if you set the flag
                      "no" the scan will never be performed automatically, if
                      you set the flag "ask", the system will ask users if
                      they want to scan mail areas.

         New files check - The same option of the mail check, but with regards
                           to new files since user's last logon.





                                         - 41 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Screen clears - If you set here the flag "yes", the system will send
                         the clear screen codes, if you set the flag "no", the
                         clear codes will never be sent, if you set the flag
                         "ask" the system will ask new users if they want to
                         have clear screen codes.

         Hotkeys - As above, the flag "yes" means that hotkeys (commands will
                   not need a CR to be executed) are always active, the flag
                   "no" that they will never be active (this means that users
                   can put more than one command on the same line), "ask"
                   means that the system will ask to new users if they want
                   hotkeys.

         Ansi Graphics - As above, the flag "yes" means that ANSI graphics
                         will always be active, "no" means that they will
                         never be active, "ask" means that the system will ask
                         new users if they want ANSI graphics.

         Avatar Graphics - As above, but related to AVATAR graphics, more
                           efficient and fast than ANSI.

         Full screen editor - As above, the flag "yes" means that the full
                              screen editor will be used to write messages,
                              the flag "no" that the line editor will be used,
                              "ask" means that the system will ask new users
                              if they want the full screen editor.

         Rookie calls - Defines the number of calls after which a user is no
                        longer considered an apprentice. For these users
                        displaying special notes with instructions and hints
                        for the system usage could be useful.

         Random birthdate check - If you put the flag on, the system will ask,
                                  randomly, the user's birthdate.


         General options
         ---------------------------------------------------------------------

         Users file - Defines the filename and path of the users' database.
                      You don't need to specify any extension, Lora will
                      automatically add the .BBS or .IDX extension when
                      needed.

         Menu dir - Defines the directory to be searched for the menu files to
                    be shown to the users.

         General text dir - Defines the default directory to be searched for
                            the text files to be shown. It's possible to
                            define a different directory for each language, so
                            that it's possible to translate the files into
                            each language supported by your system. The
                            general text dir will also be used to find a file
                            not found in a different language directory.



                                           42                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Full scr. editor - It defines the path and filename of the external
                            full screen editor to be used by users (please
                            note that this editor is not the sysop's editor
                            defined in the Mail / message editor menu). It's
                            possible to specify other special commands used to
                            pass useful information to the editor. The
                            commands are following:

                            *0 - Current file area path.
                            *1 - Current message area path.
                            *B - Baud rate (0 in local mode).
                            *F - User's first name.
                            *G - 0=No graphics, 1=Ansi, 2=Avatar.
                            *H - Deactivates the serial port driver driver.
                                 With the OS/2 version, this command causes
                                 the DTR line to be dropped by the operating
                                 system. With most modems this causes the drop
                                 of the line too.
                            *L - User's last name.
                            *M - This parameter allows registered users to
                                 free conventional memory almost totally,
                                 leaving only 15k in memory, for the recovery
                                 code.
                            *N - Task number.
                            *P - Serial port (1=COM1, 2=COM2, etc.).
                            *R - User's position inside the users database
                                 (record number).
                            *S - Lora will not read LORAINFO at the end of the
                                 called editor.
                            *T - Time left for the current call.
                            *W - Activates Fossil's watchdog. When the carrier
                                 drops, FOSSIL will reboot the computer.
                            *X - The LORAINFO.T?? file will not be created,
                                 before calling the editor.
                            *! - Stops time during the editor call. At the end
                                 of the program, the user will have again the
                                 same time he had before calling the editor.
                            *# - Disables the 'Wants chat' flag. Useful to
                                 correctly manage external chat programs.

                            To be compatible with Scott Dudley's Maximus-CBCS
                            2.00, the following commands have been added:

                            %A - User's first name, in capital letters.
                            %b - Baud rate (0 in local mode).
                            %B - User's last name, in capital letters.
                            %c - Calling site.
                            %C - Last answer to the questionnaire ^OR command
                                 (see the EMBEDDED COMMANDS sections, for more
                                 details).
                            %d - Current message area number
                            %D - Current file area number
                            %E - Length, in lines, of the user's screen.



                                           43                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                            %f - User's first name.
                            %F - Current file area path.
                            %g - 0=No graphics, 1=Ansi, 2=Avatar.
                            %G - User's daily download limit.
                            %h - User's voice phone number
                            %H - User's Kbytes downloaded in the present day.
                            %i - Total download.
                            %I - Total upload.
                            %j - Length (in minutes) of the present call.
                            %k - Task number.
                            %l - User's last name.
                            &L - In remote mode, this command is substituted
                                 with the '-pX -bY' string, where X is the
                                 serial port (1=COM1, 2=COM2, etc.) and Y is
                                 the speed (in baud). In local mode, this
                                 command is substituted with the '-k' string.
                            %M - Current message area path.
                            %n - User's first name.
                            %N - System name, as defined in the configuration
                                 file.
                            %p - Serial port (0=COM1, 1=COM2, etc.) DOS
                                 version, the OS/2 version returns the COM
                                 port file handle that can be used by external
                                 doors.
                            %P - Serial port (1=COM1, 2=COM2, etc.).
                            %q - Current message area path, without the final
                                 backslash.
                            %Q - Current file area path, without the final
                                 backslash.
                            %s - Sysop's last name.
                            %S - Sysop's first name.
                            %t - Time left for the present call, in minutes.
                            %T - Time left for the present call, in seconds.
                            %u - User's number.
                            %U - Substituted by underscore '_'.
                            %v - Upload directory path.
                            %V - Upload directory path, without the final
                                 backslash.
                            %Z - User's full name, in capital letters.

         Quote header - With this field you can define the sentence that will
                        be put as the first line when a user replies to a
                        message using the full screen editor.

                        You can specify the following special characters:

                        @ - Expands into the person's name to which the
                            original message was addressed.

                        # - Expands into the person's name who posted the
                            original message (the one being replied to).

                        ` - Expands into the date that the original message
                            (the one being replied to) was posted.



                                         -    -                                           44


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



                        ~ - Expands to the time that the original message (the
                            one being replied to)w as posted.

                        For example, if the following reply header was
                        specified:

                               In a message originally to @, # said:

                        Would expand to:

                               In a message originally to All, Joe User said:

         Upload check - This field defines the upload check program to call
                        after each file is uploaded by the users. You can use
                        each standard command for the external doors (already
                        explained for the previous field), in addition you can
                        use the following special parameters:

                        %1 - The full file name with drive and path.
                        %2 - The drive and path of the file with the trailing
                             backslash.
                        %3 - The file's name without extension.
                        %4 - The file's extension with the leading dot.

         Ansi at logon - Definition of the ANSI displaying method at logon.
                         "Auto" allows Lora to automatically recognise whether
                         the user's terminal is able to display ANSI graphics;
                         "Yes" forces Lora to send the ANSI file; "No" forces
                         Lora to send the ASCII file; "Ask" means that the
                         system will ask the user whether he wants to see the
                         ANSI or the ASCII file.

         Puma/MPT protocol - Activates / deactivates the internal Puma/MPT
                             protocol management. The executable file must be
                             in a directory defined by the PATH environment
                             variable.

         HS/Link protocol - Activates / deactivates the internal bi-
                            directional HS/Link protocol management. The
                            executable file must be in a directory defined by
                            the PATH environment variable.

         Snoop on-line user - Activates / deactivates displaying of everything
                              the user is doing on the system.

         Aftercaller exit - Errorlevel with which Lora will exit after an user
                            call. 0 means that Lora will not exit to DOS after
                            an user call, and will load itself automatically,
                            without needing a batch file to manage the loop.

         Areachange keys - Definition of the letters for the change areas
                           commands: they are for previous area, next area,
                           list areas commands, respectively.



                                         - 45 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Date format - Definition of the date format in the messages, the
                       available parameters are the following:

                       %D - Displays day number.
                       %B - Displays month number.
                       %C - Displays month abbreviation (Jan, Feb, Mar,
                            etc.).
                       %Y - Displays the year's last two digits (92, 93,
                            etc.).

                       For the international format use the %C-%D-%Y
                       parameters.

         Time format - Definition of the time format in the messages. The
                       available parameters are the following:

                       %A - Displays "am" or "pm" in 12 hours format.
                       %E - Displays time in 12 hours format.
                       %H - Displays time in 24 hours format.
                       %M - Displays the minutes number.
                       %S - Displays the seconds number.

                       For the international format use the %H:%M:%S
                       parameters.

         Download counter - Allows to enable the files download counter. The
                            counter will be put at the beginning of the
                            description within two selectable delimiters.
                            Example:

                            TEST.ZIP     (  3) Counter Example

         Counter limits - Defines the delimiters to be used for the download
                          counter. Normally are used square brackets.

         Uploader name - Allows to add the uploader's name to the file
                         description (that allows you to know if anyone
                         uploads viruses or trojans).

         Login check city - If set to Yes Lora asks the users to verify the
                            calling city before enter the password at login
                            time. It's useful to prevent that a user with the
                            same name as another must call two times to log in
                            your system.

         Inactivity timeout - Defines the number of minutes that a user can
                              spend on-line without doing anything before the
                              system hangs the phone. 20 seconds before the
                              logout Lora displays a warning message to the
                              user.

         IEMSI logins - Set this option to yes to allow your users to log in
                        your board using the IEMSI (Interactive Electronic



                                         - 46 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                        Mail Standard Interface) handshake. Terminal programs
                        capable of such handshake are: Lora's built-in
                        terminal program, Terminate and FrontDoor's built-in
                        terminal program.

                        Interactive EMSI (IEMSI) is a protocol which can be
                        used by communications software programs to establish
                        certain parameters for an interactive session, for
                        example, a user logging on to a bulletin board.

                        From within the IEMSI terminal's setup program, the
                        user can define a number of user profiles, each of
                        which includes a user name, handle, password,
                        telephone number, location, etc. When IEMSI is enabled
                        from within the terminal and the user calls a Lora
                        BBS, the user's information is sent to the BBS
                        automatically, enabling the user (the client) to log-
                        on to a BBS (the server) without even touching the
                        keyboard. The IEMSI terminal and Lora will
                        automatically exchange information such as software
                        name and version number, screen parameters and local
                        time.

                        One particularly useful feature is the ability of the
                        server to temporarily modify the user's display
                        parameters for the current session only. Typically,
                        when a user calls a BBS, the user's screenlength
                        setting is used to determine when page pausing is to
                        occur.  However, on one occasion the user may activate
                        the IEMSI terminal in 50 line mode. Lora will
                        recognise this and set the screen length to 50 lines
                        for the current session only, restoring it to the
                        original setting when the user disconnects. In
                        addition, Lora will automatically activate whatever
                        terminal emulation that it, as well as the client,
                        supports.


         Show missing files - If this option is set to yes, the missing files
                              (files that are described in the FILES.BBS file
                              but aren't present in the file area's directory)
                              will be displayed to the user with the 'MISSING'
                              word instead of the file size and date.

         ZModem protocol
         XModem protocol
         1K-XModem protocol
         SEAlink protocol   - This options allows you to enable (yes) or
                              disable (no) the internal protocols ZModem,
                              XModem, 1K-XModem and SEAlink respectively. You
                              can replace one or more of this protocols with
                              an external one, using the external protocol
                              setup menu.




                                         -    -                                           47


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Min. upload space - This option allows you to disable any upload made
                             by the users when the free space on the upload
                             directory is less than the amount specified (in
                             Kbytes) in this field. Valid ranges are 1 to
                             32000 Kbytes, 0 means no checks for the free
                             space.

         Input date format - This option allows you to choose the date format
                             for every date input field. Available formats
                             are: DD-MM-YY (most European country), MM-DD-YY
                             (USA) and YY-MM-DD (Scientific format).


         Limits
         ---------------------------------------------------------------------

         This menu allows you to define the BBS accesses for each user level.
         The levels available are eleven: Twit, Disgrace, Limited, Normal,
         Worthy, Privel, Favored, Extra, Clerk, Asst. Sysop and Sysop.

         You can define, for each level, the following parameters:

         Time Limit per Call - Minutes available for each call.

         Time Limit per Day - Minutes available in 24 hours. If this limit is
                              higher than the Call Limit, the user will have
                              the time defined here per day, but he will not
                              be able to spend more than the time defined in
                              Call limit for each call.

                              Example: Call limit -> 30
                                       Day  limit -> 45

                              This means that the user will have 30 minutes
                              available for the first call. If he spends 20
                              minutes in the BBS, he will have 25 minutes
                              available for the second call.

         Minumum Logon Baud - Minimum speed with which users of this level can
                              logon. If the Sysop has a 14400 baud modem, it's
                              better, for security reasons, to limit the Sysop
                              level at 14400. 0 means no limits.

         Minimum Download Baud - Minimum speed necessary to download files. 0
                                 means no limits.

         Download Limit (KB) - Maximum number of Kbytes that can be downloaded
                               in 24 hours.

         Limit at X baud - Maximum number of Kbytes that can be downloaded in
                           24 hours, differentiated by connection speed. 0
                           means that Lora will use the value defined in the
                           Download Limit entry.




                                              -                                         - 48


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Download/Upload Ratio - It defines the maximum download/upload ratio
                                 necessary to download files. 10 means, for
                                 example, that users must upload 1 Kbytes for
                                 each 10 Kbytes downloaded.

         Ratio Start - It defines the number of download available before the
                       Download/Upload ratio begins its check.


         Login Limits
         ---------------------------------------------------------------------

         Minumum sec. level - It defines the minimum level needed to access
                              the system. Useful for multiline BBSs in which
                              some tasks are reserved for particular users.

         Minumum A flags
         Minimum B flags
         Minimum C flags
         Minimum D flags - They define the flags that must be active to access
                           the system. Useful for multiline BBSs in which some
                           tasks are reserved for particular users.

         Minumum age - It defines the minimum age a user must have to access
                       the system.

         Time to login - Defines the time (in minutes) given to the user to
                         complete the login procedure. Within this time is
                         included the new users questionnaire if it is put on
                         a file that will be showed only to the new users. By
                         default the login time is set to 10 minutes.


         Paging hours
         ---------------------------------------------------------------------

         With this menu you can define when you are available for chat. For
         each week day you can specify the starting and the ending time of
         your availability. Usually this option can be used to preserve users
         to call your for a chat in the middle of the night.

         When a user try to call you outside the available paging hours, the
         file NOTAVAIL will be displayed. You can write inside this file the
         correct paging hours.


         Language
         ---------------------------------------------------------------------

         Allows you to define up to 15 languages available for users. For each
         language you must define the following parameters:






                                           49 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Filename - Filename, without extension, for menus and sentences
                    related to one language. Lora will add the extension .MNU
                    for the menus, and .LNG for the sentences.

         Description - Language description. The first character will be used
                       as hot key for the language selection.

         Textfiles path - Directory in which Lora will search for the text
                          files to be displayed. If the file is not found in
                          the directory defined here, Lora will look for it in
                          the directory defined in the BBS / General Options
                          /General text dir. menu.


         Ext. protocols
         ---------------------------------------------------------------------

         This menu handles the configuration of the external protocols. Lora
         cam handle a virtually infinite number of external protocols, that
         responds to the DSZ standard.

         However the DSZ standard is required only for the log file, since the
         other options can be configured using this menu.

         The keys available are the following:

         PgUp/PgDn - Move through the protocols database one item at a time,
                     up and down.

         E - Edits the item displayed on the screen.

         A - Adds a new item to the database.

         D - Deletes the item displayed on the screen from the database.

         Following are the parameters that can be configured for each external
         protocol:

         Active - Allows you to temporarily disable one or more protocols. It
                  must be set to Yes to be usable by the users.

         Name - Name with which the protocol is displayed to the users.

         Hotkey - Command key that the user must type to select that protocol
                  (must not be the same as an internal or external protocol).

         Download command - DOS command to call the external protocol to
                            initiate a download request. The following
                            parameters can be specified:

                            %1 - Name of the file to download (only one file
                                 at a time).
                            %A - User's first name, all capital letters.
                            %b - Baud rate (0 if in local mode).



                                           50 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                            %B - User's last name, all capital letters.
                            %c - The place of the call.
                            %d - The number of the current message area.
                            %D - The number of the current file area.
                            %E - Length, in lines, of the user's screen.
                            %f - User's first name.
                            %F - Path of the current message area.
                            %g - 0=No graphics, 1=Ansi, 2=Avatar.
                            %G - User's daily download limit.
                            %h - Voice phone number of the user.
                            %H - Kilobytes number downloaded today.
                            %i - Total download.
                            %I - Total upload.
                            %j - Connection time for the current call.
                            %k - Task Number.
                            %l - User's last name.
                            %L - In remote calls the flag is replaced with the
                                 '-pX -bY' string, where X is the serial port
                                 (1=COM1,
                                 2=COM2,  etc.) and Y is the baud rate. In
                                 local calls
                                 the flag is replaced with the '-k' string.
                            %M - Path of the current message area.
                            %n - User's first name.
                            %N - BBS name, as defined in the configuration
                                 file.
                            %p - Serial port (0=COM1, 1=COM2, etc.) DOS
                                 version, the OS/2 version returns the COM
                                 port file handle that can be used by external
                                 doors.
                            %P - Serial port (1=COM1, 2=COM2, etc).
                            %q - Path of the current message area, without
                                 final
                                 backslash.
                            %Q - Path of the current file areas, without final
                                 backslash.
                            %s - Sysop's last name.
                            %S - Sysop's first name.
                            %t - Time left for the call, in minutes.
                            %T - Time left for the call, in seconds.
                            %u - User's number.
                            %U - Substituted with the underscore '_'.
                            %v - Path of the upload directory.
                            %V - Path of the upload directory, without the
                                 final backslash
                            %Z - User's full name in capital letters.

         Upload command - Same as the above, but the command must calls the
                          external protocols for an upload request. The same
                          parameters available for the 'Download command' are
                          available here too.

         Log file name - Name of the log file created by the external
                         protocol. This file must be compatible with the DSZ



                                              -                                           51                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                         log format. The same parameters available for the
                         'Download command' are available here too.

         Control file - This file will be created by Lora before calling the
                        external protocol, and contains the download/upload
                        requests made by the user. Each line contains the
                        requests in the format specified by the 'Download
                        string' or 'Upload string' parameters. The same
                        parameters available for the 'Download command' are
                        available here too.

         Download string - Specifies the download command string that must be
                           put in the 'Control file' above. The parameter %1
                           will be replaced by the file path and file name of
                           the file to download.

         Upload string - Same as the above, except that this is for the upload
                         requests.

         Download keyword - Specifies the keyword needed to identify a
                            successful download from the log file. This
                            keyword must be located as the first word on each
                            log file row.

         Upload keyword - Same as the above, but identify a successful upload.

         Filename word
         Size word
         CPS word      - These parameters allows you to specify at which word
                         position Lora can find the filename, size in bytes
                         and CPS efficiency for each successful upload or
                         download from the log file. Each row of the log file
                         will be split in words separated by spaces (ASCII
                         32). The first word (the upload/download keyword)
                         assumes the number 1.

         Batch protocol - If set to Yes, the protocol can do batch downloads
                          and can send the file names on upload, so that Lora
                          don't asks the user for the name of file when
                          uploading.

         Disable FOSSIL - If set to Yes, Lora disables the FOSSIL driver
                          before calling the external protocol. This is useful
                          to avoid possible conflicts between the FOSSIL and
                          the protocol's serial port handler.

         Change to UL dir - Since some external protocols can receive files
                            only in the current directory, if this parameter
                            is set to Yes, Lora will change to the uploads
                            directory before calling the external protocol.







                                         - 52 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.5 - Terminal
         ---------------------------------------------------------------------

         This menu allows you to define the options related to the built-in
         terminal emulator.


         Miscellaneous
         ---------------------------------------------------------------------

         Various options for the terminal emulator.

         Init - Modem initialisation string.

         Download - Directory in which the downloaded files will be stored.

         Upload - Directory from which the emulator will take the files to be
                  uploaded.

         Avatar - Activates / deactivates the Avatar/0+ emulation.

         Auto ZModem - Activates / deactivates the ZModem download auto-
                       recognition.


         IEMSI Profile
         ---------------------------------------------------------------------

         Within this menu you can defines the parameters related to the IEMSI
         (Interactive Electronic Mail Standard Interface) handshaking for the
         terminal emulator.

         With IEMSI you can log in a BBS that supports IEMSI without any user
         intervention. The IEMSI detect is completely transparent to the user.

         IEMSI On - Allows you to enable or disable the IEMSI autologin.

         Info time - Defines the amount of time (in seconds) for which the
                     IEMSI server informations must be shown on the screen.

         Password - Defines the default password to use with a BBS.

         Handle - Defines an optional handle to be used with certain BBS.

         Hot keys - Enables the hot keyed menus. You aren't requested to
                    confirm every command with ENTER to execute them.

         Quiet - Enable the "do not disturb" flag, with a multiline BBS
                 prevents other users to send message to you during the call.

         Pausing - Enable the pause at the end of each screen page. By default
                   the terminal screen will be set to 80x24 characters.

         Editor - Selects the full-screen message editor.



                                         - 53 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         News - Allows you to view (if set to Yes) the bulletins of the called
                BBS.

         New mail - Enables the personal mail check at login time.

         new files - Enables the new files scan at login time.

         Screen clear - Allows the BBS to send the screen clearing codes.
















































                                           54 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.6 - Modem
         ---------------------------------------------------------------------

         Defines the options relater to the modem hardware.

         Modem port - Serial port on which the modem is installed. 1 means
                      COM1, 2 means COM2, etc.

         Maximum baud rate - Defines the speed with which Lora talks with the
                             modem. Usually it's the maximum speed supported
                             by modem, but it must be set to 38400 (or 19200)
                             with hi-speed modems (V32 / V32bis) featuring
                             error correction and data compression.

         Lock port - Activates / deactivates the serial port lock at the speed
                     defined in Maximum baud rate. To be used only if the
                     modem is configured so that it doesn't change the serial
                     speed during connections.

         Terminal - When this flag is on, Lora assumes that a terminal instead
                    of a modem is connected with the serial port. In this case
                    you need to press Enter twice to begin connection. The
                    terminal must be configured at the same speed defined in
                    Maximum baud rate.

         FAX message - Defines the string returned by your Modem/FAX when
                       another FAX machine is connected. By default Lora
                       recognises the "CONNECT FAX" string.

         FAX Errorlevel - Defines the Errorlevel with which Lora exits to DOS
                          after a FAX connection has been established.

         Note: The Modem/FAX support is limited to incoming fax connections.
         Presently there is no support for fax transmission.

         Strip dashes - If set to Yes Lora can strip every dashes (-) from the
                        commands sent to the modem (particularly from the
                        phone numbers).

         Dialing timeout - Defines the number of seconds to wait for the
                           connection with another modem during a call. By
                           default the time is set to 60 seconds.

         Carrier mask - Defines the carrier detect bit mask. Usually this is
                        set to 128 but you can change the value to your likes.
                        Refer to the FOSSIL documentation (Interrupt 14H,
                        service 03H) to know what serial line signals can be
                        monitored with this setting.

                        Usually you can monitor the following signals:

                         16 - Clear To Send (CTS)
                         32 - Data Set Ready (DSR)
                         64 - Ring Indicator (RI)



                                         - 55 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                        128 - Data Carrier Detect (DCD)

                        You can combine the values above to monitor multiple
                        signals (for example the value 160 = 128 + 32 monitors
                        both the DCD and DSR lines). The default value, if
                        left 0, is 128 (DCD).


         DCD drop timeout - Defines the time to wait before hang-up when the
                            carrier is lost. This option is useful when the
                            line noise causes the loss of the carrier for few
                            instants.


         Command strings
         ---------------------------------------------------------------------

         Allows you to define every command for the necessary modem
         management.

         Init - Modem initialisation command. There are some special
                characters that can be used to perform various tasks (valid
                for every modem command described in this section):

                | (pipe)        - Translates to a CR (0x0D, 13) character.
                ~ (tilde)       - 1 second pause.
                ^ (caret)       - Set the DTR line to ON.
                v (lowercase V) - Sets the DTR line to OFF.
                `               - 1/2 second pause.


         Dial prefix - Command to be sent to the modem before the phone
         number.

         Dial suffix - Command to be sent to the modem after the phone number.

         Offhook - Command to be sent to the modem to keep the line busy. Lora
                   sends this command when it can't answer calls.

         Dial X - This table allows you to define 10 alternative call commands
                  to be used instead of the main one. Useful if you need to
                  set a particular initialisations for given modems to be
                  called.


         Answer control
         ---------------------------------------------------------------------

         Allows you to define how and when Lora can answer incoming calls.

         Manual answer - If you set this flag on, Lora answers an incoming
                         call with the command defined in Answer command. Be
                         sure that your modem sends a RING<CR> string on
                         incoming calls, if you want to use this option. If



                                           56 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                         you set this flag to off, then your modem must
                         automatically answer the phone.

         Answer command - Command to be sent to the modem to make it answer
                          incoming calls.

         Limited hours - If you set this flag on, Lora will answer calls in
                         the break between "Starting time" and "Ending time"
                         only.

         Starting time - Defines the hour after which Lora is able to answer
                         calls.

         Ending time - Defines the hour after which Lora will answer calls no
                       longer.


         Nodelist flags
         ---------------------------------------------------------------------

         With this menu you can defines the dialing command to send to the
         modem with the system calls certain nodes, based on the Fidonet
         nodelist flags.

         On the first column, under the 'Flag' sentence must be specified the
         flag to be checked (HST, H14 or ZYX, for example), on the second
         column, under the 'Prefix' sentence must be specified the dialing
         command (ATB1DT, for example).

         The flags verify is done sequentially starting from the first, if a
         node has both the V32B and HST flags and in the list the commands for
         HST and V32B appears in that order, the HST command will be sent.

























                                              -                                           57                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         4.7 - Manager
         ---------------------------------------------------------------------

         This menu collects every system management option.


         Events
         ---------------------------------------------------------------------

         Allows you to define the system events. These options will be
         explained later in a following chapter.


         Nodelist
         ---------------------------------------------------------------------

         Allows you to define the filenames containing nodelists in St. Louis
         format. In the "Nodediff" field you can specify the filename
         containing differences between any nodelist and the next one.

         If you don't put any extension, Lora will look for the file with the
         highest extension.

         Note: To apply differences to the nodelist correctly, the nodediff
         file must be already unpacked in the full nodelist directory, and the
         number of its extension must be the full nodelist extension plus 7.

         Example: a nodediff called NODEDIFF.135 can be applied only to a
         nodelist called NODELIST.128


         Translations
         ---------------------------------------------------------------------

         Allows you to define the international and national prefix codes, as
         well as phone costs for each time interval.

         The following commands are available in the costs table:

         PgUp/PgDn - Allow you to move along the costs file.

         E - Allows you to edit the cost table for the currently displayed
             country. This option will be explained later.

         A - Allows you to add a new country. The system will automatically
             put the new country in the right alphabetical place, regardless
             where you are when you add the country.

         L - Allows you to list the defined countries, and to select one of
             them with the cursor keys.

         D - Allows you to delete the currently displayed country. The system
             will ask confirmation before deleting.




                                              -                                           58                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         C - Allows you to copy the current costs table. The system will ask
             you the country name, the prefix contained in the nodelist, and
             the prefix Lora must dial.

         Location - Defines the country name related to the current prefix.
         Presently it is used in this menu for reference only.

         Prefix - Defines the international prefix. It must be the same as the
                  one contained in nodelist.

         Translate to - Defines the national prefix. Lora will change the code
                        defined in "Prefix" with this one when dialing a node.

         The following table allows you to insert the phone costs relative to
         week days and time intervals. Note: a COST.DAT file relative to
         Italian call prices is contained in the Lora package. You need to
         build ex-novo the file for your country.

         S M T W T F S - Define the week days on which the inserted prices
                         have validity. Respectively: Sunday, Monday, Tuesday,
                         Wednesday, Thursday, Friday, Saturday. Press space on
                         the corresponding letter to deactivate a given day,
                         any other key to activate it.

         Start - Defines the beginning time of the current price interval.

         End - Defines the ending time of the current price interval.

         Cost / Seconds - Defines the cost per seconds relative to the current
                          time interval. The first pair of values represents
                          the answer price, that is the price computed at the
                          beginning of the conversation. The second pair of
                          values represents the price for the following
                          seconds (after the seconds defined in the first
                          couple).

         Note: Lora will always add 20 seconds to each call to approximate (by
         excess) the time before the remote modem answer and the CONNECT
         string.


         Packers
         ---------------------------------------------------------------------

         Allows you to define the packers to be used to pack and unpack mail.
         Don't change the packer order, since it's internally coded.

         You must specify the %1 and %2 parameters for the packing command;
         they will be substituted, respectively, by the archive name and by
         the file to be archived (wildcards included).

         If you experience some problems like not enough memory to run the
         packer/unpacker, you can tell Lora to swap itself out of memory by
         adding the + (plus) character before the packer/unpacker command.



                                              -                                         - 59


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         For example:

         ZIP    +PKZIP -ma %1 %2    PKUNZIP -o %1

         You must specify the %1 command only for the unpacking command.

         Presently Lora supports the ZIP, ARJ, LZH (LH1), LHA (LH5), ZOO, ARC
         packers, recognising automatically the archive format of the file to
         be unpacked.

         Please note that the unpackers are position-sensitive, so that the
         order showed above must be preserved to avoid malfunctions.


         Nodes
         ---------------------------------------------------------------------

         Allows you to create a personal list of the nodes with which you have
         mail or file transmission on a regular basis. You don't need to build
         an external nodelist for these nodes, since Lora considers these
         nodes as known nodes, even if they are not present in the St. Louis
         nodelist.

         The following commands are available in the nodes table:

         PgUp/PgDn - Allow you to move along the node file.

         E - Allows you to edit the current node. This option will be
             explained later.

         A - Allows you to add a new node. The system will automatically put
             the new node in the right numerical place, regardless where you
             are when you add the node.

         L - Allows you to list the defined nodes, and to select one of them
             with the cursor keys.

         D - Allows you to delete the currently displayed node. The system
             will ask confirmation before deleting.

         You can edit the following parameters when editing a node (i.e.
         adding a new one or modifying an existing one):

         Address - Full node address. Note for point nodes: you must insert
                   the address in the format used for echomail forwards. If
                   the point uses fakeaddress, you need to insert the
                   fakeaddress, otherwise you must insert the full 4d address.
                   Lora will automatically sort the database in a node number
                   order.

         Sysop - It is the name of the user that operates the node. The
                 internal netmail remapper tests this name to send netmail
                 messages to points.



                                           60 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         System Name - It is the name of the BBS / Point system.

         Level - Areafix uses this value to decide whether the node is allowed
                 to link given areas (see the corresponding value in the
                 message area definition).

         Packer - Packer to be used for mail directed to this node. When
                  unpacking mail, Lora will recognise automatically the
                  archive format, ignoring this value.

         Session Pw - Password to be used in mail sessions.

         Packet Pw - Password to be used in mail packets to validate origin.
                     If the wrong or missing, the packets will not be
                     imported. They will be stored as BAD_PKT.???, where ???
                     is a progressive number.

         Areafix Pw - Password the node uses to send messages to Areafix.

         Phone - Node phone number. Fill in this field if you want to dial a
                 number different from the one present in nodelist, or if the
                 current node is not present in nodelist.

         Dial prefix - Command to be sent to the modem to call the current
                       node. Usually Lora uses the ATD command, but you may
                       need to use other commands to improve performances (for
                       example, to deactivate the MNP5 compression for already
                       compressed file transmission).

         Capabilities - Allows you to activate / deactivate some functions for
                        the current node. "Remap to point" allows Lora to send
                        messages addressed to "Sysop" or "Aka" to the address
                        specified in the "Address" field. The other flags
                        (WAZOO, EMSI and Janus) are used to deactivate these
                        protocols for the current node.

         Echomail aka - This option allows you to set with which aka send the
                        outgoing mail to this node with. The 'Default'
                        statement chooses the aka defined for each echomail
                        area.

         TIC aka - This option allows you to set with which aka send the
                    outgoing files to this node with. The 'Default' statement
                    chooses the aka defined for each file area.

         Areafix Level / Flags - This option allows you to define the level
                                 and flags to be assigned to node for the
                                 Areafix (echomail) processor. They are used
                                 to check if a certain node can access a
                                 certain echomail area.

         TIC Level / Flags - This option allows you to define the level and
                             flags to be assigned to the node for the TIC



                                         - 61 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                             (echofile) processor. They are used to check if a
                             certain node can access a certain file area.


         Menu
         ---------------------------------------------------------------------

         Allows you to define the menus for the BBS part of the program. The
         options will be explained later.


         Users
         ---------------------------------------------------------------------

         This option allows you to change the user's parameters and add or
         delete users from the database. The options that can be changed are
         self-explanatory, following are the keys that can be used from within
         the users editor:

         PgUp/PgDn - Allow you to move along the user records.

         E - Allows you to edit the current user.

         A - Allows you to add a new user. The system will put the new user as
             the last record in the users database file.

         L - Allows you to list the users in alphabetical order, and to select
             any one of them with the cursor keys.

         D - Allows you to delete the currently displayed user. The user isn't
             physically deleted from the database unless you issue a LUSER -P
             command to explicitly delete any marked record.

         O - Allows you to switch between the first and the second option
             page.






















                                              -                                           62                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         5.0 - Message area configuration
         ---------------------------------------------------------------------

         The message area configuration is made using the BBS / Message menu
         inside LSETUP.

         The displayed window shows the first defined area. If no area has
         been yet defined, every field is empty.

         You have the following commands available:

         PgUp/PgDn - Allow you to move along the areas file.

         E - Allows you to edit the current area. This option will be
             explained later.

         A - Allows you to add a new area. The system will automatically put
             the new area in the right numerical place, regardless where you
             are when you add the area.

             Lora puts new areas at TWIT level, and the maintenance value at
             200 messages (Max messages), 14 days (Message age), 0 days (Age
             received).

         L - Allows you to list the defined areas, and to select any one of
             them with the cursor keys.

         D - Allows you to delete the currently displayed area. The system
             will ask confirmation before deleting.


         5.1 - Message area parameters
         ---------------------------------------------------------------------

         This chapter lists every command that can be edited in a message
         area. After one area has been fully edited, you must press ESC to
         display the all the other areas. If something has been modified,
         LSETUP will ask if you want to save it before exiting.

         Number - Area number. It will be used in the area selection menu and
                  to sort areas as a reference.

         QWK Name - A short name to be used instead of the title, if present,
                    for the QWK packets creation and as an alternative in the
                    area selection menu.

         Name - Name of the area to be shown to users.

         Type - Area type. It can be: Netmail, Echomail, Internet (mail
                addressed to an internet mail gateway), Passthrough (the
                messages will be deleted after export) and Local (no echomail
                information will be added and exporting area to other systems
                is not allowed).




                                           63 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Echo-Tag - Area tag to be used when forwarding messages to other
                    nodes.

         Flags - Flags related to message management: Public only (messages
                 are compulsory public), Private only (messages are compulsory
                 private). If none of the above flags is active, Lora will ask
                 to the user if he wants the message to be public or private.
                 The messages will also be forced during echomail import.
                 Allow alias (the user's nickname is allowed) and Group
                 restricted (access is allowed to given group members).

         Afx level - Areafix level needed to access the current area. A node
                     can be linked to this area with the Areafix function only
                     if his access level is equal or higher than the one
                     defined in this field.

         Storage - Message storage method. The following message bases are
                   supported: Fido (*.MSG), QuickBBS (also known as Hudson
                   base), Pip-Base (compressed message base created and
                   developed by Roberto Piola) and Squish (message base
                   created by Scott J. Dudley). Please note that 'Netmail' and
                   'Internet' supports only the Fido *.MSG message format.

         Group - Group of the area. It can be a number from 0 (no group) to
                 255.

         Path/Board - It contains either the directory used to store messages
                      (Fido), or the board number (QuickBBS and Pip-Base) or
                      the basic name of the file to be used (Squish).

         Aka - Node number to be used when exporting messages. Each echomail
               message exported will be sent from the node defined here.

         Origin - Sentence to be added at the end of echomail messages. By
                  default the node number will be used, but you can specify
                  any sentence. The node number will be automatically added.

         Max messages - Maximum number of messages to be contained in the
                        current area (used by LMSG for maintenance).

         Message age - Maximum age expressed in days of the messages contained
                       in the current area (used by LMSG for maintenance).

         Age received - Maximum age expressed in days of messages received by
                        addressee contained in the current area. Used by LMSG
                        for maintenance.

         Read level - Minimum user's level needed to access the current area
                      and to read messages.

         A Flag
         B Flag
         C Flag




                                         - 64 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         D Flag - Minimum user's flags needed to access the current area and
                  to read messages.

         Write level - Minimum level necessary to be able to write messages in
                       the current area. Lora will not display the "Edit new
                       message" and "Reply to message" commands to users
                       without the proper level.

         A Flag
         B Flag
         C Flag
         D Flag - Minimum flags necessary to write messages in the current
                  area. Lora will not display the "Edit new message" and
                  "Reply to message" commands to users  without the proper
                  flags.

         Forward 1
         Forward 2
         Forward 3 - These fields allows you to define the node numbers to
                     send the echomail messages to. You can write the node
                     numbers with the verbose format (2:332/402 2:332/403) or
                     with the short format (2:332/402 403 404).



































                                         -    -                                           65


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         6.0 - File area configuration
         ---------------------------------------------------------------------

         The file area configuration is made with the BBS / Files menu inside
         LSETUP.

         The displayed window shows the first area. If no area has been yet
         defined, every field is empty.

         The following commands are available:

         PgUp/PgDn - Allow you to move along the area file.

         E - Allows you to edit the current area. This option will be
             explained later.

         A - Allows you to add a new area. The system will automatically put
             the new area in the right numerical place, regardless of where
             you are when you add the area.

         Lora puts new areas at TWIT level.

         L - Allows you to list the defined areas, and to select any one of
             them with the cursor keys.

         D - Allows you to delete the currently displayed area. The system
             will ask confirmation before deleting.






























                                              -                                         - 66


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         6.1 - File area parameters
         ---------------------------------------------------------------------

         This chapter lists every command that can be edited in a file area.
         After one area has been fully edited, you must press ESC to display
         all the other areas. If something has been modified, LSETUP will ask
         if you want to save it before exiting.

         Number - Area number. It will be used in selecting area from the menu
                  and in sorting  areas as a reference.

         Short Name - A short name to be used instead of the area number, for
                      area selection.

         Name - Name of the area to be shown to users.

         Download - Name of the directory containing downloadable files. Lora
                    needs a file called FILES.BBS in the current directory
                    containing filenames and descriptions. The format of this
                    file must be as follows:

                    <filename>   <description>
                    LORA233D.ZIP LoraBBS-DOS v2.33 (Official release)
                     >Lora is a complete mailer front-end,
                     >mail processor and BBS system,
                     >compatible with any Fido Technology
                     >Network.

                    Lines beginning with a space (ASCII 32) are treated like
                    comments, and displayed as is. If the character following
                    the space is the > character, then the line is treated as
                    a multiline description: the rest of the line will be
                    wrapped at the description position in the user's display.
                    The example above will be displayed as follows:

         LORA240D.ZIP  743600 08-04-95  LoraBBS-DOS v2.40 (Official release)
                                        Lora is a complete mailer front-end,
                                        mail processor and BBS system,
                                        compatible with any Fido Technology
                                        Network.

         Upload - Name of the directory in which the files uploaded by users
                  in the current directory will be stored.

         File list - Filename to be read as a file and description list
                     instead of the FILES.BBS file. Used for areas that
                     resides on CD-ROMs or other read-only devices.

         Access priv - Minimum user level to access area and to read the file
                       list.

         A Flag
         B Flag
         C Flag



                                           67                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         D Flag - Minimum user's flags needed to access the current area and
                  to read the file list.

         Download - Minimum level necessary to be able to download files from
                    the current area. Lora will not display the "Download"
                    command to users without the proper level.

         A Flag
         B Flag
         C Flag
         D Flag - Minimum flags necessary to download files from the current
                  area. Lora will not display the "Download" command to users
                  without the proper flags.

         Upload - Minimum level necessary to be able to upload files to the
                  current area. Lora will not display the "Upload" command to
                  users without the proper level.

         A Flag
         B Flag
         C Flag
         D Flag - Minimum flags necessary to upload files to the current area.
                  Lora will not display the "Upload" command to users without
                  the proper flags.

         TIC Level - Minimum level necessary to be able to link this area as a
                     TIC file area.

         A Flag
         B Flag
         C Flag
         D Flag - Minimum flags necessary to be able to link this area as a
                  TIC file area.

         Group - Group of the area. It can be a number from 0 (no group) to
                 255.

         Flags - Generic flags for area management:

                 F (No download limits)  the download limits will not be
                                         considered for the current area.
                 G (Group restricted)    members of the current group only can
                                         access this area.
                 S (No global search)    the current area will be excluded
                                         from any global search (new files,
                                         locate files by keyword).
                 D (No file date)        the file date will not be displayed
                                         in file lists.
                 N (Unknown can request) Every node can request files from
                                         this area, even if they are not
                                         listed in the current nodelist.
                 K (Known can request)   Only the nodes listed in the current
                                         nodelist can request files from this
                                         area.



                                              -                                           68                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                 P (Prot can request)    Only nodes that are listed in the
                                         current nodelist and have a session
                                         password can request files from this
                                         area.
                 C (CD-ROM)              This area physically resides on a CD-
                                         ROM drive or on a read-only device.
                                         This prevents Lora from searching new
                                         files from this area.

         TIC Tag - Name of the TIC area that's being received in this
                   directory. Lora can use tag names up to 20 characters wide,
                   but for compatibility to other TIC processors they can be
                   kept less or equal than 8 characters wide.

         Forward 1
         Forward 2
         Forward 3 - These fields allows you to define the node numbers to
                     send the TIC files to. You can write the node numbers
                     with the verbose format (2:332/402 2:332/403) or with the
                     short format (2:332/402 403 404).

                     There are some flags that can be used to specify if a
                     certain node can act as a receive only or transmit only
                     node:

                     2:332/402  - The node can transmit and receive files in
                                  this area.
                     >2:332/402 - The node is a receive only node. Files sent
                                  from this node aren't processed.
                     <2:332/402 - The node is a transmit-only node. Files sent
                                  from this node are processed, but files sent
                                  from other nodes aren't sent to this node.

























                                              -                                         - 69


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.0 - Menu configuration
         =====================================================================

         Lora is using a menu system that requires to be build up from
         scratch. (Although an easy installation program with some simple
         menus is included). You will have to setup all menus and external
         screens. Lora does include it's own menu program, which has all
         options available.

         There are several ways to setup a menu system for your BBS. The most
         used one looks like this:

                        -------------- Message menus
                        |
         Main menu ------------------- File menus
                        |
                        -------------- Other menus

         Another method is to set up your menus by item:

         Main menu ------------------- Lora file & message
                        |
                        |------------- Modem file & message
                        |
                        -------------- Graphics file & message

         Either way, plan your menu structure carefully. Users like a menu
         structure which is easy to follow.

         Building a menu can be done in two ways. You can either build the
         whole menu with the menu editor, so text is displayed if needed, or
         you can start your menu with an ANSI/ASCII/AVATAR display option
         (with Hot-key) which will display the menu and have all the commands
         in the menu file. Both have advantages and disadvantages.

         Using an ANSI/ASCII/AVATAR file as menu gives you the advantages that
         you can use more colours on one line, use graphics and even
         animation. Disadvantage is that all menu options will be visible to
         all callers, whatever security level they have. You need to setup a
         display file option with the automatic flag set, which means the
         command will be executed automatically.

         Using the normal menu has the advantages that you can hide several
         options from other security levels. Disadvantage is the limited use
         of colour per line. It will be up to you which way you choose.

         Be sure to check your menu files at every security level you have set
         up. Strange things can happen if you make mistakes. Building a menu
         is simple, building a complex menu with many different options for
         different security levels is more difficult. Take your time is a good
         advice.

         You can create or modify your BBS menus by using the LSETUP "Manager
         / Menu" menu.



                                           70                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         First of all you need to select one of the 15 available menus to be
         modified. Note: You can't add menu files at this point. Each menu
         file is associated to one language, so you need to use the "BBS /
         Language" menu for additions or deletions.

         After selection of the file, LSETUP will list the already defined
         menus. The last one, called "< New menu >" allows you to add another
         menu.

         Press ENTER on the "< New Menu >" field to create a new one. Choose
         the proper menu to modify it.

         You need to delete every command inside the menu to delete it. The
         file update routine will delete every menu with no commands inside.

         After a selection is made, LSETUP will display a window with all the
         item options. You have the following commands available:

         PgUp/PgDn - Allow you to move along the item file.

         E - Edit a menu item. After this command, an inverted-colour bar will
             allow you to choose the option to be modified.

         The available options are as follows:

         Display - Text to be shown to the user. The '^' character marks the
                   beginning and the end of highlighted texts, the '~'
                   character is replaced by the minutes left for the call.

                   Spaces must be represented by and underscore character (_).
                   The underscore character can be used only if preceded by a
                   backslash character (\_).

                   A semicolon character (;) will be substituted by a CR/LF
                   sequence.

                   Some embedded commands (listed later) can be inserted in
                   the text to be shown to the user. The embedded commands
                   cannot always be inserted, since some of them are useful
                   for questionnaires only or are useless inside menus.

                   The following embedded commands are available inside menus:

                       ^FC  - Displays the CPS of the last file transmitted.
                       ^FD  - Displays the phone number of office/data.
                       ^FE  - Displays the phone number of home/voice.
                       ^FF  - Displays the date, without time, of the last
                              login.
                       ^FG  - Displays the time of the last login.
                       ^FH  - Displays the percentage efficiency of the last
                              file transmitted.
                       ^FI  - YES/NO IBM character set.
                       ^FL  - Displays the netmail credit.



                                              -                                         - 71


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                       ^FM  - Displays the number of the last personal message
                              read.
                       ^FN  - Displays the number of the last message read in
                              the current area.
                       ^FO  - Displays the user's privilege level in verbal
                              form.
                       ^FQ  - Displays the number of files sent.
                       ^FR  - Displays the number of Kbytes sent.
                       ^FS  - Displays the number of files received.
                       ^FT  - Displays the number of Kbytes received.
                       ^FV  - Displays the number of screen lines set by the
                              user.
                       ^FX  - YES/NO ANSI toggle.
                       ^FY  - YES/NO end of page toggle.
                       ^FZ  - YES/NO formfeed code (ASCII 12) toggle.
                       ^F0  - YES/NO full screen editor toggle.
                       ^F2  - YES/NO hot keyed menu.
                       ^F3  - Displays the user's handle.
                       ^F4  - Displays the first login date.
                       ^F5  - Displays the user's birthday.
                       ^F6  - YES/NO mail check at login.
                       ^F7  - Displays the user's registration.
                       ^F8  - YES/NO AVATAR/0+ toggle.
                       ^F9  - Number of upload/download ratio in the format
                              1:x.
                       ^F!  - YES/NO colours toggle.
                       ^F^A - Displays the next quote reading it from the file
                              defined in the configuration file (^FA also).
                       ^F^B - Displays the user's full name.
                       ^F^C - Displays the user's city (^FB also).
                       ^F^D - Displays the current date.
                       ^F^E - Displays the number of calls made by the user
                              (^FP also).
                       ^F^F - Displays the user's first name (^FW also).
                       ^F^G - One second pause.
                       ^F^K - Displays the total on-line time of the day
                              (counting all the calls made during the day).
                       ^F^L - Displays the on-line time of the present call
                              (^FU also).
                       ^F^O - Displays the time left for the current call.
                       ^F^P - Displays date and onset time of the connection.
                              A CR/LF character is added.
                       ^F^Q - Displays the number of different users who
                              called on that day.
                       ^F^R - Displays the net download of the user so far
                              made (download - upload).
                       ^F^T - Displays current time.
                       ^F^W - Displays the number of Kbytes sent.
                       ^F^X - Displays the number of Kbytes received.
                       ^F^Y - Displays the received/sent Kbytes ratio in x:1
                              format (^F: also).
                       ^F[  - Download remaining for today.
                       ^F\  - The user's selected language.
                       ^F]  - Displays the comment field of the user's record



                                           72                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                              (currently not implemented but available).
                       ^F;  - YES/NO full screen message reader.
                       ^F%  - Shows the default file transfer protocol.
                       ^F"  - Shows the default compressor.

                       ^KA  - Total number of calls to the system (all the
                              lines).
                       ^KB  - Name of the last user who called the current
                              line.
                       ^KC  - Displays the number of the current message's
                              child (answer to this message).
                       ^KD  - Number of the first message (this command has
                              been introduced for compatibility, and is always
                              set to 1).
                       ^KE  - Number of the last message in the current area.
                       ^KG  - Displays the day of the week.
                       ^KI  - Displays the current time in the form hh:mm:ss.
                       ^KJ  - Displays the current date in the form dd mmm aa.
                       ^KK  - Minutes on-line so far for the current call.
                       ^KM  - Number of personal messages found in the message
                              base.
                       ^KO  - Time left for the current call.
                       ^KP  - Displays the number of the current message's
                              parent (message that this message is an answer
                              to).
                       ^KQ  - Time limit for each call.
                       ^KR  - Baud rate of the connection.
                       ^KT  - Daily download limit.
                       ^KU  - Number of minutes still available before the
                              next forced or non BBS event.
                       ^KW  - Number of the line.
                       ^KY  - Title of the current message area.
                       ^KZ  - Title of the current file area.
                       ^K0  - Number of messages in the current area.
                       ^K1  - Number of the currently active message area.
                       ^K2  - Number of the currently active file area.
                       ^K5  - Name of the currently active message area.
                       ^K7  - Displays the user's time bank account.
                       ^K8  - Displays the user's file bank account.
                       ^K9  - Number of messages contained in the current
                              message area.
                       ^K[  - Download remaining for today.
                       ^K\  - Delete the line from cursor to the end.

         Type - Allows you to select, through a pop-up menu listing, the
                action type of the current command. The available actions that
                Lora recognises are listed in the following paragraph.

         Data - Optional parameters needed by some kind of actions (see
                later).

         Hot-key - Key to be pressed to activate the current command. You can
                   use every ASCII character between 32 and 127.




                                         -    -                                           73


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Automatic - When this option is active, the command will be
                     immediately executed during the menu display, with no
                     need to press the key defined in "Hot-key". Useful to
                     display any file before the menu, or to execute a given
                     action, depending on user's level and flags.

         First time - When this option is active, this item will be visible,
                      and usable, only the first time the menu is shown.

         Hide display - When this option is active, the "Display" field will
                        not be shown to users.

         Color - Normal colour of the text to be displayed. The colour can be
                 changed in the "Display" field also, by means of the internal
                 colour change codes.

         Hilight - Hilighted colour of the text to be displayed. The text to
                   be hilighted must be included between two ^ symbols (i.e.:
                   This ^text^ is hilighted).

         Security - Minimum user's level needed to see and to execute the
                    current command.

         Flags-A
         Flags-B
         Flags-C
         Flags-D - Minimum user's flags needed to see and to execute the
                   current command.

         A - Adds a new command. LSETUP adds the new command after the
             currently displayed one. Normal colour, hilight colour and
             command level will be the same as the currently displayed one.

         L - Lists commands. You can choose the one you like with the cursor
             and Enter keys.

         D - Deletes current command. Lora will ask confirmation before
             deleting.

         S - Shows menu. The menu will be displayed as it appears to users.
             The access levels and flags will not be considered. The control
             codes like CTRL-C will be shown as printable characters (i.e.:
             ^C).

         You can fill in the "Data" field with additional parameters related
         to specific commands. The available parameters are following:

         /K=<keys> - Puts the characters defined in <keys> into the internal
                     keyboard buffer. Useful to realise "short keys" for given
                     operations. This option is available in registered
                     versions only.

         /AGE=<n>  - Defines the minimum age that a user must have to view and
                     issue certain command. <n> must be in years.



                                         - 74 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         It's possible to display every option of the menu by operating with
         the /C<count><op><value> switch (see also the menu type 104), where:

         <count>  - Number of the counter, from 0 to 3.
         <op>     - Command to be executed. Presently are available
                    = (equal), < (smaller), > (bigger), ! (different).
         <value>  - Value from 0 to 255.

         I. E., /C1=10 displays that particular option only if the counter is
         equal to 10.














































                                           75 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1 - Menu types
         ---------------------------------------------------------------------

         In this chapter all the menu types (executable actions) allowed by
         Lora will be described.

         For sake of clarity, menu types are described in an order based on
         the arguments.

         Missing numbers are related to internal functions only.


         7.1.1 - Moving between menus
         ---------------------------------------------------------------------


         14 - Clear Goto menu

         Has the same function as the "Goto menu" command, but the menu stack
         is erased before executing the command.

         There is a clear screen code before entering the menu. If you don't
         want it, you have to insert the /NS parameter in the "Data" field.


         15 - Clear gosub menu

         Has the same function as the "Gosub menu" command, but the menu stack
         is erased before executing the command.

         There is a clear screen code before entering the menu. If you don't
         want it, you have to insert the /NS parameter in the "Data" field.


         16 - Return to MAIN menu

         Erases the menu stack and goes back immediately to MAIN, the first
         menu of the tree.


         21 - Goto menu

         Makes a GOTO function (the name of the current menu is not put in the
         stack) to a general menu.

         It's possible to give a password protection to this menu, with the
         /P=xxxx option, where xxxx is the case-insensitive password, asked to
         the user who tries to enter this menu.

         Optionally it's possible to specify the default file and message area
         using the /M[=n] and /F[=n] switches. If the area number is not
         specified, the last area visited by the user will be assumed.





                                              -                                         - 76


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         There is a clear screen code before entering the menu. If you don't
         want it, you have to insert the /NS parameter in the "Data" field.


         61 - Gosub menu

         Makes a GOSUB function (the name of the menu is put in the stack) to
         a general menu.

         It's possible to give a password protection to this menu, with the
         /P=xxxx option, where xxxx is the case-insensitive password, asked to
         the user who tries to enter this menu.

         Optionally it's possible to specify the default file and message area
         using the /M[=n] and /F[=n] switches. If the area number is not
         specified, the last area visited by the user will be assumed.

         There is a clear screen code before entering the menu. If you don't
         want it, you have to insert the /NS parameter in the "Data" field.


         66 - Return to previous

         Goes back to the previous menu, taking it from the internal stack. If
         the current menu is the first one, it has no effect.


         67 - Clear menu stack

         Erases the internal menu stack, without going back.



























                                              -                                         - 77


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.2 - Message Areas
         ---------------------------------------------------------------------

         19 - Kill message

         Allows users to kill their messages (written by or sent to his/her).
         The Sysop can kill every message.


         40 - Edit new message

         Allows the user to write a new message. The menu name for the line
         editor must be set in the "Data" field. Calls to this menu are made
         by a "Gosub menu" command.

         It's possible to set the following switches, to let the user write
         essential data, on particular circumstances:

         /T="<to>"   - Message receiver.
         /S="<subj>" - Message subject.
         /A=<n>      - Number of the area in which the message will be saved.
         /L          - After saving the message, the user will be logged off
                       immediately.

         41 - Reply to message

         Like the previous command, but it replies to the last message read,
         changing automatically receiver and subject.

         The menu name for the line editor must be set in the "Data" field.
         Calls to this menu are made by a "Gosub menu" command.

         For the external full screen editor, Lora creates a file containing
         the original message the user is replying to.

         53 - Short message list

         Lists the messages in the selected area on one line only (short
         mode). The information displayed is: message number, sender, receiver
         and subject.

         54 - Read next message

         Reads the next message. Messages that are missing or unavailable to
         the user (i.e.: private messages to someone else) will be
         automatically skipped.

         55 - Read previous message

         Reads the previous message. Messages that are missing or unavailable
         to the user (i.e.: private messages to someone else) will be
         automatically skipped.

         56 - Read message non-stop



                                         - 78 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Reads all the following messages, after the last read, without
         stopping at the end of any message or page.

         The full screen reader is temporarily ignored.

         57 - Read parent message

         Reads the current message's parent (the message that this message is
         an answer to). The item with this menu type is available and is
         displayed only if the current message has a valid parent message
         number.

         58 - Read child message

         Reads the current message's child (the answer to this message). The
         item with this menu type is available and is displayed only if the
         current message has a valid child message number.

         59 - Check mailbox

         Checks the user's personal mail, and if the user has personal mail
         not yet read, makes a "Gosub menu" command to the menu name set in
         the "Data" field.

         64 - Read individual message

         Reads a message specifying the number. Please note that the hot key
         used to activate this menu type is the first digit of the message
         number; other digits, if there are, are taken from the input buffer.

         It's suggested to add the digits from 0 to 9 to this menu type, to
         allow the user to read any message simply by entering the
         corresponding number.

         89 - Verbose message list

         Displays the list of messages in the area, showing sender, receiver,
         subject, the flags, date and time at which the message was written
         (detailed mode).

         118 - List areas w/new messages

         Executes a "Change area" command (see later), and lists only the
         areas with new messages since user's last messages read (i.e.,
         messages arrived after the last one read by the user).

         119 - Write message to disk

         Exports the last message read to a disk file or device (i.e.: PRN: or
         LPT1:). Lora will ask the filename to be created.






                                              -                                           79                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.3 - File areas
         ---------------------------------------------------------------------

         22 - File list

         Displays the list of files in the current area. The files present in
         FILES.BBS only, contained in the current directory, will be
         displayed.

         Lora will not display any file which, even though present in
         FILES.BBS, is not physically present in the current directory.


         23 - Download file

         Enables the user to choose a transfer protocol and download one or
         more files. If the user has a valid default download protocol, Lora
         will not ask for it.

         It's possible to specify the following parameters the "Data" field:

         /NOREM - Ignores the files tagged for later download (by default Lora
                  asks the user if his/her can download the selected files).

         /F=<filename> - File name (wildcards allowed) to send to the user.
                         With this parameter only the transfer protocol will
                         be requested. This parameter is useful for BBSes that
                         put the latest releases of certain programs
                         downloadable with a single command.

         If you specify a filename in the "Data" field, the limitations like
         maximum Kbytes limit, Upload/download ratio, etc. will be ruled out.
         Only the maximum connection time limit will be considered.


         24 - File display

         Displays an ASCII file contained in the current area. Files displayed
         with this command can't contain control codes or embedded command
         (see another chapter of this manual).


         25 - Raw directory

         Displays the Dos Directory of the current area. This command lists
         all the files in the current directory, including orphan files (files
         present in the directory, but not listed in FILES.BBS).


         65 - Tag files

         Allows the user to select one or more files for a later download.
         This command is useful to select multiple files from multiple areas
         and download them all in one time (is a batch protocol is used).



                                           80                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95




         68 - Locate files

         Allows the user to find one or more files in any area, specifying a
         keyword.

         Setting the /F parameter in the "Data" field, the search will be done
         in the current area only.


         69 - Upload file

         Allows the user to send a file using one of the available transfer
         protocol. If the user has a valid default download protocol, Lora
         will not ask for it.

         If the user chooses a protocol that does not transmit the filename
         (i.e.: XModem and 1k-XModem), Lora will ask the filename to be
         uploaded.

         When the upload is finished, Lora will search every area to see if
         the uploaded file is already present. If he finds it somewhere, Lora
         will delete the uploaded file. If not, Lora will give back to the
         user the time spent for file transmission.


         72 - Override path

         Allows the user to set a different path to the current area. It's
         useful if you want to send or to receive files in any directory of
         the hard disk.

         CAUTION! It's suggested to give access to this command to SYSOP or
         trustworthy people only.


         73 - New files list

         Displays the list of files arrived after the last user's login, or
         after a date specified by the user.

         Setting the /F parameter in the "Data" field, the search will be done
         in the current area only.


         102 - Archive contents

         Displays the content of compressed files. Lora is able to display the
         content of the files archived by means of ARJ, ZIP, ARC, LZH and LHA
         (Amiga also).


         122 - Upload to filebox



                                         -    -                                           81


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Allows a user to send a file to another user that has an active
         filebox. It asks for the destination user's name, then it follows the
         normal upload procedure.


         123 - Download from filebox

         The filebox's contents is checked and displayed to the user if there
         are waiting files, then it asks if he/she wants to download them. Is
         possible, for the user, to tell Lora to delete the files downloaded
         successfully answering yes to the following question.


         127 - Kill from filebox

         Allow a user with an active filebox to delete their files without
         downloading them.


         128 - List filebox

         Allow a user with an active filebox to list their contents without
         asking for download.


         129 - List/Remove tagged files

         Allows a user to list or remove, as specified on the "Data" field,
         the files selected for later download.

         If the "Data" field is empty, the command lists the selected files,
         if the /R parameter is present, after the file list the system asks
         to remove one file.























                                           82                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.4 - Users configuration
         ---------------------------------------------------------------------

         This group has been divided into two selection menus: "User
         configuration 1" contains all the commands up to "77 - Set full
         screen reader", and "User configuration 2" contains all the other
         ones.


         27 - Set password

         Allows the user to change his password.


         29 - Set nulls

         Allows the user to set a number of null characters (ASCII 0) to be
         sent after each CR/LF sequence. Useful for very slow computers.


         30 - Set screen length

         Allows the user to set the number of lines to be displayed before a
         "more?" request.


         32 - Set 'more?' question

         Allows the user to enable or disable the end-of-page pause.


         33 - Set screen clear

         Allows the user to enable or disable the clear screen code (ASCII
         12). In Ansi emulation, the code is automatically expanded in the
         correct sequence.


         34 - Set editor

         Allows the user to enable the full screen editor (only if Ansi or
         AVATAR graphics are active) or the line editor.


         35 - Set location

         Allows the user to set or change the city from which he calls.


         36 - Set mail check at logon

         Allows the user to enable or disable the personal mail check at
         logon.




                                              -                                         - 83


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         37 - Set Avatar/0+

         Allows the user to enable or disable the Avatar/0+ emulation for
         graphics and colours.


         38 - Set ANSI

         Allows the user to enable or disable the ANSI/VT100 emulation for
         graphics and colours.

         If the user deactivates both Avatar and ANSI graphics, the full
         screen editor (if active) will be deactivated also.

         When ANSI is active, Avatar will be deactivated. Lora uses Avatar as
         an ANSI alternative, not as a complement.


         39 - Set Color

         Allows the user to enable or disable the colour sequences. Useful if
         the user has an ANSI terminal with a B/W monitor.


         70 - Set signature

         Allows the user to set his personal signature. This sentence will be
         inserted automatically at the bottom of each message, just before the
         tearline for echomail messages, and at the last row of echomail and
         local messages.


         77 - Set full screen reader

         Allows the user to enable or disable the full screen reader for the
         messages. To enable it, it's necessary to have ANSI or AVATAR/0+
         emulation set on.


         99 - Set alias

         Allows the user to set his nickname. By default, the alias is the
         same as user's name.


         100 - Set voice phone

         Allows the user to set his voice phone number.


         101 - Set data phone

         Allows the user to set his office or data phone number.



                                         - 84 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95




         106 - Set hot-keyed menu

         Allows the user to set the menu hot keys. With hot-keyed menus is no
         longer necessary to press the ENTER key to confirm a command.


         117 - Set IBM characters

         Allows the user to enable or disable the display of ASCII characters
         higher than 127. When disable, Lora will remap the upper 128
         characters of the ASCII code (from code 128 to 255), to a more
         standard character set that is readable by any personal computer
         using a standard ASCII set. It's possible to define a translation
         table for each language.


         121 - Set user group

         Allows the user to select which group he wants to belong to. You can
         specify in the "Data" field the /M switch to select the message
         group, or the /F switch to select the file group.

         Lora displays to the user the file MGROUP.* for the message areas, or
         the file FGROUP.* for the file areas, then waits for a number. The
         user now can select the group number. This number will be recorded in
         the users file, so that it don't needs to be set at every call.


         124 - Set birthdate

         Allows the user to insert his own birthdate. Lora will use this
         information to display the text file containing the happy birthday
         wishes and to make random user checks.


         125 - Set default protocol

         Allows the user to choose the default transfer protocol.


         126 - Set default archiver

         Allows the user to choose the default packing protocol to be used
         with the off-line reader.











                                         -    -                                           85


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.5 - Line editor
         ---------------------------------------------------------------------


         42 - Save message

         Saves the message text. If the /RET parameter is set in the "Data"
         field, a "Return to previous menu" function will be executed.

         If you omit the /RET parameter, your users can post carbon copies of
         the same message to more than one receiver. They have just to change
         the receiver name, then save the message again.


         43 - Abort editing

         Aborts the message creation. A "Return to previous menu" function is
         executed. The text deletion is operated only by this command.


         44 - List message text

         Displays the text of the message just written.


         45 - Edit line

         Allows the user to edit one line of the message. The original line
         will be displayed before the prompt for the new text.


         46 - Insert line

         Allows the user to insert a line inside the text.


         47 - Delete line

         Allows the user to delete one or more lines from the text.


         48 - Continue editing

         Allows the user to go on writing the message, starting from the line
         after the last written.


         49 - Change 'To' field

         Allows the user to change the message receiver. If the /RET parameter
         is not specified in the "Save message" command, it can be used to
         send the same message to more than one receiver.





                                         -    -                                           86


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         50 - Change subject

         Allows the user to change the message subject.






















































                                              -                                         - 87


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.6 - Personal mail
         ---------------------------------------------------------------------

         The commands for personal mail allow the Sysop to create a
         personalised menu for this option also. By default, Lora looks for a
         menu called "READMAIL", that must be always present.


         74 - Read next mail

         Reads the next personal message, or the first one, if the user has
         read none so far.


         75 - Read previous mail

         Reads the previous personal message.


         76 - Read mail non-stop

         Reads all the messages without stopping at the end of any message or
         page. The full screen reader is temporarily ignored.


         82 - List mail

         Displays the list of personal messages not yet read by the user,
         showing message area, sender, receiver, subject, flags, date and time
         at which the message was written.


         85 - Read individual mail

         Reads a message specifying the number. Please note that the hot key
         used to activate this menu type is the first digit of the message
         number; other digits, if there are, are taken from the input buffer.

         It's suggested to add the numbers from 0 to 9 to this menu type, to
         allow the user to read any message simply by entering the attached
         number.
















                                           88                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.7 - Multiline chat
         ---------------------------------------------------------------------


         78 - Send Online message

         Allows the user to send a one-line message to another user connected
         on a different line of the system. This is a quite rudimental
         multiline chat.

         It' s the only way to send a message to users not connected with CB
         CHAT SYSTEM.


         81 - Users on-line

         Displays the list of users currently connected to the system. When
         one line is busy in mail transfers with other nodes, Lora will show
         "Mail with <node>" to users.


         95 - Who is where

         Displays the list of CB Chat System channels that are currently
         active, and the users connected to each channel. This command is the
         same as the /a command in Chat System.


         96 - CB-chat system

         Sets the multiline chat with a 40 channel transreceiving simulation.
         The user is automatically 'tuned' on channel 1.

         In the "Data" field it's possible to set the channel number to which
         the user will be tuned when entering the chat.

         The following commands are available inside the CB chat:

         /a         - Displays who is connected on each channel, from 1 to 40.

         /c<num>    - Allows the user to change channel. <num> ranges from 1
                      to 40.

         /q         - Exits the CB chat.

         /w         - Displays who's connected on the current channel.











                                         -    -                                           89


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.8 - Off-line reader
         ---------------------------------------------------------------------

         Lora supports a built-in QWK and ASCII off-line mail packer. This
         feature allows callers to log on, pack up messages from one or more
         message areas, and download a compressed mail bundle for off-line
         reading and reply.

         This packer is fully integrated with the main BBS, so the packer will
         automatically adjust itself as areas are added to or deleted from
         your system.

         Following are the menu types that allows you to set up a menu that
         allows you users to pack and download new messages, as well as upload
         their replies.


         86 - Tag areas

         Allows the user to define the message areas where Lora must keep the
         pointer to the last message read. During the export of messages in
         QWK and ASCII format only these areas will be considered.

         When asking the list of areas (with the question mark) the "@"
         character will be associated to the marked areas.

         A maximum of 50 areas can be marked.


         87 - ASCII download

         Allows the user to download the new messages present in the marked
         areas in ASCII format. Lora will ask which packer (Zip, Arj or Lharc)
         and which transfer protocol must be used.

         This method is offered as an alternative to QWK for those users who
         don't have (or don't want to install) a QWK reader.

         No control is kept of the dimension of the file to be downloaded,
         except for the one regarding the transfer time, that must not be
         longer than the time left for the current call.

         The proper option inside the "BBS / QWK setup" menu allows you to
         limit the number of messages per packet.


         88 - Resume download

         Allows the user to resume the download of the message packet, if it
         has not yet been completed.


         112 - QWK download




                                              -                                           90                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Allows the user to download the new messages present in the marked
         areas, in QWK-compatible format. Lora will ask which packer (Zip, Arj
         or Lharc) and which transfer protocol must be used.

         To use this option the user needs to have a QWK reader installed.
         Presently many readers, more or less powerful, exist for a lot of
         common systems.

         No control is kept of the dimension of the file to be downloaded,
         except for the one regarding the transfer time, that must not be
         longer than the time left for the current call.

         The proper option inside the "BBS / QWK setup" menu allows you to
         limit the number of messages per packet.











































                                           91 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.9 - Built-in doors
         ---------------------------------------------------------------------

         Lora includes a few common doors internally built, so that it's
         possible to use external doors for unusual reasons only (like games).

         Presently Lora includes a QWK compatible mail processor, a time and
         file bank, and a BBS database.

         The menu types related to these doors will now be presented, as well
         as a brief general description of the doors.


         91 - Show account

         Allows the user to see the amount of time and Kbytes in his account
         at the BBS time/file bank.


         92 - Deposit time

         Allows the user to deposit a certain amount of time left for the
         current call in the BBS time bank. The deposited time will be
         automatically subtracted from the time left for the current call and
         from the daily total time.


         93 - Withdraw time

         Allows the user to withdraw time from the BBS time bank. The minutes
         added are usable only for the current call. If for any reason the
         current call ends, all the time withdrawn will be lost and at the
         next call only the time left before withdrawing will be available.


         114 - Deposit Kbytes

         Allows the user to deposit a certain amount of Kbytes left for today
         in the BBS file bank. The deposited Kbytes will be automatically
         subtracted from the Kbytes left for today.


         115 - Withdraw Kbytes

         Allows the user to withdraw Kbytes from the BBS file bank. The Kbytes
         added are usable only the current day.


         107 - Add to BBS-list

         Allows the user to add a record in the BBS database included in the
         program. Lora will ask for the data that are needed for the BBS
         identification.




                                         -    -                                           92


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.


         108 - Short BBS list

         Displays the BBS database contents in short format (one BBS per
         line). Unlike the "Long BBS list", the user cannot enter a string to
         search for.

         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.


         109 - Long BBS list

         Displays the BBS database contents in detailed format, showing all
         information introduced by the "Add to BBS-list" command on many
         lines.

         The user can also enter a search string to limit the listing only to
         a restricted group of BBSes.

         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.


         110 - Change BBS list

         Allows the user to modify the data of one or more BBS present in the
         database. Lora will ask the name (even partial) of the BBS to be
         changed.

         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.

         Caution: everybody can change any record of the BBS database, no
         control of the user who selects this command is being kept, unless
         you use the /R switch that allows only the users at SYSOP level and
         the user named as the BBS's Sysop to change the data of that BBS.


         111 - Remove BBS list

         Allows the user to delete one or more BBS present in the database.
         Lora will ask the name (even partial) of the BBS to be deleted.



                                           93 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.

         Caution: everybody can delete any record of the BBS database, no
         control of the user who selects this command is being kept, unless
         you use the /R switch that allows only the users at SYSOP level and
         the user named as the BBS's Sysop to change the data of that BBS..


         120 - Download BBS-list

         Allows the user to download the BBS list database in readable ASCII
         format. Lora asks for the default protocol only (if the user has not
         made any choice).

         You can specify up to 10 BBS lists using the /L=<number> switch. Each
         BBS list will have a separate file database named
         BBSLIST<number>.BBS. If you don't specify the /L= switch, the default
         file database named BBSLIST.BBS is used.



































                                         -    -                                           94


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         7.1.10 - Other commands
         ---------------------------------------------------------------------

         This group has been divided into two selection menus: "Miscellaneous
         1" contains all the commands up to "51 - Press enter to continue",
         and "Miscellaneous 2" contains all the other ones.


         0 - Display only

         This command does absolutely nothing but display the 'Display' field
         to the user.


         3 - Logoff

         Stops the connection displaying the LOGOFF.* file to the user. No
         confirmation is asked. If you want to request confirmation to the
         user before logging him out, you have to create a proper menu.


         5 - Display text files

         Displays any text file. You must specify the name of the file, path
         included, to be displayed in the "Data" field.

         If no extension is specified, Lora looks for the following: .AVT,
         .BBS, .ANS (if ANSI is active) and .ASC.

         The files may contain the internal special commands.

         By default a clear screen code is sent before displaying the file. If
         you don't want it, you have to specify the /NS command in the "Data"
         field.

         If you specify the /R flag in the "Data" field, Lora issues a 'Press
         [Enter] to continue' message after the file is displayed to the user.

         If you specify the /P flag in the "Data" field, the file will be sent
         to the user 'as is' without interpreting the embedded commands inside
         it.

         6 - Yell at Sysop

         Allows the user to call the Sysop for a chat. Lora displays a window
         with the commands available to begin the chat or to stop the user's
         request.

         When the user asks for this function, Lora looks in the current
         directory for a file called 'PAGE.DAT', containing the notes of the
         music that is played in the wait of the sysop's answer.

         The file is a normal ASCII text; each line may be a comment (if the
         first character is ';' or '%'), or a tone/length command, or a pause



                                           95                                         -    -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         command. Please look at the sample file for a clear explanation about
         music composition.

         In the "Data" field it is possible to specify the following
         parameters:

         /T=<sec>  - Duration (in seconds) of the music (default until the end
                     of the file).

         /F=<file> - Music file to use instead of the default PAGE.DAT.

         /NL       - Do not log this request both in the log file and on the
                     status line.

         /A="<s>"  - Advertisement to display to the user instead of the
                     default string found in the language file (the quotes are
                     mandatory).


         7 - User status

         Displays a coded internal page related to the present configuration
         of the on-line user. All the shown parameters are also available as
         embedded commands.

         If you specify the /R flag in the "Data" field, Lora issues a 'Press
         [Enter] to continue' message after the status page is displayed to
         the user.


         8 - User list

         Displays the BBS' users. Allows also to find somebody by specifying a
         part of the name.

         It's possible to set the following switches in the "Data" field:

         /L[=x] - Displays only the users who called in the last x days. If
                  the command is given in the short form /L, the user may
                  specify the number of days.

         /T[=x] - Displays only the users who called at least x times. If the
                  command is given in the short form /t, the user may specify
                  the number of times.

         /H     - Displays the user's alias, instead of their real names.

         /S     - Swap the first and last name of the users displayed.

         /F     - Displays the users with an active filebox only.


         9 - Version information




                                         - 96 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Displays the program copyright and version number, and much
         additional information, like the processor type, the free memory in
         the heap (variable's space in Borland C), free disk space, etc.


         10 - Run external program

         Executes an external program in a Dos shell. The full name of the
         file to be executed must be set in the "Data" field. It's possible to
         execute also batch files.

         It's possible to set other special commands to give some additional
         information to the called program. The commands are the following:

         *0 - Path of the current file area.
         *1 - Path of the current message area.
         *B - Baud rate (0 if in local mode).
         *F - User's first name
         *G - 0=No graphics, 1=Ansi, 2=Avatar.
         *H - Disables FOSSIL driver before executing the program.
         *L - User's last name.
         *M - Swap of the total memory occupied by Lora, leaving only
              1.5K for the recovery routines.
         *N - Task number.
         *P - Serial port (1=COM1, 2=COM2, etc.).
         *R - User's position inside the user's database (record
              (number).
         *S - Don't read the LORAINFO file after the end of the
              external program.
         *T - Time left for the current call.
         *W - Actives the FOSSIL watchdog. If the carrier drops, FOSSIL
              driver reboots the system.
         *X - Prevents the creation of the LORAINFO.T?? by Lora.
         *! - Stops time during the door execution.
              The user will be allowed as much time as had before
              entering the door.
         *# - Disables the 'wants chat' flag. Useful for external
              chat programs.

         For compatibility with Scott Dudley's Maximus-CBCS 2.00,
         the following command are available:

         %A - User's first name, all capital letters.
         %b - Baud rate (0 if in local mode).
         %B - User's last name, all capital letters.
         %c - The place of the call.
         %C - The last answer to the questionnaire ^OR command (see the
              EMBEDDED COMMANDS section for more details).
         %d - The number of the current message area.
         %D - The number of the current file area.
         %E - Length, in lines, of the user's screen.
         %f - User's first name.
         %F - Path of the current message area.
         %g - 0=No graphics, 1=Ansi, 2=Avatar.



                                         -    -                                           97


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         %G - User's daily download limit.
         %h - Voice phone number of the user.
         %H - Kilobytes number downloaded today.
         %i - Total download.
         %I - Total upload.
         %j - Connection time for the current call.
         %k - Task Number.
         %l - User's last name.
         %L - In remote calls the flag is replaced with the
              '-pX -bY' string, where X is the serial port (1=COM1,
              2=COM2,  etc.) and Y is the baud rate. In local calls
              the flag is replaced with the '-k' string.
         %M - Path of the current message area.
         %n - User's first name.
         %N - BBS name, as defined in the configuration file.
         %p - Serial port (0=COM1, 1=COM2, etc).
         %P - Serial port (1=COM1, 2=COM2, etc).
         %q - Path of the current message area, without final
              backslash.
         %Q - Path of the current file area, without final
              backslash.
         %s - Sysop's last name.
         %S - Sysop's first name.
         %t - Time left for the call, in minutes.
         %T - Time left for the call, in seconds.
         %u - User's number.
         %U - Substituted with the underscore '_'.
         %v - Path of the upload directory.
         %V - Path of the upload directory, without the final backslash
         %Z - User's full name in capital letters.


         11 - Bulletin menu

         Displays the file set in the ARGUMENTS field, in the same way as menu
         type 5. At the end of the display the user must write a suffix of 8 -
         <filename length> characters. The file whose name is made out of the
         "Data" field name plus the characters entered by the user is
         displayed, in the same way as menu type 5.

         For example, if the BULLET name is set in "Data" field, the
         BULLET.AVT (or ANS, ASC, BBS) file is displayed. Then the user enters
         two characters; if the user digits "1B", the BULLET1B.AVT (or ANS,
         ASC, BBS) file will be displayed.

         To stop the command the user has to press Enter on an empty line.


         13 - Show quotes

         Displays a sentence taken from the text file called QUOTES.BBS, in
         the directory specified in the "Textfiles path" field of the current
         language.




                                              -                                           98                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Each quote must be separated by a blank line.


         17 - Change area

         Displays the list of areas (message of file area depending on the
         currently active section) in one column and allows the user to choose
         one of them.

         Valid optional parameters for the "Data" field are:

         /M        - Lists message areas.
         /F        - Lists file areas.
         /2        - List areas on two columns,
         /3        - Lists area on one column, with the area "Short name"
                     after the number. Selection is possible using the short
                     name also.
         /4        - List areas on one column, with the are "Short name"
                     instead the area's number. If the short name field is
                     empty, the area's number is displayed. Selection is
                     possible using either the area's number or the short
                     name.
         /G[=<n>]  - Limits list to the areas belonging to the group specified
                     by <n> only. If /G only is specified, the default user
                     group will be shown.


         51 - Press enter to continue

         Displays the message 'Press [Enter] to continue' and waits for the
         user to press the Enter key.

         It is possible to set the text to be shown in the "Data" field
         instead of the default message defined in the language file.


         83 - Comment to next caller

         Allows the user to leave a message to the next user calling the
         system. The message will be displayed after the WELCOME.* file, then
         killed.

         To write the message the user has to use the line-oriented editor,
         (even if he choose the external full screen editor). In this way
         about 70 lines of 80 characters each are available.

         The utility developers for Lora should note that the name of the file
         created is NEXT<n>.BBS, where <n> is the current task number. The
         file is in the Fido format message (*.MSG).


         90 - Time statistics

         Displays a few statistical lines related to the current user.



                                           99 -                                         - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95




         97 - Display system file

         Reads and displays a file from the directory set by "Textfiles path"
         of the current language. In the "Data" field you must set the
         filename, without path.

         If no extension is specified, Lora looks for the following: .AVT,
         .BBS, .ANS (if ANSI is active) and .ASC.

         The file can contain the special internal commands.

         By default a clear screen code is sent before displaying the file. If
         you don't want it, you must insert a /NS commands in the "Data"
         field.

         If you specify the /R flag in the "Data" field, Lora issues a 'Press
         [Enter] to continue' message after the file is displayed to the user.


         98 - Display last callers

         Displays the list of calls received in the last 24 hours on every BBS
         line.


         104 - Set counter

         Inside the users' database, four counters, ranging each from 0 to 255
         are available for particular application. This menu type allows you
         to change the contents of these parameters.

         In the "Data" filed you must set the counter number and the action to
         execute, with the following switches:

             /C<n> - Counter number from 0 to 3.

             /R<n> - Set the <n> value to the counter.

             /D<n> - Decrease the counter by <n>.

             /I<n> - Increase the counter by <n>.


         105 - Usage graphic

         Shows a vertical bar graphic with the average usage percentage of the
         BBS in the 24 hours. Computation is made from the first system
         activation.







                                        - 100 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         8.0 Areafix and Raid functions
         =====================================================================

         Since Lora can provide a built-in support for echomail and TIC files
         processing, Lora provides the tools that allows your downlinks to
         maintain their echomail and TIC links too, without manual
         intervention and without relying on external utilities.

         Two "robot" answers at the "Areafix" and "Raid" names, they are the
         managers for echomail and TIC file processors respectively. I have
         choose these names because of their popularity over the Fidonet
         community.


         8.1 Areafix function usage
         =====================================================================

         The Areafix function allows remote nodes to link and/or unlink
         message areas of the system by means of netmail messages.

         A typical message to Areafix is as follows:

         From: Marco Maccaferri (2:332/402.1)
         To:   Areafix (2:332/402)
         Subj: PASSWORD
         ====================================
         -CARTONI.332
         +CARTONI.ITA
         %LIST
         ---

         The calling node must be authorised to use Areafix on your system.
         The receiver must be Areafix (case insensitive) with your system
         address. In the 'subject' field the password of the sender's node
         must be inserted.

         The message text contains commands that Areafix will execute
         following the order. In the previous example, the CARTONI.332 will be
         unlinked, the CARTONI.ITA will be linked, and a available area
         request will be answered.

         Areafix will answer the sender with one or more messages for
         operation confirmation.

         Lora's Areafix function interprets the following commands (compatible
         with Fabiano Fabris' standard proposal FSC-0057.002):

         [+]AREATAG        - Link an area (+ is optional).
         -AREATAG          - Unlink an area.
         %-ALL             - Unlink every area.
         %+ALL             - Link every area.
         %LIST             - Send a list of the available areas.
         %QUERY            - Send a list of the already linked areas.




                                        - 101 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         %UNLINKED         - Send a list of the available and not yet linked
                             areas.
         %RESCAN           - Exports every message contained in the echomail
                             areas specified on the following lines to the
                             node that has requested the command.
         %PWD <pwd>        - Allows the change the password to be used with
                             Areafix.
         %SESSIONPWD <pwd> - Allows to changed the mail session password.
         %PKTPWD <pwd>     - Allows to change the password to be put on the
                             mail packets headers.
         %PACKER <type>    - Select the default packer. <type> must be the
                             word under the ID column specified in the Manager
                             / Packers menu.
         #OLD : NEW        - Allows you to changed the tag of an echomail area
                             from OLD to NEW. To use this command a node must
                             have an access level grater or equal to that
                             specified in the Mailer / Areafix menu.
         %FROM <node>      - Allows the user to make changes for another node.
                             The following lines are traded as if originating
                             from the node <node>. To use this command the
                             node must have an access level greater or equal
                             to that specified in the Mailer / Areafix menu.
         %HELP             - Send a help message to use Areafix.

         For compatibility with other Areafix programs, if the subject
         contains a '-q' switch, Areafix will send a list with the linked
         areas in the same message as well as the operation confirmation, and
         the '-r' switch enable the rescan of the echomail areas linked.





























                                        -     -                                          102


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         8.2 Raid function usage
         =====================================================================

         The Raid function allows remote nodes to link and/or unlink file
         areas of the system by means of netmail messages.

         A typical message to Raid is as follows:

         From: Marco Maccaferri (2:332/402.1)
         To:   Raid (2:332/402)
         Subj: PASSWORD
         ====================================
         -SDSRA
         +LORA_OS2
         %LIST
         ---

         The calling node must be authorised to use Raid on your system. The
         receiver must be Raid (case insensitive) with your system address. In
         the 'subject' field the password of the sender's node must be
         inserted.

         The message text contains commands that Raid will execute following
         the order. In the previous example, the SDSRA file area will be
         unlinked, the LORA_OS2 file area will be linked, and a available area
         request will be answered.

         Raid will answer the sender with one or more messages for operation
         confirmation.

         Lora's Raid function interprets the following commands (compatible
         with Fabiano Fabris' standard proposal FSC-0057.002):

         [+]AREATAG        - Link an area (+ is optional).
         -AREATAG          - Unlink an area.
         %-ALL             - Unlink every area.
         %+ALL             - Link every area.
         %LIST             - Send a list of the available areas.
         %QUERY            - Send a list of the already linked areas.
         %UNLINKED         - Send a list of the available and not yet linked
                             areas.
         %RESCAN           - Exports every message contained in the echomail
                             areas specified on the following lines to the
                             node that has requested the command.
         %PWD <pwd>        - Allows the change the password to be used with
                             Raid and the TIC processor.
         #OLD : NEW        - Allows you to changed the tag of an echo file
                             area from OLD to NEW. To use this command a node
                             must have an access level grater or equal to that
                             specified in the Mailer / TIC processor menu.
         %FROM <node>      - Allows the user to make changes for another node.
                             The following lines are traded as if originating
                             from the node <node>. To use this command the
                             node must have an access level greater or equal



                                              -                                        - 103


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                             to that specified in the Mailer / TIC processor
                             menu.
         %HELP             - Send a help message to use Raid.

         For compatibility with other Raid programs, if the subject contains a
         '-q' switch, Areafix will send a list with the linked areas in the
         same message as well as the operation confirmation.


















































                                        -     -                                          104


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.0 - External programs
         =====================================================================

         In this chapter we will describe the external programs included in
         the Lora Package, and how they can work with different programs.


         9.1 - LMSG Message area maintenance
         ---------------------------------------------------------------------

         LMSG is the message base maintenance program; criteria especially
         defined for each area are used.

         Be sure to have configured each area properly before using LMSG.

         If LMSG is run with no parameters on the command line, some helpful
         information on the available commands will be shown.


         Message base limits
         ---------------------------------------------------------------------

         The Fido message base (*.MSG), PIP-base and Squish have no "logical"
         limits of number and dimensions of the messages; the only limit
         depends on the space available on the hard disk.

         The Hudson message base (QuickBBS) is limited as far as the file
         dimension and the number of the messages are concerned. That is due
         to its internal structure. The number of messages that can be stored
         is about 16000. You can configure LMSG so that this limit will never
         be crossed.

         The Hudson base is also limited with regard to the internal number of
         messages, that cannot be higher than 32767. It's  suggested to
         renumber the messages (better by night) to be sure that this limit
         will never be crossed.


         Command list
         ---------------------------------------------------------------------

         -I  INDEX  (Options: U, R)

         This command rebuilds the message base indexes (QuickBBS and Pip-base
         only) by rewriting the MSGIDX.BBS, MSGTOIDX.BBS and MSGINFO.BBS
         files. For the Pip-base the files involved are MPTRxxxx.PIP and
         DESTPTR.PIP.

         During the operation, you can choose to delete the messages stored in
         unknown boards (boards that have no corresponding area defined in the
         MSGINFO.DAT file).






                                          105                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         With Fido *.MSG message areas, this command creates a file named
         MSGTOIDX.DAT used by the personal mail scanner to find out the
         messages waiting in the Fido *.MSG areas.

         Setting the R option LMSG will also renumber the messages.


         -P  PACK  (Options: K, R)

         Packs the message base by physically overwriting the deleted messages
         and their text (QuickBBS, Pip-base and Squish only).

         Deleting messages (e. g. by the -K command), doesn't' mean that they
         are removed from the base. They are simply marked as deleted. You
         have to pack the base to free the space occupied by these messages.

         The pack command allows also to delete messages following the
         directions selected in the configuration file (like the -K command,
         but which, however, does not pack the message base) and to renumber
         the messages (like the -R command). In this way you can make all the
         standard maintenance with a single command.


         -K  Purge messages

         This command deletes the messages according to the directions
         selected in the area configuration. In the QuickBBS, Squish and PIP-
         base, the messages are not physically removed (you must use the PACK
         command to do it), whereas in the Fido base they are physically
         eliminated from the directory.


         -R  Renumber messages

         Renumbers the QuickBBS and Fido *.MSG message bases. The PIP-base and
         Squish don't needs to be renumbered.


         -L  Link messages

         Reply-link the messages using the subject field. You can then easily
         follow the threads using the reply-link navigation commands of the
         BBS and/or of your message editor.


         -X  Exclude (Options: S, Q, F, P)

         This switch allows you to exclude one or more message bases from the
         current operation. The options means for Squish, QuickBBS, Fido *.MSG
         and Pip-base.

         For example, if you want to renumber all the Fido message areas, but
         not the Hudson message base, you can use the following command:




                                              -                                          106                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         LMSG -R -XQ

         Note that Pip-base and Squish don't needs to be renumbered.






















































                                              -                                        - 107


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.2 - LUSER Users maintenance
         ---------------------------------------------------------------------

         LUSER is the program that performs the normal maintenance for the
         users' database. It not only physically deletes the users marked for
         deletion, but also allows the System Operator to delete all the users
         who have not called the BBS for an extended period of time as well as
         sorts the database by first name or last name.

         LUSER must be run from the directory that contains the users'
         database files.

         A list of available command line switches is shown below:

         -P      Packs the user database by physically removing all the
                 deleted records.

         -S      Sort the users by last name.

         -SP     Sort the users by access level (higher first) and by last
                 name.

         -D[n]   Deletes the users who have not been calling your system for
                 [n] days. Please note that this command involves a database
                 packing.

         -M[s]   Tells LUSER not to delete users with an access level
                 greater or equal to the one specified by [s]. [s] must
                 be the first letter of the privilege level:

                 T - Twit
                 D - Disgrace
                 L - Limited
                 N - Normal
                 W - Worthy
                 P - Privel
                 F - Favored
                 E - Extra
                 C - Clerk
                 A - Asstsysop
                 S - Sysop
















                                        -     -                                          108


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.3 - LTOP Users statistics
         ---------------------------------------------------------------------

         LTOP is a statistical bulletin maker related to the users' database.
         On the command line what type of statistics will be generated and the
         resulting file name must be specified.

         LTOP must be followed by the name of the file to be created (with
         full path name and extension) and one or more of the following
         switches:

         -U<n> - Number of uploads
         -D<n> - Number of downloads
         -S<n> - Number of download Kbytes
         -R<n> - Number of upload Kbytes
         -C<n> - Number of calls
         -M<n> - Number of written messages

         For all the available switches, n stands for the number of users to
         be included in the statistic. As a result you have the top <n> users
         related to the specified data.

         LTOP always creates the specified file, even if it already exist. If
         more than one switch is specified, the result of each statistics is
         appended in sequential order, with a pause after each result.
































                                          109                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.4 - FILEIDX File request index
         ---------------------------------------------------------------------

         This program allows you to create the file requests index file,
         useful to speed-up the file search during a file request.




















































                                              -                                          110                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.5 - External door support
         ---------------------------------------------------------------------

         Lora can invoke external doors by means of embedded commands or
         menus. In both ways, it's not possible to shell to DOS with
         Errorlevel. Each door is executed from inside Lora main program, that
         can only be temporarily "removed" from memory while leaving 1.5k for
         the recovery code.

         Before calling a door, Lora creates a file called LORAINFO.Txx, where
         xx is the line number, in hexadecimal form.

         The file contains the user's record and much other useful
         information. Please look as the Lora Application Program Interface
         (LORA-API.ZIP) in the original package, for more details on this file
         format.

         Since it is a non standard file, not so many doors support it.
         Anyway, a program called L2WORLD by Marcello Ardini is distributed
         together with Lora. This program creates a lot of standard files from
         the LORAINFO file. The compatibility with most of the doors for BBS
         is granted.

         Coming back from the door, the LORAINFO.Txx is read again and
         deleted. All the parameters, except for time (if it's not changed)
         and the access level are updated.

         For the programs that don't accept the alphanumeric form of Lora
         access levels, the equivalencies are here listed:

              TWIT       16
              DISGRACE   32
              LIMITED    48
              NORMAL     64
              WORTHY     80
              PRIVIL     96
              FAVORED    112
              EXTRA      128
              CLERK      144
              ASSTSYSOP  160
              SYSOP      176
              HIDDEN     192















                                          111                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.5.1 - L2WORLD External door interface
         ---------------------------------------------------------------------

         This is the most powerful and useful utility distributed with Lora.
         With this utility, written by Marcello Ardini of 2:332/402.2, Lora
         can to be used with a very big number of door programs, written for
         other BBS software.

         L2WORLD is able to create the files needed to use the doors written
         for Opus 1.03, Opus 1.10, Opus 1.70, RemoteAccess 1.01, QuickBBS
         2.64. It can also create the DORINFO1.DEF and DOOR.SYS files (Doorway
         compatible).

         Following is the command line format to use L2WORLD:

         L2WORLD I|E <door type> [<options>]

         I - The <door type> format should be imported inside the Lora's own
         drop file. This may be useful when you are using external doors that
         changes the user's parameters, such as timebanks, lottery.

         E - The <door type> format should be exported. This is the normal
         usage mode for L2WORLD. This option allows you to create a wide
         variety of drop file formats to use most doors currently not
         available for Lora.

         <door type> - Is the drop file format to be used. It may be one of
                       the following:

                       LO110 - Lora 1.11 (LORAUSER.BBS)
                       RA100 - Remote Access v. 1.0x (EXITINFO.BBS)
                       RA111 - Remote Access v. 1.1x (EXITINFO.BBS)
                       DI    - QuickBBS (DORINFO1.DEF)
                       DW    - Doorway mode 1 (DOOR.SYS)
                       DW2   - Doorway mode 2 (DOOR.SYS)
                       OP103 - Opus 1.03 (LASTUSER.BBS)
                       OP110 - Opus 1.10 (LASTUSER.DAT)
                       MI    - Message information (MSGED.BBS)

         <options> - The following options may be specified:

                     -D - The directory where the drop file should be created
                          (usually the door's path name). By default the
                          current directory will be used.
                     -I - The path where the Lora's drop file (LORAINFO.Txx)
                          should be read. Usually this is the Lora's main
                          directory. By default the current directory will be
                          used.
                     -T - Specifies the task number.
                     -B - Overrides the baud rate written to the drop file.
                     -X - Insert the task number in the drop file (such as
                          DORINFO2.DEF, DOOR3.SYS).
                     -O - Overrides the baud rate written to the drop file
                          using the configured maximum baud rate.



                                          112 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                     -S - Log style format: 1-Opus, 2-Telix, 3-Mirror, 4-
                          Frontdoor).
                     -M - Automatically writes the MSGED.BBS file (Message
                          information) when using DORINFO1.DEF or Doorway drop
                          files.
                     -Q - Operates quietly.
                     -E - Writes in the log file the errors only.
                     -P - Insert the real password (not the Lora's encrypted
                          one) in the drop file.
                     -C - Overrides the COM port.


         Note for OS/2 users: this is a DOS program even with the OS/2
         package, due to technical reasons we cannot recompile it as a native
         OS/2 program.










































                                              -                                          113                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9.6 - TN_LORA TelNet Daemon (OS/2 only)
         ---------------------------------------------------------------------

         As the name suggests, this program is used to provide a telnet daemon
         for Lora. When this program is running everyone on the internet can
         call your system with a standard telnet connection and use your board
         as if they were online through a modem.

         Two main problems that must be considered before running it:

              1. The program dosn't provide any standard internet FTP (File
         Transfer Protocol). It is a merely interface to the telnet socket.
         Your users can use the internal file transfer protocols, but they
         must connect with a telnet program that can do file transfer using at
         least Xmodem. However, FTP services are available via OS/2's TCP/IP
         version 2.0 installation which is required for the telnet access.

              2. You can't run any other telnet daemon when TN_LORA is
         running. You must disable (rename) the telnetd of your TCP/IP
         environment in order for TN_LORA to run. This file is usually located
         in \tcpip\bin\telnetd.cmd.

         TN_LORA must be started from within the Lora's main directory
         (usually C:\LORA), in this directory must be found the TN_LORA.CFG
         file. The configuration file is made of two text lines, the first is
         the .OVL file to start when an incoming telnet call is detected
         (usually C:\LORA\LORA.OVL), the second line is the command line
         argument to pass to the .OVL program.

         Following is an example of a working TN_LORA.CFG file:

         c:\lora\lora.ovl
         -tcpip %1 -na -m -rlora%k.log

         Where:

         -tcpip %1     - Will pass the socket number information to the called
                         program (this is mandatory).
         -na           - Enables the auto detection of the next available task
                         number, since you can have multiple telnet calls this
                         is mandatory to avoid conflicts.
         -m            - Disables the mailer front end (optional).
         -rlora%k.log  - Tells Lora to create a log file with the task number
                         inside the filename, like the -na this is used to
                         avoid conflicts when opening the log file
                         (mandatory).

         The TN_LORA window will display each incoming call with the caller's
         IP number and the socket number. The IP number is also recorded in
         the comment field of the user that logs in.

         TN_LORA must be started after TCP/IP services have been started,
         either via the STARTUP.CMD file or via the STARTUP folder. OS/2's
         TCP/IP must run first and bind with the system before TN_LORA can be



                                              -                                        - 114


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         successfully loaded. One way to do this is to call TN_LORA via the
         STARTUP.CMD file, but create a 30 second delay in STARTUP.CMD before
         invoking TN_LORA.

         For example: a simple REXX script might do the following:

         /* Rexx test */
         call RxFuncAdd 'SysLoadFuncs', 'RexxUtil', 'SysLoadFuncs'
         call SysLoadFuncs
         call SysSleep 30

         'cd \lora'
         'start' tn_lora












































                                              -                                          115                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         10.0 - The Terminal Emulator
         =====================================================================

         Although Lora was designed primarily as an e-mail and BBS system, it
         also features a powerful terminal emulator. The terminal emulator
         features very accurate and efficient terminal emulation and file
         transfer protocols, and several other features found in expensive
         and/or complex communications packages.

         The terminal emulator is invoked by pressing ALT-T from the Lora's
         main menu, or by specifying TERMINAL on the command line when it is
         started.

         Most functions of the terminal emulator are reached by holding down
         the ALT key and pressing a key, A through Z.

         Each function and menu of the terminal emulator will now be
         described.

         Download files (PgDn) - Receive one or more files from the remote
                                 system.

         Upload files (PgUp) - Transmit one or more files to the remote
                               system.

         O.S. Shell (ALT-J) - Invokes a temporary operating system shell. Type
                              EXIT and press [Enter] to return to the terminal
                              emulator.

         Leave terminal (ALT-X) - Depending on how the terminal emulator was
                                  invoked, this will return you to the Lora's
                                  mailer screen or to the operating system.

         Change baud rate (ALT-B) - Allows you to change the current DTE baud
                                    rate, regardless of the 'Lock baud' option
                                    set.

         Expand CR to CR/LF - Determines how a received CR character should be
                              processed. If set to No, no expansion is made,
                              If it is set to Yes, all received CR characters
                              will be expanded to CR/LF.

         Local echo (ALT-E) - If the service you are connecting to do not echo
                              the characters you type, it may be necessary to
                              enable this option to see what you are typing.
                              If the service echoes the characters you type
                              and you are using this option, you will get
                              duplicate characters, like "AATTZZ".

         Auto-ZModem download - If the terminal emulator detects the special
                                sequence a ZModem transmitter sends when a
                                ZModem file download is started, it will
                                automatically start the ZModem receiver. If




                                        - 116 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                                you disable this option, you must use <PgDn>
                                to receive files.

         Capture (ALT-L) - Allows you to capture the characters received to a
                           disk file or to a printer. The terminal emulator
                           automatically filters the ANSI and Avatar
                           sequences, they will never appear in a capture
                           file.

         Hangup (ALT-H) - Disconnects the current call and displays the
         elapsed time.

         Initialize modem (ALT-I) - Transmit the modem init string as
                                    configured in the Terminal / Miscellaneous
                                    menu.

         Reset timer (ALT-R) - Resets the on-line timer. The timer is
                               automatically reset when a new connection is
                               made.

         Clear screen (ALT-C) - Clears the screen and moves the cursor to the
                                upper-left screen corner.

         Dialing directory (ALT-D) - Brings up the dialing directory manager.

































                                              -                                        - 117


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         10.1 - The dialing directory
         ---------------------------------------------------------------------

         The dialing directory allows you to define up to 100 phone numbers.
         The terminal emulator keeps the dialing directory in a file named
         PHONE.DAT located in the Lora's main directory.

         The informations stored for each system are the following:

         Name - System's name.

         Location - City and country where the system is located.

         Phone - Phone number. The number can be written either in the
                 international format (such as 39-51-6331730) or in the local
                 format (such as 6331730). The phone cost calculation is made
                 only if the phone number is written in the international
                 format, unless you have changed the default cost table
                 (Manager / Costs menu) to work even with your local phone
                 format.

         Password - The password to be used with this system (shown as dots
                    for security reasons).

         Download path - Where the files downloaded from this system should be
                         kept.

         Auto capture - This option allows you to automatically open the
                         capture file when a connection to this system is
                         made. The capture file is always open in append mode.

         Capture - The capture's file name.

         IEMSI - Allows you to automate the login to this system using the
                 IEMSI (Interactive Electronic Mail Standard Interface)
                 protocol.

         Local echo - Tells the terminal emulator that each character typed
                      should be written to the screen, because the remote
                      system does not echo the characters typed.

         Strip high bit - If set, this option automatically resets the 7th bit
                          of each character received.

         When the dialing directory is invoked, it shows a list of the stored
         entries and allows you to choose what system must be called. The
         bottom line of the list's window shows you the available keys:

         ESC - Closes the dialing directory and return to the terminal screen.

         ENTER - Dial the highlighted entry.






                                        - 118 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         INS - Adds a new entry to the directory. The new entry is
               automatically saved to disk when you exit the editing window by
               pressing the ESC key.

         E - Edit the highlighted entry. The modifyed entry is automatically
             saved to disk when you exit the editing window by pressing the
             ESC key.

         DEL - Delete the highlighted entry (the system requests a
               confirmation before deleting the entry).

         When dialing a system you may see a window with the following
         information: attempt number, timeout for the current call, name,
         location and phone number of the called system, and the modem's
         response.

         The following keys are available:

         ESC - Aborts the dial and return to the terminal screen.

         SPACE - Retry to call the system (if the phone is busy and your modem
                 does not recognizes the busy signal).

         A - Add 15 seconds to the timeout. This option should be used if the
             remote system answers the phone few seconds before the timeout
             expires.































                                        -     -                                          119


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.0 - Miscellaneous
         =====================================================================

         This chapter collects the arguments that don't belong to a specific
         chapter.


         11.1 - Keyboard commands
         ---------------------------------------------------------------------

         Lora can execute certain operations by a particular key sequence.
         Usually it's a ALT + <key> combination.

         The function associated to each key changes across different
         situations. The available situations are the following: waiting for a
         call, online user, terminal emulation.


         11.1.1 - Waiting for a call
         ---------------------------------------------------------------------

         The following commands can be executed:

         ESC - It activates the pull-down menus (see later).

         ALT-A - Manual answer. It forces the modem the answer an incoming
                 call by sending the answer string specified in the Modem /
                 Commands menu.

         ALT-C - It calls LSETUP in Lora shell. Each modification executed
                 (except for those related to the users and the event
                 scheduler) will be available when coming back to Lora.

         ALT-D - It forces an immediate call. Lora will call the first node to
                 be called immediately, without waiting for the time specified
                 for the current event.

         ALT-E - This command invokes the local message editor, in a Lora
                 shell.

         ALT-I - It sends the modem initialization command.

         ALT-J - Executes a DOS shell.

         ALT-K - Local connection. Login is made exactly like in remote
                 connections. Lora puts off-hook the phone line before
                 entering the BBS.

         ALT-L - It locks the keyboard with a password (needed for
                 activation). In locked mode, the ALT-K command only will be
                 available. To re-enable keyboard, you need to type the right
                 password when Lora waits for a call. To completely disable
                 the keyboard locking, the "Password" field must be left
                 blank.



                                          120 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         ALT-M - It makes a calling entry for a specific node. Lora will ask
                 for the node number to be called and calling priority. If you
                 specify "Immediate", Lora will immediately call the node; any
                 other flag will be processed according to the current event.

         ALT-P - It forces mail processing. This command makes an IMPORT from
                 the directory defined for the current event, an EXPORT of
                 every echomail message, and a netmail and outbound packets
                 PACK. TIC files are processed too.

         ALT-Q - It makes an outbound scan, updating the node window.

         ALT-R - It makes a file request from a specific node. Lora will ask
                 for the node number to be called, the file(s) to be
                 requested, and calling priority. If you specify "Immediate",
                 Lora will immediately call the node; any other flag will be
                 processed according to the current event.

         ALT-S - It makes a file attach to a specific node. Lora will ask for
                 the node number to be called, the file(s) to be attached, and
                 calling priority. If you specify "Immediate", Lora will
                 immediately call the node; any other flag will be processed
                 according to the current event.

         ALT-T - It activates the internal terminal emulator (see later for
                 specific commands).

         ALT-X - Exits to DOS. Lora puts off-hook the phone line before
                 exiting.

         Down/Up arrows - Node scrolling inside the window.


         11.1.2 - User online
         ---------------------------------------------------------------------

         While there's a user on-line, the following commands are enabled:


         ALT-F - Allows you to change user's flags.

         ALT-H - Disconnects the user immediately.

         ALT-J - Makes a DOS shell.

         ALT-L - Disconnects the user immediately, and reduces his level to 0.
                 A 0-level user can't connect the system any more.

         ALT-N - Toggles the "Nerd" flag for the current user. If the nerd
                 flag is on and the user wants a chat, no sound will be
                 produced. The user does not understand that he's not calling
                 anybody.




                                        - 121 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ALT-S - Allows the sysop to modify the user's access level.

         F1-F4 - They display a few stats about the on-line user and the
                 previous call.

         F9    - Displays a short list of available commands.

         ALT-F1 - ALT-F10 - They display a file called ALTFxx.*, where xx
                            ranges from 10 to 100 depending on the kunction
                            key pressed (ALT-F1 exits with errorlevel 10, ALT-
                            F2 exits with errorlevel 20, and so on). The file
                            must be stored in the "textfiles" directory
                            specified for the current user language.

         Grey Plus - It rises user's level by 1 unit (i.e. from Normal to
                     Worthy).

         Grey Minus - It lowers user's level by 1 unit (i.e. from Worthy to
                      Normal).

         Up/down arrows - They add/remove 1 minute to/from the current user's
                          time left.


         11.1.3 - Terminal emulator
         ---------------------------------------------------------------------

         The keys available for the internal terminal emulator are the
         following:

         ALT-B - Permette di cambiare la velocita' di collegamento, scorrendo
                 in sequenza tutte le velocita' possibili.

         ALT-C - Clears the screen and puts the cursor in the upper left
                 corner.

         ALT-D - Starts up the dialing directory selection menu. You can dial
                 an entry, inser new entry, edit or delete existing entry.

         ALT-H - Hangups the call.

         ALT-I - Sends the terminal initialization string to the modem. Please
                 note that this string is different from the one used when
                 Lora waits for a call.

         ALT-J - Makes a DOS shell.

         ALT-L - Activates/deactivates the capture from the modem. When
                 activating, Lora will ask for the file in which the
                 information will be stored (by default, TERMINAL.CAP).

         ALT-P - Permette di cambiare il formato della parola da inviare al
                 modem da N81 (nessuna parita', 8 bit di dati, 1 bit di stop)




                                        - 122 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                 a E71 (parita' pari, 7 bit di dati, 1 bit di stop). Di
                 default la parola e' N81.

         ALT-R - Resets the time-online counter (displayed in the lower right
                 corner).

         ALT-X - Exits from terminal mode and goes back to "waiting for a
                 call" mode.

         ALT-Z - Activates the pull-down menus.

         PgDn  - File download: Lora will ask for the protocol to be used and,
                 if necessary, the destination filename.

         PgUp  - File upload: Lora will ask for the protocol to be used and
                 the filename to be uploaded. The file must be in the upload
                 directory defined in LSETUP.

         Scroll
         Lock  - Activates the Doorway<tm> mode for the terminal emulator. The
                 doorway mode is a special emulation made expecially for the
                 Doorway program that allows you to do an operating system
                 shell on the remote machine and use any remote program with
                 the local keyboard and screen.
                 When you activate the doorway mode the terminal screen will
                 be enlarged to 25 lines and your keyboard acts exactly as the
                 remote keyboard, so that you can no more use any Alt-xx
                 sequence to perform local tasks (such as upload, download,
                 and so on).
                 Please refer to the Doorway user's documentation for more
                 information about the remote shell.


























                                          123 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.2 - Command line
         ---------------------------------------------------------------------

         Lora accepts command line parameters, that allow you to manage many
         lines with a single configuration file.

         -B<speed> - Connection speed: This parameter indicates there's a user
                     online, so that the BBS is immediately loaded. If the
                     carrier detect is down, Lora exits immediately with the
                     errorlevel specified for every call.

         -C<file> - Sets the configuration file to be read instead of
                    CONFIG.DAT. If the file doesn't exist, LSETUP will be
                    automatically run, allowing you to create the
                    configuration file.

         -F<string> - Passes to Lora the flags reported by the modem. I.E.:
                      Arq/Hst/Hst/V42bis.

         -I<string> - Tells Lora the modem initialization string to be used
                      instead of the string defined in the configuration file.
                      Useful for multiline systems with different modems.

         -L - Sets Lora to be run in local mode.

         -M - Disables the internal front-end mailer. After connection, the
              user will immediately enter the BBS, with no need to press ESC
              twice.

         -N<num> - Determines the task number. This parameter has priority
                   upon the same command in the configuration file. Evaluation
                   copies (not registered) can't define a number different
                   from 1.

         -NB - Prevents Lora from executing the before/after import/export/
               pack commands. Useful if you want to toss, scan or pack the
               mail without any other processing made by the before/after
               commands.

         -O<address> - Tells Lora that the <address> node is online, and that
                       your system generated the call.

         -P<num> - Sets the serial port to be used. This command has priority
                   upon the same command in the configuration file.

         -R<file> - Sets the log file name to be written. This parameter has
                    priority upon the same command in the configuration file.

         IMPORT   - Unpacks the mail packets an toss the messages in the
                    echomail/netmail areas. The command 'TOSS' means the same
                    thing.

         EXPORT   - Esports the messages from the echomail areas to the linked
                    nodes. The command 'SCAN' means the same thing.



                                              -                                        - 124


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         NODELIST - Starts the nodelist compilation and, if applicable, the
                    nodediff update feature. When all the nodelist available
                    are compiled Lora exits back to the DOS prompt.

         PACK     - Exports the netmail messages to the addressed nodes and
                    packs the mail accordingly to the route rules.

         POLL     - Immediately polls the node specified after the keyword
                    (for example: POLL 2:332/402). If the poll fails, Lora
                    exits with errorlevel 1, if succedes it can process the
                    mail received or exit with the errorlevel defined for the
                    current event as the 'Aftermail exit'.

         TERMINAL - Brings up the terminal emulator. The terminal then will
                    exits directly to the DOS prompt.

         TIC      - Processes the inbound TIC files, tossing them in the
                    appropriate file areas and forwarding them to the
                    receiving nodes.





































                                        -     -                                          125


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.3 - External support files
         ---------------------------------------------------------------------

         We will now list all the files that Lora displays to users for any
         communication.

         The files must be stored in the "textfiles path" directory defined
         for the current user language.

         1ATATIME - Shown to the user who tries to connect himself to more
                    than one line with the same name at the same time.

         APHORISM - Shown by Menu type 13, before displaying the current
                    quote.

         APPLIC   - Shown to the new users after the name confirmation and
                    before asking them the calling site.

         ALIASASK - Shown to the user before asking him if he wants to use a
                    nickname, or the real name.

         BADPWD   - Shown when a user inserts a bad password too many
                    times, before logging him out.

         BIRTHDAY - Shown if the current date is the user's birthday.

         BFAILED  - Shown to the user who gives a wrong answer to the birthday
                    check.

         BVERIFY  - Shown to the user before asking him his birthday for
                    validation.

         CB_HELP  - Help file for the multiline chat (CB Chat system)

         COMPHELP - Help file for the available packers.

         CHGPWD   - Shown when a user wants to change his password.

         DAYLIMIT - Shown when a user has already spent all his
                    available time for today.

         DEFCOMP  - Shown, if exists, instead of the internally coded packer
                    list. This file is concerned with the default packer
                    selection only.

         DEFPROT  - Shown, if exists, instead of the internally coded protocol
                    list. This file concerns the default protocol selection
                    only.

         FGROUP   - Shown by Meny type 121, when the user has to choose the
                    file group. Usually if contains the list of the available
                    groups.

         FILEAREA - Shown, if exists, instead of the internally coded file



                                        - 126 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                    list.

         FSHELP   - Help file for the internal full-screen message editor.
                    This file can not include any embedded command for
                    pausing, color change, etc.

         LEAVING  - Shown to the user, before executing an external door.
                    Usually used to inform the user to wait for a little time.

         LESSBAUD - Shown when the current baud rate is lower than the
                    previous one.

         LOCKOUT  - Shown when the sysop hits ALT-L to avoid next calls
                    from the on-line user.

         LOGO     - Shown at the beginning of a call, before asking
                    the user's full name.

         LOGOFF   - Shown at the end of a call, before dropping the
                    line.

         LOGONSEC - Shown to the user if his access level is not high enough
                    to access the system.

         LOGONFLA - Shown to the user if his active flags are not enough to
                    access the system.

         LOGONAGE - Shown to the user if his age is not high enough to
                    access the system.

         MGROUP   - Shown by Meny type 121, when the user has to choose the
                    message group. Usually it contains the list of the
                    available groups.

         MOREBAUD - Shown when the current baud rate is higher than
                    the previous one.

         MSGAREA  - Shown, if exists, instead of the internally coded message
                    list.

         NEWS     - Sysop's news bulletin. Displayed before entering
                    the main menu.

         NEWUSER1 - Shown after the environment  question sequence,
                    before the new password request.

         NEWUSER2 - Replaces the rookie file at the first login only.

         NOTAVAIL - Shown when the user try to yell at the Sysop outside the
                    paging hours defined in the BBS / Paging hours menu.

         NOTIME   - Shown when the user has not enough time to complete
                    a download.




                                        - 127 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         PAGED    - Shown to the user after the yell to the sysop stops.

         PREDNLD  - Shown to the user after selecting the download command,
                    and before asking him the download protocol and filename.

         PREREG   - Shown when a new user tries to enter a system
                    that does not allow new users (see the LOGON LEVEL
                    parameter in the LSETUP configuration program).

         PREUPLD  - Shown to the user after selecting the upload command, and
                    before asking him the upload protocol.

         RATIO    - Shown when a user who exceeded the down/up ratio
                    tries to begin a download.

         RETURN   - Shown to the user when coming back from an external door.

         ROOKIE   - Used to give help to the new users and to let them
                    get to know the system. You can choose how many
                    times this file has to be displayed in the LSETUP program.

         SEC#     - Displayed before the mail checker, only if the file
                    exists. The # character represents the user's
                    access level in numeric form. See external doors chapter
                    for more details.

         SECALL   - Shown to the user if the sec#.* related to the online
                    user's level does not exist.

         SHELLBY  - Shown to the user when the Sysop makes a DOS shell while
                    he's online.

         SHELLHI  - Shown to the user when the Sysop comes back from a Dos
                    Shell.

         STARTCHT - Shown to the user at the beginning of a user-sysop chat.

         ENDCHT   - Shown to the user at the end of a user-sysop chat.

         TIMEWARN - Displayed when the time left to the user overflows
                    to a forced or non BBS event. The time is adjusted
                    automatically.

         TODAYK   - Displayed when the total file dimension exceeds
                    the daily limit as defined for the users' access
                    level.

         TOOSLOW  - Displayed when a user tries to connect himself at a too
                    low baud rate.

         TRASHCAN - Displayed if a user tries to use a name that is not
                    allowed in this system (listed in the file
                    TRASHCAN.DAT, described below).




                                          128 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         TRASHPWD - Displayed if a user tries to use a password that is
                    not allowed in this system (listed in the file
                    TRASHPWD.DAT, described below).

         ULSPACE  - Shown where there isn't enough free disk space in the file
                    area's upload drive, as defined in the BBS / General
                    options menu, 'Min. upload space' field..

         WARNPWD  - Shown when somebody tried (with no success) to
                    force the current user's password (see BADPWD
                    file).

         WELCOME  - Shown after the password introduction by the user.
                    Usually it contains a welcome message.

         WHY_ANSI - Help file for the question about ANSI graphics.

         WHY_AVT  - Help file for the question about the AVATAR codes
                    transmission.

         WHY_COL  - Help file for the question about color.

         WHY_FULR - Help file for the question about the full screen
                    message reader.

         WHY_IBM  - Help file for the question about displaying extended IBM
                    character (>127).

         WHY_NEW  - Help file for the "Did you write the name exactly?"
                    question.

         WHY_OPED - Help file for the question about the full screen
                    ANSI editor.

         WHY_PVT  - Help file for the question about private messages.

         XFERHELP - Help file for the file transfer protocol selection.

         The following files are used for special tasks and must be created in
         the main directory of Lora:

         TRASHCAN.CFG - Contains all the unusable users' names, or part of
                        users' names, in ASCII format. No one is allowed to
                        enter the system if his name contains any word listed
                        in this file. If someone tries to do so, the file
                        TRASHCAN.??? will be displayed, then logged off.

         TRASHPWD.CFG - Same as the TRASHCAN.CFG, but for the password field.
                        If a user tries to enter a password that contains a
                        word listed in this file, the external file
                        TRASHPWD.??? will be displayed, then logged off.






                                        - 129 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         NAMES.CFG    - This file contains the names and node numbers of
                        people you are writing often from your BBS. The format
                        of the file is as follow:

                        <Name>, <Address>
                        Marco Maccaferri, 2:332/402.1

                        When a user enters a netmail message to <Name>, Lora
                        automatically fills the destination address field with
                        <Address>. This avoids possible mismatches

         AREAS.BBS    - This file is used by the echomail processor, as an
                        alternative to the definitions made using LSETUP, for
                        the echomail import/export operations. Following is an
                        example of a valid AREAS.BBS file:

         Arci Computer Club Bologna ! Marco Maccaferri
         ;
         C:\MSG\CLANG   CLANG.ITA       332/403 22402/1 2 3 332/402.5
         130            FIDO_STYLE.ITA  332/403
         $C:\MSG\LORA   LORA.400        332/403 418 419
         !2             MSDOS.400       332/403 332/402.5 .6
         ##             HELP_ARC        332/418 22402/2
         ;

                        The first line is ignored by Lora but is
                        required by other mail processors and/or
                        areafix handlers. The following lines are
                        examples of how to specify the message base for
                        each echomail area:

                        CLANG.ITA is a Fido *.MSG area, FIDO_STYLE.ITA
                        is an Hudson (QuickBBS) board, LORA.400 is a
                        Squish<tm> area and MSDOS.400 is a Pip-Base
                        area. HELP_ARC is a special area called Pass-
                        through, messages sent to this area are
                        exported immediately to the destination nodes,
                        then deleted.


         The following are flag files, i.e. special files that Lora look for
         in the current directory while waiting for a call. The features
         described here are reserved to registered users only.

         RESCAN.NOW -   If this file exists Lora rescans the
                        outbound directory. Useful if you use an
                        external mail processor in a multitasking
                        environment.

         ECHOMAIL.RSN - This file signals Lora to perform an attempt at
                        exporting new echomail messages. Usually used with a
                        message editor like Golded or WEdit, to immediately
                        process the messages written.




                                          130                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         NETMAIL.RSN  - This file signals Lora to perform an attempt at
                        exporting the netmail messages.

         LEXITxx.yyy  - If Lora found in the current directory a file
                        named LEXIT<num>.<err> (like, for example
                        LEXIT1.15), then Lora configured with the line
                        number <num> terminates the current call (if
                        any) and exits to DOS with the errorlevel
                        <err>. In the example above the line #1 will
                        exit with the errorlevel 15.

         VIRSCAN.BAT  - This batch file, if exists in the current directory,
                        will be executed after each upload and allows the
                        Sysop to check the files for viruses. Lora put four
                        parameters on the command line:

                        %1 - The full file name with the drive and the path
                             (C:\File\Uploads\FOO.BAR).
                        %2 - The destination directory with the trailing
                             backslash (C:\File\Uploads\).
                        %3 - The file's name without the extension (FOO).
                        %4 - The file's extension with the leading period
                             (.ZIP).

                        The batch file must move the file (and eventually flag
                        it on the log file) if it is not allowed on the
                        system.

         RCVFAX.BAT   - This batch file is called when a FAX call is received
                        by the mailer section and the 'FAX Errorlevel', in the
                        Modem / Hardware menu, is set to 0. Lora put three
                        parameters on the command line:

                        %1 - The serial port number (1=COM1, 2=COM2, etc.).
                        %2 - The modem connection speed (always set to the
                             'Maximum baud rate' value).
                        %3 - (OS/2 version only). The serial port file handle.

                        The batch should call the FAX receiving software with
                        the appropriate parameters, then return to the BBS. If
                        the carrier is still high, Lora automatically hangup
                        the modem.

                        If FAX messages are succesfully received, the batch
                        can create a file called RCVFAX.FLG in the Lora's
                        system directory. This flag allows Lora to display a
                        flashing "FAX" in the bottom-right corner of the
                        mailer screen, informing you that new FAX are
                        received.








                                        - 131 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4 - Embedded commands
         ---------------------------------------------------------------------

         Each file displayed by Lora may contain the control code sequences
         listed below. They can be used for status file creation, or for
         questionnaire generation.

         These commands are compatible with those available in Opus 1.72,
         RemoteAccess 1.10 and Maximus 2.00. In case of conflict between
         homonymous commands, the Maximus 2.00 standard has been preferred.


         11.4.1 - Single commands
         ---------------------------------------------------------------------

         ^A - Stops the output and wait for the user to press the Enter key.
              If followed by another ^A, then the message 'Press [Enter] to
              continue' will be displayed.

         ^D - Enables the pause at the end of each screen page, even if the
              user has disabled this setting.

         ^E - Disables the pause at the end of each screen page, even if the
              user has enabled this setting.

         ^G - The computer emits a beep.

         ^H - Backspace

         ^I - Tab.

         ^J - Line feed

         ^K - If the character following isn't present on the character set
              show in the 'Compund commands with ^K' then prevents the user to
              stop the scrolling with a ^C.

         ^L - Clear the screen (it will be translated to the correct emulation
              sequence or in a CR/LF sequence if the user hasn't either the
              ANSI or AVATAR emulations).

         ^M - Carriage return

         ^Q - Used for XON/XOFF controls. Unavailable.

         ^S - Used for XON/XOFF controls. Unavailable.

         ^V - Avatar commands.

         ^X - External door execution. The lines will be treated as a DOS
              command and interpreted accordingly. The following parameters
              can be spcified:

              *0 - Path of the current file area.



                                          132                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


              *1 - Path of the current message area.
              *B - Baud rate (0 if in local mode).
              *F - User's first name
              *G - 0=No graphics, 1=Ansi, 2=Avatar.
              *H - Disables FOSSIL driver before executing the program (DOS
                   verions only). The OS/2 version translate this parameter to
                   the serial port file handle.
              *L - User's last name.
              *M - Swap of the total memory occupied by Lora, leaving only
                   1.5K for the recovery routines (DOS version only).
              *N - Task number.
              *P - Serial port (1=COM1, 2=COM2, etc.).
              *R - User's position inside the user's database (record
                   (number).
              *S - Don't read the LORAINFO file after the end of the
                   external program.
              *T - Time left for the current call.
              *W - Actives the FOSSIL watchdog. If the carrier drops, FOSSIL
                   driver reboots the system (DOS version only).
              *X - Prevents the creation of the LORAINFO.T?? by Lora.
              *! - Stops time during the door execution.
                   The user will be allowed as much time he was before
                   entering the door.
              *# - Disables the 'wants chat' flag. Useful for external
                   chat programs.

              For compatibility to Scott Dudley's Maximus-CBCS 2.00,
              the following command are available:

              %A - User's first name, all capital letters.
              %b - Baud rate (0 if in local mode).
              %B - User's last name, all capital letters.
              %c - The place of the call.
              %C - The last answer to the questionnaire ^OR command (see the
                   EMBEDDED COMMANDS section for more details).
              %d - The number of the current message area.
              %D - The number of the current file area.
              %E - Length, in lines, of the user's screen.
              %f - User's first name.
              %F - Path of the current message area.
              %g - 0=No graphics, 1=Ansi, 2=Avatar.
              %G - User's daily download limit.
              %h - Voice phone number of the user.
              %H - Kilobytes number downloaded today.
              %i - Total download.
              %I - Total upload.
              %j - Connection time for the current call.
              %k - Task Number.
              %l - User's last name.
              %L - In remote calls the flag is substituted with the
                   '-pX -bY' string, where X is the serial port (1=COM1,
                   2=COM2,  etc.) and Y is the baud rate. In local calls
                   the flag is substituted with the '-k' string.
              %M - Path of the current message area.



                                              -                                          133                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


              %n - User's first name.
              %N - BBS name, as defined in the configuration file.
              %p - The DOS version translate this parameter to the serial port
                   number (0=COM1, 1=COM2, etc). The OS/2 version translate
                   this parameter to the serial port file handle (0 for local
                   mode).
              %P - Serial port (1=COM1, 2=COM2, etc, 0 for local mode).
              %q - Path of the current message area, without final
                   backslash.
              %Q - Path of the current file ares, without final
                   backslash.
              %s - Sysop's last name.
              %S - Sysop's first name.
              %t - Time left for the call, in minutes.
              %T - Time left for the call, in seconds.
              %u - User's number.
              %U - Substituted with the underscore '_'.
              %v - Path of the upload directory.
              %V - Path of the upload directory, without the final backslash
              %Z - User's full name in capital letters.

         ^Y - Repeats the first character after the command, as many times as
              specified by the second character after the command. For example
              to send out 5 underscores, type the following: ^Y_^E.

         ^Z - End of File (not to be used).































                                          134                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.2 - Compound commands with ?F
         ---------------------------------------------------------------------

         Commands preceded by ^F are related to the data of the on-line user
         and allow to create information text to be shown at the beginning of
         the connection.


         ^FC  - Displays the CPS of the last file transmitted.

         ^FD  - Displays the phone number of office/data.

         ^FE  - Displays the phone number of home/voice.

         ^FF  - Displays the date, without time, of the last login.

         ^FG  - Displays the time of the last login.

         ^FH  - Displays the percentage efficiency of the last file
                transmitted.

         ^FI  - YES/NO IBM character set.

         ^FL  - Displays the netmail credit.

         ^FM  - Displays the number of the last personal message read.

         ^FN  - Displays the number of the last message read in the current
                area.

         ^FO  - Displays the user's privilege level in verbal form.

         ^FQ  - Displays the number of files sent.

         ^FR  - Displays the number of kbytes sent.

         ^FS  - Displays the number of files received.

         ^FT  - Displays the number of kbytes received.

         ^FV  - Displays the number of screen lines set by the user.

         ^FX  - YES/NO ANSI toggle.

         ^FY  - YES/NO end of page toggle.

         ^FZ  - YES/NO formfeed code (ASCII 12) toggle.

         ^F0  - YES/NO full screen editor toggle.

         ^F2  - Displays the user's age.

         ^F3  - YES/NO hot keyed menu.




                                        - 135 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ^F4  - Displays the first login date.

         ^F5  - Displays the user's birthday.

         ^F6  - YES/NO mail check at login.

         ^F7  - Displays the user's registration.

         ^F8  - YES/NO AVATAR/0+ toggle.

         ^F9  - Number of upload/download ratio in the format 1:x.

         ^F!  - YES/NO colors toggle.

         ^F^A - Displays the next quote reading it from the file defined in
                the configuration file (^FA also).

         ^F^B - Displays the user's full name.

         ^F^C - Displays the user's city (^FB also).

         ^F^D - Displays the current date.

         ^F^E - Displays the number of calls made by the user (^FP
                also).

         ^F^F - Displays the user's first name (^FW also).

         ^F^G - One second pause.

         ^F^K - Displays the total on-line time of the day (counting all the
                calls made during the day).

         ^F^L - Displays the on-line time of the present call (^FU
                also).

         ^F^N - Stops the connection.

         ^F^O - Displays the time left for the current call.

         ^F^P - Displays date and onset time of the connection. A CR/LF
                character is added.

         ^F^Q - Displays the number of different users who called on
                that day.

         ^F^R - Displays the net download of the user so far made
                (download - upload).

         ^F^S - Displays the user's signature (sentence to put at the end of
                each message written, like a signature on a paper).

         ^F^T - Displays current time.




                                              -                                        - 136


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ^F^U - Forces the user to answer a question.

         ^F^V - Allows the user to answer with a blank line.

         ^F^W - Displays the number of Kbyte sent.

         ^F^X - Displays the number of Kbytes received.

         ^F^Y - Displays the received/sent kBytes ratio in x:1 format
                (^F: also).

         ^F[  - Download remaining for today.

         ^F\  - The user's selected language.

         ^F]  - Displays the comment field of the user's record
                (currently not implemented but available).

         ^F;  - YES/NO full screen message reader.

         ^F%  - Shows the default file transfer protocol.

         ^F"  - Shows the default compressor.


































                                              -                                          137                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.3 - Compound commands with ^K
         ---------------------------------------------------------------------

         These commands are related to the general situation of the system,
         and have been introduced for compatibility with RemoteAccess 1.01.

         ^KA - Total number of calls to the system (all the lines).

         ^KB - Name of the last user who called the current line.

         ^KC - Displays the number of the current message's child (answer to
               this message).

         ^KD - Number of the first message (this command has been
               introduced for compatibility, and is always set to 1).

         ^KE - Number of the last message in the current area.

         ^KF - Displays the rest of the line only if the date and time of the
               last modification of the file specified after the command is
               greater or equal to the user's last call date.

         ^KG - Displays the day of the week.

         ^KI - Displays the current time in the form hh:mm:ss.

         ^KJ - Displays the current date in the form dd mmm aa.

         ^KK - Minutes on-line so far for the current call.

         ^KM - Number of personal messages found in the message base.

         ^KO - Time left for the current call.

         ^KP - Displays the number of the current message's parent (message
               that this message is an answer to).

         ^KQ - Time limit for each call.

         ^KR - Baud rate of the connection.

         ^KT - Daily download limit.

         ^KU - Number of minutes still available before the next forced
               or non BBS event.

         ^KW - Number of the line.

         ^KX - Stops immediately the connection.

         ^KY - Title of the current message area.

         ^KZ - Title of the current file area.




                                              -                                        - 138


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ^K0 - Number of messages in the current area.

         ^K1 - Number of the currently active message area.

         ^K2 - Number of the currently active file area.

         ^K5 - Name of the currently active message area.

         ^K7 - Displays the user's time bank account.

         ^K8 - Displays the user's file bank account.

         ^K9 - Number of messages contained in the current message
               area.

         ^K[ - Download remaining for today.

         ^K\ - Delete the line from cursor to the end.







































                                              -                                          139                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.4 - Compound commands with ^O
         ---------------------------------------------------------------------

         These commands are related to the user-BBS interaction, and allow the
         creation of questionnaires, or the execution of programs needing
         particular parameters. It's also possible to execute batch file with
         the command described later.


         ^OC - Executes an external program. Everything written after the C
               character is passed to DOS exactly as it is. LASTUSER.BBS,
               LORAUSER.BBS and DORINFO1.DEF are created.

         ^OD - If the current file terminates for any reason, the file
               specified after the command will be displayed to the user.

         ^OE - The rest of the line is displayed only if the user has the ANSI
               or AVATAR graphics enabled.

         ^OF - Declares the file name to be displayed at the end of the
               current file (no matter in what way).

         ^OM - Saves the last answer given to the ^OR command in the answer
               file (if it has been opened), with the comment written after
               the M character.

         ^ON - Asks the user to write a line. If an answer file has been
               opened (see ^OO command), the line will be recorded with the
               comment written after the N character.

         ^OO - Opens or creates a file in which the answers to the
               questionnaire will be recorded. The filename must follow the
               command. Example: ^OOC:\Lora\Answer.Txt.

         ^OP - Saves the essential data of the on-line user (name, city, last
               time call) in the answer file.

         ^OQ - Ends the file. If another file has ben defined with the ^OF
               command, the control passes to that file.

         ^OR - Allows answers. After the R character the list of letters
               constituting a valid answer must be inserted. The file
               execution will continue only if the user answers with one of
               the letters specified above.

         ^OS - The control passes to the file set after the S character.

         ^OT - Makes a 'GOTO beginning of file' function (to be used
               cautiously because there's no way to terminate the file
               execution without the ^OQ command).

         ^OU - Immediately after the U character, a capital letter must be
               written. All the line will be displayed (or executed) only if




                                              -                                          140                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


               the last answer to the ^OR command was the same as that of the
               specified letter.

         ^OV - Makes a 'GOTO offset (number of bytes from the beginning of
               file)' function, in digit form. To be used cautiously and with
               programs that can compute the offset with precision.



















































                                          141 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.5 - AVATAR commands
         ---------------------------------------------------------------------

         The AVATAR commands (Advanced  Video Attribute  Translator And
         Recreator) allow to change the remote video attributes in an
         intelligent way. That means that, if the user cannot see ANSI
         graphics or his terminal is unable to receive directly the ANSI
         codes, they will be ignored (color codes) or transformed into TTY
         sequences to be displayed on simple terminals.

         ^V^A - Changes video attribute. The immediately following character
                represents the attribute to be changed. The bit meaning is
                equivalent to the attribute byte of the video card Please note
                that if the attribute is CTRL-P, it has to be repeated twice.
                (^V^A^P -> ^V^A^P^P).

                Following are the color codes that can be changed with the
                ^V^A command:

                Foreground                       Background Colours
                ------------------               ---------------------

                0  -  Black                      0  -  Black
                1  -  Blue                       1  -  Blue
                2  -  Green                      2  -  Green
                3  -  Cyan                       3  -  Cyan
                4  -  Red                        4  -  Red
                5  -  Purple                     5  -  Purple
                6  -  Brown                      6  -  Brown
                7  -  White                      7  -  White
                8  -  Grey
                9  -  Bright Blue
                A  -  Bright Green
                B  -  Bright Cyan
                C  -  Bright Red
                D  -  Bright Purple
                E  -  Bright Yellow
                F  -  Bright White

                0  -  Flashing Black             8  -  Black
                1  -  Flashing Blue              9  -  Blue
                2  -  Flashing Green             A  -  Green
                3  -  Flashing Cyan              B  -  Cyan
                4  -  Flashing Red               C  -  Red
                5  -  Flashing Purple            D  -  Purple
                6  -  Flashing Brown             E  -  Brown
                7  -  Flashing White             F  -  White
                8  -  Flashing Grey
                9  -  Flashing Bright Blue
                A  -  Flashing Bright Green
                B  -  Flashing Bright Cyan
                C  -  Flashing Bright Red
                D  -  Flashing Bright Purple
                E  -  Flashing Bright Yellow



                                              -                                          142                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                F  -  Flashing Bright White

                Examples:

                43  -  Red foreground on a Cyan background.
                01  -  Blue on a black background.
                FB  -  Flashing Bright White on a Cyan background.


         ^V^C - Cursor toward the top of the screen.

         ^V^D - Cursor toward the bottom of the screen.

         ^V^E - Cursor toward left.

         ^V^F - Cursor toward right.

         ^V^G - Deletes the current line from the cursor position to the end.

         ^V^H - The two following bytes represent the x and y coordinates in
                which the cursor will be moved.

         ^V^Y - Repeat the specified string a given number of times. The
                complete format of the command is ^V^Y<len><s><n>, where <len>
                is the length of the string to be repeated, <s> is the string
                itself, <n> is the number of times the string <s> has to be
                repeated.






























                                          143                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.6 - Compound commands with ^W
         ---------------------------------------------------------------------

         Some of the following commands have been already presented. They've
         been added for compatibility to Maximus-CBCS 1.02.


         ^W^A  - Displays the last login date.

         ^W^B1 - The rest of the line will be displayed only if the baud rate
                 is equal to, or greater than, 1200 baud.

         ^W^B2 - The rest of the line will be displayed only if the baud rate
                 is equal to, or greater than, 2400 baud.

         ^W^B9 - The rest of the line will be displayed only if the baud rate
                 is equal to, or greater than, 9600 baud.

         ^W^C  - Displays the board's name as defined in the system
                 configuration file.

         ^W^D  - Displays the sysop name, as defined in the system
                 configuration file.

         ^W^E  - Displays the last string written with the ^ON command.

         ^W^FA - Displays the number of the current file area.

         ^W^FN - Displays the title of the current file area.

         ^W^G  - Only local ring beeps.

         ^W^MA - Displays the number of the current message area.

         ^W^ML - Displays the number of the last message read.

         ^W^MN - Displays the title of the current message area.

         ^W^MH - Displays the number of the last message.

         ^W^M# - Displays the total number of messages present in the current
                 area.

         ^W^NB - The same as ^NC.

         ^W^NC - Displays the user's netmail credit.

         ^W^ND - Since Lora does not consider the netmail debit, this command
                 returns 0. Included for compatibility.

         ^W8   - The rest of the line will be displayed only if the user's
                 screen has 80 columns or more.

         ^WA   - Put the last answer to a ^ON command in the log file.



                                        -     -                                          144


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         ^Wa   - Send the last answer to a ^ON command to all the users
                 currently on-line as a broadcast message.

         ^WB   - Toggle capitals letters on/off.

         ^WcA  - The rest of the line is sent only if the user is connected
                 locally (not via modem).

         ^WcR  - The rest of the line is sent only if the user is connected to
                 the system with a modem.

         ^WD   - Deletes the file set after the D character.

         ^WGA  - Displays the number of the current file area.

         ^WGN  - Displays the title of the current file area.

         ^WIL  - The rest of the line is sent only if the user is connected
                 locally (not via modem).

         ^WIR  - The rest of the line is sent only if the user is connected to
                 the system with a modem.

         ^WkF  - Turn off the flags specified after the command.

         ^WkI  - Displays the rest of the line only if the user flags match
                 with the flags specified after the command. The flags are
                 separated from the rest of the line with a single space
                 character.

         ^WkO  - Turn on the flags specified after the command.

         ^WkT  - Toggle on/off the flags specified after the command.

         ^WpD  - Lowers the user's access level by one unit.

         ^WpU  - Rises the user's access level by one unit.

         ^WL   - Link the current file with another. After completion of the
                 other file, the control is returned to the calling file.

         ^WP   - Displays the voice phone number.

         ^WR   - Displays the user's handle.

         ^Ws   - Gives to the user the level indicated after the s character.

         ^WW   - Writes the rest of the line in the questionnaire answer file.

         ^Ww   - Displays the current on-line users.

         ^WXD  - The same as XR (implemented for compatibility).




                                              -                                        - 145


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ^WXR  - Executes an external program (the same as ^OC).

         The ^W command, used alone, stops file reading for half second.






















































                                              -                                        - 146


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.7 - Compound commands with ^P
         ---------------------------------------------------------------------

         These commands are related to the actions to be taken accordingly to
         the access level of the on-line user.

         The access levels must be specified with the initial letter (Twit,
         Disgrace, Limited, Normal, Worthy, Privel, Favored, Extra, Clerk,
         AsstSysop, Sysop).


         ^PB - The rest of the line is displayed only if the user's level is
               equal to, or lesser than, a specified level.

         ^PL - The rest of the line is displayed only if the user's level is
               equal to, or greater than, a specified level.

         ^PQ - The rest of the line is displayed only if the user's level is
               equal to a specified level.

         ^PX - The rest of the line is displayed only if the user's level is
               different from a specified level.

         By setting only the level letter after the ^P character, file reading
         will go on only if the user's level is equal to, or greater than a
         specified level.































                                              -                                        - 147


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.4.8 - RPN commands (compound commands with ^R)
         ---------------------------------------------------------------------

         RPN Engine for Lora (LRPN) is a set of command internal to the Lora's
         text files that accomplishes the following functions:

          - Mathematical calculations: additions, subtractions, etc.;
          - Bitwise operations: NOT, AND, OR, XOR;
          - Logical operations: NOT, AND, OR, XOR;
          - Comparisons: equals, less than, greater than;
          - User's flags handling;
          - User's parameters handling;
          - Cursor position and color codes handling;
          - ... (and many others...)


         Starting with LRPN
         ---------------------------------------------------------------------

         LRPN is based on a stack, a series of numbers (initially empty) from
         which is possible to extract the number in reverse order only (like a
         First-In-Last-Out stack). For example, if the stack contains the
         following values:

          12 <--- Top of the stack
         100
          -6
          43 <--- Current position

         The next value extracted will be 43.
         The numbers contained in the stack can be results from previous
         calculations, or can be inserted directly as constants, variable
         values (see below), user's flags, etc. The values can be used to make
         further calculations and/or comparisons or put in variables, etc.

         The current position is named ACCUMULATOR. The accumulator is like a
         pre-chamber to the real stack and don't loose its contents when it is
         put on the stack, so it is possible to put the same value two or more
         times. For example if the stack contents is like the above, to insert
         3 times the value 459 you can use the following sequence:

                                         459,,,

         Where the digits forms a number inside the accumulator and the colon
         means "put the accumulator's contents on the stack". LRPN interprets
         the characters with the following effects:

         Character :       4       5       9       ,       ,       ,

         Stack     :      12      12      12      12      12      12
                         100     100     100     100     100     100
                          -6      -6      -6      -6      -6      -6
                          43      43      43      43      43      43
                           4 *    45 *   459 *   459     459     459



                                          148                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                                                 459 *   459     459
         ( * = accumulator )                             459 *   459
                                                                 459 *

         As you can see, the accumulator acts like a normal calculator display
         and, for who knows the RPN calculators, the colon acts like the
         [Enter] key.
         It's important to note that the blanks are ignored by LRPN, so
         writing    123   or    12 3   or  1 2   3   means the same thing, and
         if there isn't digits before the 1, the accumulator contains the
         value 123 at the end of each sequence.
         If the sequence ends with a digit and the following sequence begins
         with a digit, it will form a single number.


         Data types
         ---------------------------------------------------------------------

         Normally LRPN uses 16 bit integers with sign, the values can range
         from -32768 to 32767. If an operation exceed this range no error is
         generated but the results are unpredictable.
         Some data used by LRPN (such as the user's flags) are bit type and
         can be 1 or 0, if you put a value to a bit type other than 0, by
         default it will be set to 1.


         Variables
         ---------------------------------------------------------------------

         LRPN can use up to 200 variables numbered from 0 to 199, to which you
         can register the calculations results or data that can be preserved
         from a text file to another. At the start of every connections to the
         BBS every variable will be zeroed.


         User's flag
         ---------------------------------------------------------------------

         Are the flags from 0 to 9 and from A to V, there numberd from 0 to
         31, so the flag #11 corresponds to the B flag.


         Counters
         ---------------------------------------------------------------------

         There are 10 counters, numbered from 0 to 9, that are the same used
         by Lora with the other embedded commands. The counters are saved in
         the user's configuration file so that their value can be preserved
         across multiple calls of the same user.
         The counters are bytes, so their values can range from 0 to 255. When
         an assignment is made to a counter, only the least significant byte
         is considered.





                                        - 149 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         User's data
         ---------------------------------------------------------------------

         Are saved in the user's configuration file and can be of various
         types and the numbers are not sequentially. Following is the list of
         the data available and their means:

           1 - (bit) 1 IBM character set
           2 - (bit) 1 screen clearing codes sent
           3 - (bit) 1 colour codes sent
           4 - (bit) 1 ANSI graphics enabled
           5 - (bit) 1 AVATAR graphics enabled
           6 - (bit) 0 the TABs are translated to spaces
           7 - (bit) 1 More? prompt enabled
           8 - (bit) 1 hot-keyed menus

          21 - (bit) 1 logon mail check enabled
          22 - (bit) 1 full screen mail reader enabled
          23 - (bit) 1 full screen mail editor enabled
          24 - (bit) 1 view message's kludge lines

          41 - (bit) 1 if the user is hidden from the users list
          42 - (bit) 1 if the user cannot be deleted by LUSER
          43 - (bit) 1 if the yell from this user is ignored (nerd)
          44 - (bit) 1 if the user has unlimited download

         101 - (intero) User's selected language
         102 - (intero) Screen length (rows)
         103 - (intero) Screen width (columns)

         121 - (intero) Default file transfer protocol
         122 - (intero) Default compressor
         123 - (intero) Message areas group
         124 - (intero) File areas group

         141 - (intero) Access level (from 0 = Twit to 12 = Hidden)
         142 - (intero) NetMail credit


         Using LRPN's commands
         ---------------------------------------------------------------------

         When Lora encounters a ^R character inside a .BBS file, the remaining
         of the text row will be interpreted as an LRPN sequence.

         Note: - Every unrecognized character will be skipped
               - All commands ARE CASE SENSITIVE; the lower case letters have
                 opposite means as the upper case letters.

         Example  :   ^R12V2+12v4c10>!10f
         (or)     :   ^R 12 V 2 + 12 v 4 c 10 >! 10 f






                                        - 150 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


                       Add 2 to the variable #12 the copy the value in the
                       counter #4, then set the user's A flag if the result is
                       greater than 10, else resets the flag.


         LRPN commands
         ---------------------------------------------------------------------

          - DIGITS from 0 to 9

         Inserts a number on the accumulator. It works like a calculator
         keyboard, if a digit follows an operation, it replaces the contents
         of the accumulator, that is automatically put on the stack. The only
         exception is the insert operation (the colon).
         IF a digit follows another digits, it is put on the accumulator
         without any other effect.

         Note: When the digits causes the value on the accumulator to be
               grater than 32767, the value will be forced to 32767.

          - STACK OPERATIONS

            , (colon)       - Inserts the value in the accumulator on the
                              stack.
            @ (at sign)     - Get the value on the stack and put it in the
                              accumulator. The previous value is lost.
            " (virgolette)  - Exchanges the accumulator with the value on the
                              stack.

          - ONARY OPERATORS

         Acts on the accumulator, replacing the value with the result of the
         operation. LRPN recognizes the following operators:

            _ (underline)      - Sign exchange
            $ (dollar)         - Absolute value
            ' (NOT `)          - Sign (-1 if < 0, 1 if > 0, 0 if 0)
            # (pound)          - Integer to bit conversion (1 if <> 0, 0 if 0)
            ~ (tilde)          - Reverse all bits (one complement)
            !                  - Logic negation (0 if <> 0, 1 if 0)

          - BINARY OPERATORS

         Acts on the last number put on the stack AND on the accumulator: the
         first number will be get from the stack and teh result replaces the
         contents of the accumulator. LRPN recognizes the following binary
         operators:

            + - Addition (acc = st + acc)
            - - Subtracktion (acc = st - acc)
            * - Multiplication (acc = st * acc)
            / - Division (acc = st / acc)
                Note: 1) As a division between integers, the result is rounded
                         to the nearest to zero integer. So:



                                        - 151 -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



                         7 , 4 /
                         (acc = 7 / 4) the result is 1, and
                         7 _ 4 /
                         (acc = -7 / 4) the result is -1

                      2) If the accumulator is 0, the result will be:
                         32767    if the stack is greater than or equal to 0.
                         -32768   if the stack is less than 0.

            % - Remaining of the division or module (acc = st MOD acc).
                Note: 1) The result's sign will be positive if the signs of
                         the operands are both positive or negative, negative
                         if one operand is negative and the other positive.
                      2) If the divisor is 0, then the result will be 0.

            L - Left shift. The result will be equal to the last number on the
                stack with the bits shifted to the left by accumulator
                positions.
            R - Right shift. The result will be equal to the last number on
                the stack with the bits shifted to the right by accumulator
                positions.
            & - Bitwise logical AND.
            | - Bitwise logical OR.
            ^ - Bitwise exclusive OR.
            = - Equal (1 if st = acc, else 0).
            < - Less than (1 if st < acc, else 0).
            > - Greater than (1 if st > acc, else 0).

          - MISCELLANEOUS OPERATORS

            W - Word assembler (the high byte will be take from the stack, the
                lower byte from the accumulator, the result will be put on the
                accumulator).
            w - Word disassembler (the higher byte of the accumulator will be
                put on the stack, the lower byte will be kept on accumulator).

         - LOADING AND RECORDING

           V - Loads the accumulator with the value on the the variable
               numbered by the accumulator. Example:   12V   loads the value
               on the variable #12 on the accumulator.
               Note: Il the accumulator is less than 0 or greater than 199,
               the result always is 0.
           v - Put the value on the stack on the variable numbered by the
               accumulator. The value on the accumulator is kept as is.
               Note: Il the value on the accumulator is less than 0 or greater
               than 199, nothing is memorized but a number is take from the
               stack.
           F - Gets a flag, like the V command, but the flags are limited to
               31.
           f - Sets a flag, like the v command, but the flags are limited to
               31. The flag is reset to 0 if the accumulator is 0, else will
               be set to 1.



                                              -                                        - 152


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


           C - Gets a counter. Like the V and F commands, but the number of
               counters is limited to 9 and the value range is from 0 to 255).
           c - Sets a counter.
           U - Gets a user's parameter (see the user's parameter table above).
           u - Sets a user's parameter.
           P - Load the accumulator with the last terminal's cursor position.
               The row is put on the higher byte, the column on the lower
               byte.
           p - Move the cursor at the position specified by the higher (row)
               and lower (column) byte of the accumulator.
           C - Loads the accumulator with the last screen attribute set.
           c - Changes the color attribute using the lower 8 bits of the
               accumulator. The relationship between colors and numbers is
               reported on another chpater of this manual.

         Usage examples
         ---------------------------------------------------------------------

         Let's examine the following sequence followin a ^R character in a
         generic text file:

         P  w  "  @  102  U  "  W  p
         |  |  |  |  |||  |  |  |  |
         +--|--|--|--|||--|--|--|--|---> Reads the cursor position...
            |  |  |  |||  |  |  |  |
            +--|--|--|||--|--|--|--|---> ...split it in 2 bytes. Now on the
               |  |  |||  |  |  |  |     accumulator we have the column and
               |  |  |||  |  |  |  |     on the stack the current row.
               |  |  |||  |  |  |  |
               +--|--|||--|--|--|--|---> Exchange (now the accumulator has
                  |  |||  |  |  |  |     the row and the stack the column)
                  |  |||  |  |  |  |
                  +--|||--|--|--|--|---> Get the column (the row will be lost)
                     |||  |  |  |  |
                     +++--|--|--|--|---> Put the accumulator (the column) on
                          |  |  |  |     the stack and replaces it with the
                          |  |  |  |     number 102.
                          |  |  |  |
                          +--|--|--|---> Replaces 102 with the USER'S DATA
                             |  |  |     #102 (number of rows).
                             |  |  |     The stack still holds the column..
                             |  |  |     we can recombine it to form the new
                             |  |  |     cursor position...
                             |  |  |
                             +--|--|---> ...but after a position exchange.
                                |  |
                                +--|---> OK, now recombine the values in a
                                   |     single word...
                                   |
                                   +---> ...done, the cursor is on the last
                                         terminal row.

         Even simpler: to move the cursor in the lower left terminal corner,
         we can use the following command sequence:



                                          153                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



                     102 U , 1 p

         The best thing to learn LRPN is the practice: how can we keep the
         current cursor position and colors set and display a message on the
         last terminal row with blue background and white foreground ? It's
         possible to create a pull-down menuing system with LRPN and the other
         embedded commands ? (Yes, I wrote LRPN for that thing...).

















































                                        -     -                                          154


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.5 - Events definitions
         =====================================================================

         With the Manager / Events menu is possible to defines some periods of
         time to execute the external maintenance programs or calls other
         BBSes for mail exchange.

         In the event's viewing mode (default mode when entering the Manager /
         Events menu), the following commands are allowed:

         PgUp/PgDn - Allow you to move along the event file.

         E - Edit an event item. After this command, an inverted-color bar
             will allow you to choose the option to be modified.

         Add New Event - Allows you to add an event. The event saving method
                         provides to put the new event in the right position,
                         so that you can add an event everywhere.

         List - List the events actually presents (one event per row) allowing
                a speed search.

         Delete - Allows to delete an event from the file. The system ask for
                  a confirmation before phisically erase the event.

         Copy - Copy the current event in a new slot. The system asks for the
                days and execution time.


         11.5.1 - Events editing
         ---------------------------------------------------------------------

         Using the commands "Edit" and "Add New Event" you can change the
         following parameters, valid for any event:

         Title - This field will be used as a "comment" regarding the task
                 accomplished by the event. If present it will be put on the
                 log file when the event is executed.

         Days - Defines the days in which the event is active. The letters are
                the initial of the english week days and means when the evnt
                is active.

         Start time - Event's starting time.

         Stop time - Event's ending time. To execute any event, Lora must be
                     in the "waiting for a call" status in the time between
                     the start and the end of the event.

         Forced - Defines a forced event, an event that must be executed
                  absolutely that the starting time. The user's time limit
                  will be adjusted accordingly. Example: if a user normally
                  has 30 minutes time limite and calls your system 10 minute s
                  before a forced event, Lora give them only 10 minutes.



                                              -                                          155                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Allow humans - Allows a human caller to log in your system. Normally
                        this option should be set to Yes only when the system
                        must do mail calls to other BBSes.

         Errorlevel - Defines the errorlevel to exit to DOS with when the
                      event starts. If 0 Lora doesn't exits to DOS.

         Clock adjustment - Defines that within this event Lora must call the
                            Galileo Ferraris Insititute of Torino (Italy) to
                            sinchronize the PC clock.

         Receive only - This parameter enables the system to receive calls
                        only and prevents to make outbound calls. The nodes
                        that are eligible to call are then marked "Temp.hold".

         Max try - Defines the maximum call retry number for each node that
                   can be called in this event.

         Max failed - Defines the maximum falied calls retry number before the
                      node is marked as undialiable. It's suggested to keep
                      this number low (3 or 4), it counts the failed calls but
                      with and answer from the remote system (the remote
                      system can not exchange the handshaking).

         Retry delay - Defines the delay between a call and the following. If
                       the 'Random redial time' option in the Mailer /
                       Miscellaneous menu is set to Yes, this value will be
                       the medium time between each call.

         Forced poll - If set to Yes, forces to call the node defined with the
                       parameter below even if there isn't outbound mail
                       waiting. If set to No, the call will be placed only if
                       there is outbound mail for that node.

         Reserved for node - Defines an event reserved for a specified node,
                             mail exchange with other nodes isn't allowed.

         Mail behavior - Defines the parameters related to the inbound and
                         outbound mail.

         In the "Mail behavior" menu you can defines the following parameters:

         Allow file requests - Allows other nodes to request files from this
                               node.

         Make file requests - Defines an event that allows outbound file
                              requests.

         Send to CM systems only - Defines an event to call nodes with
                                   outbound crash mail packets (*.CLO and
                                   *.CUT) only.





                                              -                                          156                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Send to non-CM systems only - Defines an event to call nodes without
                                       any outbound crash mail packet only.

         Import normal mail - Allows the import of mail packets from the
                              unknown nodes inbound directory (unknown nodes
                              are nodes not present in any nodelist defined).

         Import know mail - Allows the import of mail packets from the know
                            nodes inbound directory (know nodes are nodes
                            present in the nodelist but without a session
                            password defined).

         Import prot mail - Allows the import of mail packets from the
                            protected nodes inbound directory (protected nodes
                            are nodes with a session password defined).

         Export mail - Allows the export of echomail and netmail messages
                       after the import procedure.

         Import at start of event - If set to Yes, the system imports the mail
                                    packets from the directory defined above
                                    at the start of this event.

         Export at start of event - If set to Yes allows the export of mail
                                    messages at the start of this event.

         Dynamic - Defines an event that can end before the time defined in
                   the "Stop time" parameter. For example: if the system must
                   call the node 2:332/403 at 2:30, you can define a forced
                   dynamic event from 2:30 to 3:00, as soon as the system
                   calls succesfully the node (for example at 2:35) the event
                   ends and the system can take care of the next event
                   available.

         Route TAG - Defines the routing file portion to execute within this
                     event (see the commands related to the echomail/netmail
                     routing).

         AfterMail exit errorlevel - Defines the DOS errorlevel to exit with
                                     if the system receives inbound mail
                                     packets from another node. The exit to
                                     DOS is made before the mail processing so
                                     that with this option active you cannot
                                     use the internal mail processor
                                     automatically, but you can use the
                                     command line options to call the mail
                                     processor.

         Process TIC files - This parameter enables the internal processing of
                             the received TIC files (echo file areas).







                                              -                                        - 157


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         11.6 - Echomail/Netmail routing commands
         ---------------------------------------------------------------------

         The echomail/netmail routing is the procedure that allows the system
         to send the messages addressed to certain nodes through other
         systems, to economize on the phone bills, either because the messages
         are compressed (using the most popular compressors) and because
         multiple messages addressed to many distant nodes can be sent through
         a single node, that provides to send the messages to the respective
         adressee.

         In this chapter we will see the commands that can be put in the
         ROUTE.CFG file (that must be present in the Lora system directory).

         Note: even if there the 'echomail route' is mentioned, Lora doesn't
         support the routed echomail, the echomail addressed to a node
         different than ours, but it's possible to generate routed echomail
         using the route commands. Pay attention and be sure that the
         addressee of the mail packet supports routed echomail.

         The mail packets that are subjects to the route commands are only the
         packets with the .OUT extension. The built-in mail processo
         automatically generates this type of packets when exporting messages.

         The nodes can be specified with the short format, the following
         examples are equivalent:

         2:332/402 2:332/403 2:332/404 2:332/404.2
         2:332/402 403 404 404.2
         402 403 404 .2 (if the zone and net of your primary address is
                        2:332).

         If possible to specify a group of nodes and/or points with the "ALL"
         keyword, as follows:

         2:332/ALL     - Every node of the net 2:332
         2:ALL         - Every node in the zone 2
         2:332/402.ALL - Every point of the node 2:332/402

         Following are the commands allowed for the echomail and netmail
         routing:


         Tag <name>
         ---------------------------------------------------------------------

         Defines the start of a commands block that will be executed only at
         certain hours (see the relative option in the events configuration).
         The end of the block can be another "Tag" line or the end of the
         file. Every commands not preceded by a "Tag" line are always
         executed.


         Poll <flag> <nodes>



                                              -                                        - 158


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         ---------------------------------------------------------------------

         Force the system to call one or more node. Flag can be "Crash"
         (creates a *.CLO file), "Normal" (creates a *.FLO file) or "Direct"
         (creates a *.DLO file).


         Send-To <flag> <nodes>
         ---------------------------------------------------------------------

         Compresses the outbound mail directly to the nodes specified in
         <nodes>. <flag> can be "Crash", "Normal", "Direct" or "Hold". This
         command can be shortened out with "Send".


         Change <flag1> <flag2> <nodes>
         ---------------------------------------------------------------------

         Changes the priority flag of the nodes specified in <nodes> from
         <flag1> to <flag2>. <flag1> and <flag2> can be "Crash", "Normal",
         "Direct" or "Hold".


         Leave <nodes>
         ---------------------------------------------------------------------

         Temporarily hides the mail addressed to the nodes listed in <nodes>.
         The files assumes the *.N?T extension (for the *.?UT files) and *.N?O
         extension (for the *.?LO files). The mail packets with this extension
         aren't recognized so are virtually hidden.


         UnLeave <nodes>
         ---------------------------------------------------------------------

         Execute the operation opposed to the command above, it will rename
         the files the recognizable extension.


         Route-To <flag> <dest> <nodes>
         ---------------------------------------------------------------------

         Sends the mail addressed to nodes listed in <nodes> to the node
         spcified in <dest>, with the flag defined in <flag>, that can be
         Crash", "Normal", "Direct" or "Hold". This command can be shortened
         out with "Route"











                                              -                                        - 159


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         12.0 - Explaining the terminology
         =====================================================================


         12.1 - The Nodelist
         ---------------------------------------------------------------------

         The nodelist is Lora's telephone directory and is used for several
         purposes. Among these are to allow you to retrieve information about
         remote systems, such as the maximum supported baudrate, modem flags,
         and system capability flags, to check if a remote system is known to
         your system or should be treated as an unlisted system.

         The Mailer requires that a nodelist be present whereas the BBS and
         the Terminal can both be used without one, if so required. The
         typical FidoNet nodelist contains over 20.000 systems and has a
         fairly straight forward structure as follows.

         Zone

         Usually a large geographical area, such as North America, Europe,
         Australia and New Zealand, etc. At the time of the release of this
         package, the following FidoNet Zone numbers have been allocated:

                 1   North America (including Canada)
                 2   Europe
                 3   Australia, Tasmania, and New Zealand
                 4   Latin America
                 5   Africa
                 6   Asia

         Region

         Usually a somewhat smaller geographical area, such as a country or
         part of a (large) country. A collection of regions make up one zone.

         Net

         Usually a collection of systems local to each other. Typically a city
         and in some cases including its suburbs. A collection of nets make up
         one region.

         Node

         A single system within a net.

         Point

         A single system belonging to a node. Typically, a point is similar to
         a user logging on to a BBS system using his/her terminal program,
         with the main difference being that a point performs most of his/her
         activities offline and use smart software to collect and transit
         his/her mail.




                                              -                                          160                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         12.1.1 - Hosts and hubs
         ---------------------------------------------------------------------

         The coordinator of a net is called the host or NC for Network
         Coordinator. The host is responsible for maintaining the nodelist
         segment for his/her net and to act as an inbound NetMail gateway for
         the systems in his/her net ("host routed mail").

         In a large net, it is quite common that "sub-hosts", called hubs, are
         set-up to aid in mail distribution within the net. In other words, a
         hub has the same function for systems in a network that a host has
         for (remote) systems outside the same network.

         Before Lora can use the information in a nodelist, it must be
         compiled with the built-in nodelist compiler.

         The nodelist that Lora needs to process is often referred to as the
         raw nodelist. It should not have been processed by Xlatlist, Parselst
         or a similar utility; but only be the nodelist you receive each week
         (if you are a FidoNet node) from your host.

         Grab a somewhat recent version of a nodelist and decompress it. Place
         the resulting file (such as NODELIST.228) in the General /
         Directory/Path / Nodelist directory.

         To compile your nodelist, type LORA NODELIST and press <Enter>, or
         let Lora handle this by simply running LORA. When Lora is started, it
         will compare the date of the raw nodelist and its index files. If the
         dates match no compilation will be made.

         If you want to force compilation, run LORA NODELIST.


         12.1.2 - Points and pointlists
         ---------------------------------------------------------------------

         A point is similar to a user logging on to a BBS system using his/her
         terminal program, with the main difference being that a point
         performs most of his/her activities offline and use smart software to
         collect and transit his/her mail.

         A point system is addressed by specifying the BOSS system's address
         followed by the point number. E.g. 2:332/402.1 is point one of
         2:332/402. The BOSS system is called point zero (2:332/402.0), but
         the .0 is normally left out.

         Lora is a point smart software package and fully supports the "four-
         dimensional" (zone, net, node, point) addressing method. Lora also
         supports the "two-dimensional" point approach used by some software.
         This is often called the "fakenet" or "pointnet" method. "Fake"
         because the software uses a non-existent network number to identify
         its "pointnet" and uses the node field for the point number.




                                              -                                        - 161


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         The maximum number of points any system can have is 65,535, not
         counting the BOSS, or point zero.

         A pointlist is similar to a normal nodelist, with the exception that
         all entries are considered point systems. Add the pointlist file name
         to the Manager / Nodelist menu to send mail directly to point
         systems.

         Here is a sample pointlist:

             Boss,2:332/402
             ,1,Lora_Development,Bologna,Marco_Maccaferri,-Unpublished-,9600
             ,2,U.T.M.,Lugo_(RA),Marcello_Ardini,-Unpublished-,9600

         As you can see, a point list looks very much like a raw nodelist. The
         last field contains nodelist flags (HST, MO, CM, etc.) and if more
         than one flag is present, they are separated by commas.

         Points can not be added to systems in the master nodelist using the
         POINT keyword.





































                                        -     -                                          162


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         12.2 - Modems and FOSSIL drivers
         ---------------------------------------------------------------------

         Lora works with most "Hayes-compatible" modems, including US Robotics
         HST and HST/DS, Telebit's Trailblazer, ANC, Everex, ZyXEL and Hayes.
         The general rule is that the modem must be able to send alphanumeric
         result strings. For most low-speed modems, the basic configuration is
         all that is required. For high-speed modems such as the US Robotics
         HST, a few extra settings are necessary.

         To utilize high-speed modems in the most efficient way, it must be
         properly configured for use with Lora. Some high-speed modems are
         incorrectly configured for use with Lora when they leave their
         factory.

         Lora require that your modem can return verbal result codes, such as
         "CONNECT 2400" and "NO CARRIER". In addition, if you want Lora to
         answer the telephone on inbound calls, the modem must be able to
         return a verbal code indicating a ring signal, such as "RING". The
         modem must not have DCD (carrier detect) forced. It should support
         disconnecting by lowering DTR (data terminal ready), but it is not
         necessary. DTR must, however, not be forced.

         For high-speed modem users, it is usually recommended that you lock
         the DTE (computer <> modem) speed to the highest possible baudrate,
         which is usually 19200, 38400, or 57600 BPS.

         The current version of Lora does not support manually operated modems
         with constant DTE speeds since most of them do not send any type of
         messages to the terminal (program).

         A FOSSIL (Fido/Opus/SEAdog Standard Interface Layer) driver is a
         memory resident program (TSR) that works as a layer between the
         application program and your computer's hardware. Lora requires a
         FOSSIL driver to function. One of the advantages of the standard
         FOSSIL interface is that programs can be ported easily to other
         machines and/or operating systems, or to communicate with devices
         that do not normally function like a "Hayes compatible" modem, such
         as ISDN cards.

         There are several FOSSIL drivers available. Lora has been tested with
         X00, and BNU with good results. X00 and BNU will be described here.

         BNU

         BNU, written by David Nugent, comes in two flavors. One is a device
         driver, the other is a .COM file, loaded from AUTOEXEC.BAT or another
         batch file. For a detailed description of the BNU driver, please
         refer to the documentation included in the BNU distribution archive.

               [AUTOEXEC.BAT]

               BNU /R=1024 /T=512 /L1:38400




                                          163                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         If you are not using a high-speed modem the above example may not be
         what you want. The most common command line for BNU is:

               BNU /R=1024 /T=512


         X00

         X00, written by Ray Gwinn, is a device driver (later versions can
         also be loaded as an executable from AUTOEXEC.BAT), it is loaded from
         your CONFIG.SYS file when your machine is started. For a detailed
         description of the X00 driver, read the documentation included in the
         X00 distribution archive.

               [CONFIG.SYS]

               DEVICE=X00.SYS E 1 B,1,38400 T=512 R=1024

         If you are not using a high-speed modem the above example may not be
         what you want. The most common command line for X00 is:

               DEVICE=X00.SYS E 1 T=512 R=1024



































                                          164                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         12.3 - The TIC processor
         ---------------------------------------------------------------------

         The TIC is a program which does for files what echomail does for
         messages. When TIC operates, it looks for inbound files with the
         extension TIC. These are "control" files which tell the program what
         the name of the "real" file is, the echo area it is to go to ,and
         what systems have already seen the file. The information is checked
         against the configuration files, and if passwords match and the area
         exists, the file is tossed to the "destination directory" established
         when the AREA was set up. (The file is moved to the destination
         directory by renaming it if it is possible, or by copying and
         deleting the original if it is not possible). The FILES.BBS in that
         directory is appended with the description (again, part of the TIC
         file). If there are other nodes listed for that echo, TICK will then
         create new TICs for them, and will create FLO files to those nodes in
         the outbound. The attaches will send the new TIC and the "real" file
         to the other nodes. This does NOT happen if that node is already
         listed in the seenby line of the original TIC.

         The TIC processor can be called automatically when new TIC files are
         received in the inbound directory or can be called in your batch file
         using the command line parameter TIC (see the command line chapter
         for more informations).

































                                        -     -                                          165


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         13.0 - Examples
         =====================================================================

         We will now show some batch file and routing examples, that could be
         useful for the initial configuration of you system.

         Examples cover "normal" situations; for particular situations
         it's better to carefully read the manual.


         13.1 - Routing examples
         ---------------------------------------------------------------------

         We will now show some mail routing examples for common situations:
         single point, multiple BBS point and HUB (mail sorter).


         13.1.1 - Single point configuration
         ---------------------------------------------------------------------

         Route-To Crash 2:332/402 1:ALL 2:ALL 3:ALL 4:ALL 5:ALL 6:ALL

         Send all netmail and echomail packets for the six FidoNet zones to
         2:332/402.


         13.1.2 - Multiple point configuration
         ---------------------------------------------------------------------

         Send-To  Crash 2:332/403
         Route-To Crash 2:332/402 1:ALL 2:ALL 3:ALL 4:ALL 5:ALL 6:ALL

         Assumes that the system is a point of the 2:332/403 and 2:332/402,
         send all mail directed to 2:332/403 to that node, and all the
         remaining packets to 2:332/402.


         13.1.3 - Hub configuration
         ---------------------------------------------------------------------

         Send-To  Hold   2:22402/ALL
         Send-To  Hold   2:332/418 419
         Route-To Direct 2:332/403 1:ALL 2:ALL 3:ALL 4:ALL 5:ALL 6:ALL
         Route-To Crash  39:102/302 39:ALL

         Holds all packets directed to the point's fakenet 22402 and two
         nodes, 2:332/418 and 2:332/419 (downlink), then route the packets
         directed to zones 1, 2, 3, 4, 5 and 6 to 2:332/403 (uplink).

         Mail for zone 39 (Amiganet) is routed to a different uplink.







                                        -     -                                          166


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         13.2 - Sample batch files
         ---------------------------------------------------------------------

         Since Lora does not use external programs for normal operations, a
         batch file creation is really simple.

         If Lora does not need to exit to Dos for automatic maintenance, a
         batch file is not either needed.

         A simple batch file, for a complete automatic system, is as follows:

         @Echo off
         :Loop
         C:
         Cd \Lora
         Lora
         If ErrorLevel 10  Goto Daily_Maint
         If ErrorLevel  0  Goto End_Batch
         Goto Loop

         :Daily_Maint
         LMSG -K -PR
         Rem
         Rem Put here your daily maintenance
         Rem

         :End_Batch

         It's been supposed that there is a mail event that forces Lora to
         exit with errorlevel 10 at a given time.



























                                              -                                          167                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         13.3 - Sample external files
         ---------------------------------------------------------------------

         This section provides you with some examples on how create external
         .BBS files to execute some operations, like creating a dorinfo1.def
         files for running doors, or create a simple new users questionnaire.

         Please note that the sequence ^W means the character ASCII code 23
         (17 hex), so make sure that your text editor can insert control
         characters inside the text file.


         13.3.1 - DORINFO1.DEF (DORINFO.BBS)
         ---------------------------------------------------------------------

         ^WDDorinfo1.Def          ; Deletes the old Dorinfo1.Def
         ^OODorinfo1.Def          ; Opens an answer file called Dorinfo1.Def
         ^WW%N                    ; Writes the board's name
         ^WW%S                    ; Writes the sysop's first name
         ^WW%s                    ; Writes the sysop's last name
         ^WIL^WWCOM0              ; If local mode, writes COM0
         ^WIR^WWCOM%P             ; If remote connection, writes COMx
         ^WW%b BAUD,N,8,1         ; Writes the connection speed and parameters
         ^WW 0
         ^WW%A                    ; Writes the user's first name
         ^WW%B                    ; Writes the user's last name
         ^WW%c                    ; Writes the user's city
         ^WW%g                    ; Writes the emulation mode
         ^PQS^WW100               ; If level = SYSOP, writes 100
         ^PXS^WW50                ; If level not SYSOP, writes 50
         ^WW%t                    ; Writes the time left for this call
         ^WW-1
         ^OQ                      ; Force the file termination

         Following is an example on how to use the previous command file to
         run an external door:

         Running an external door. Please wait ....
         ^WLDORINFO.BBS
         ^OCDOOR

         The previous file is useful when running single line systems, but if
         you are setting up a multiline system and your are using doors that
         supports task numbers in the drop file name (such as Dorinfo2.Def,
         Dorinfo3.Def, and so on), you may change the first two lines with the
         following:

         ^WDDorinfo%k.Def
         ^OODorinfo%k.Def

         The %k sequence will be replaced with the current task number, so
         that each running line will create a differente drop file, that can
         be used as follows:




                                          168                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         Running an external door. Please wait ....
         %WLDORINFO.BBS
         %OCDOOR -cDorinfo%k.Def

         Inside the MISC directory you should find the command files to create
         the CALLINFO.BBS (CALLINFO.BBS) and DOOR.SYS (DOORSYS.BBS) drop
         files.


         13.3.2 - New users questionnaire
         ---------------------------------------------------------------------

         The following command sequence can be save in a file named
         NEWUSER2.BBS so that it will be displayed at the first call of each
         user.

         ^OOANSWER.TXT
         ^OP
         Write your real name: ^ONRealname
         Address: ^ONAddress
         ZIP, City: ^ONZipCity
         Country: ^ONCountry
         Voice phone number: ^ONVoicephone
         Sex (M/F): ^ONSex
         Where did you hear about this board?
         ^ONWhere
         What are your interests and hobbies?
         ^ONHobby
         ^OQ




























                                          169                                        -     -


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95



         Index
         =====================================================================


         1         1         1

         1.0 - Introduction .................................................2
         1.1 - Main features ................................................3
         1.2 - Multiline systems ............................................5
         1.3 - The compressed message base ................................  6                                                                           ..
         1.4 - Acknowledgements .............................................9
         1.5 - Credits .....................................................10
         10.0 - The Terminal Emulator ................................     116                                                                      .....
         10.1 - The dialing directory ................................     118                                                                      .....
         11.0 - Miscellaneous .............................................120
         11.1 - Keyboard commands .........................................120
         11.1.1 - Waiting for a call ......................................120
         11.1.2 - User online .............................................121
         11.1.3 - Terminal emulator .......................................122
         11.2 - Command line ..............................................124
         11.3 - External support files ................................    126                                                                       ....
         11.4 - Embedded commands .........................................132
         11.4.1 - Single commands .........................................132
         11.4.2 - Compound commands with ?F ...............................135
         11.4.3 - Compound commands with ^K ...............................138
         11.4.4 - Compound commands with ^O ...............................140
         11.4.5 - AVATAR commands .........................................142
         11.4.6 - Compound commands with ^W ...............................144
         11.4.7 - Compound commands with ^P ...............................147
         11.4.8 - RPN commands (compound commands with ^R) ................148
         11.5 - Events definitions ........................................155
         11.5.1 - Events editing ..........................................155
         11.6 - Echomail/Netmail routing commands .........................158
         12.0 - Explaining the terminology ................................160
         12.1 - The Nodelist ..............................................160
         12.1.1 - Hosts and hubs ..........................................161
         12.1.2 - Points and pointlists ...................................161
         12.2 - Modems and FOSSIL drivers .................................163
         12.3 - The TIC processor .........................................165
         13.0 - Examples ..................................................166
         13.1 - Routing examples ..........................................166
         13.1.1 - Single point configuration ..............................166
         13.1.2 - Multiple point configuration ............................166
         13.1.3 - Hub configuration .......................................166
         13.2 - Sample batch files ........................................167
         13.3 - Sample external files ................................     168                                                                      .....
         13.3.1 - DORINFO1.DEF (DORINFO.BBS) ..............................168
         13.3.2 - New users questionnaire ................................ 169                                                                          .

         2         2         2

         2.0 - User's License ..............................................11
         2.1 - Registration ................................................12



                                          170 -                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         2.2 - Registration fees ...........................................13
         2.3 - Registration form ...........................................14
         2.4 - Support and registration sites ..............................15
         2.4.1 - Getting support ...........................................16

         3         3         3

         3.0 - Installation ................................................18
         3.1 - Upgrade from previous versions ..............................19
         3.2 - Package contents ............................................20

         4         4         4

         4.0 - Configuration ...............................................22
         4.1 - File ........................................................22
         4.2 - Global ......................................................26
         4.3 - Mailer ......................................................30
         4.4 - BBS .........................................................40
         4.5 - Terminal ....................................................53
         4.6 - Modem .......................................................55
         4.7 - Manager .....................................................58

         5         5         5

         5.0 - Message area configuration ................................  63                                                                          ..
         5.1 - Message area parameters ................................     63                                                                       .....

         6         6         6

         6.0 - File area configuration ................................     66                                                                       .....
         6.1 - File area parameters ........................................67

         7         7         7

         7.0 - Menu configuration ..........................................70
         7.1 - Menu types ..................................................76
         7.1.1 - Moving between menus ......................................76
         7.1.10 - Other commands ...........................................95
         7.1.2 - Message Areas .............................................78
         7.1.3 - File areas ................................................80
         7.1.4 - Users configuration .......................................83
         7.1.5 - Line editor ...............................................86
         7.1.6 - Personal mail .............................................88
         7.1.7 - Multiline chat ............................................89
         7.1.8 - Offline reader ............................................90
         7.1.9 - Built-in doors ............................................92

         8         8         8

         8.0 Areafix and Raid functions ................................   101                                                                        ...
         8.1 Areafix function usage .......................................101
         8.2 Raid function usage ..........................................103





                                              -                                          171                                        - 


             LoraBBS v2.40 - Copyright 1989-95 Marco Maccaferri - 02/05/95


         9         9         9

         9.0 - External programs ..........................................105
         9.1 - LMSG Message area maintenance ..............................105
         9.2 - LUSER Users maintenance ....................................108
         9.3 - LTOP Users statistics ......................................109
         9.4 - FILEIDX File request index ............................110; 114
         9.6 - External door support ......................................111
         9.6.1 - L2WORLD External door interface ..........................112
















































                                          172 -                                        - 
